(this["webpackJsonpintegrated-quest-app-fe"]=this["webpackJsonpintegrated-quest-app-fe"]||[]).push([[0],{120:function(e,t,n){e.exports={text:"Login_text__12Ijz",linkButton:"Login_linkButton__2wzAJ"}},121:function(e,t,n){e.exports={progressContainer:"Progress_progressContainer__2BKbK",progress:"Progress_progress__-ageR"}},122:function(e,t,n){e.exports={contactButton:"Contact_contactButton__Suogb",contactFooter:"Contact_contactFooter__11-xf"}},123:function(e,t,n){e.exports={taskText:"Task_taskText__3LsLN",teamTaskText:"Task_teamTaskText__3wpT2"}},124:function(e,t,n){e.exports={title:"ReceivedInventories_title__2wEnx",message:"ReceivedInventories_message__1w4IV"}},17:function(e,t,n){e.exports={accordion:"Accordion_accordion__359XQ",accordionPanel:"Accordion_accordionPanel__gexjr",mission:"Accordion_mission__1WpcN",collapsed:"Accordion_collapsed__3MNub",header:"Accordion_header__9wOqy",headerLeft:"Accordion_headerLeft__2EFSc",status:"Accordion_status__hFjY_",icon:"Accordion_icon__mFPRb",checkedIcon:"Accordion_checkedIcon__2Dsmg",uncheckedIcon:"Accordion_uncheckedIcon__1-MlZ",collapsedUncheckedIcon:"Accordion_collapsedUncheckedIcon__1zgsG",title:"Accordion_title__UdhiQ",hidden:"Accordion_hidden__3lGPL",arrowIcon:"Accordion_arrowIcon__1ZKRQ",collapsedArrowIcon:"Accordion_collapsedArrowIcon__zkVsz",content:"Accordion_content__DFumj"}},191:function(e,t,n){e.exports={label:"Label_label__-Q2Ec"}},192:function(e,t,n){e.exports={avatarList:"AvatarSelector_avatarList__TRGdY"}},193:function(e,t,n){e.exports={personIcon:"Personalize_personIcon__1OdHj"}},194:function(e,t,n){e.exports={teamIcon:"TeamComposition_teamIcon__3wWXf"}},195:function(e,t,n){e.exports={pageText:"SroryScreen_pageText__1i3w6"}},196:function(e,t,n){},197:function(e,t,n){e.exports={rateButton:"FinalPage_rateButton__3fon5"}},214:function(e,t){},216:function(e,t){},226:function(e,t){},228:function(e,t){},25:function(e,t,n){e.exports={screen:"Screen_screen__2uJH5",headerContainer:"Screen_headerContainer__3aY5G",header:"Screen_header__3xIOM",backIcon:"Screen_backIcon__1ZUXs",contentContainer:"Screen_contentContainer__1OTd9",content:"Screen_content__2dtTO",footerContainer:"Screen_footerContainer__1oCNZ",footer:"Screen_footer__31-vm",footerCentered:"Screen_footerCentered__1QxIS",withoutHeader:"Screen_withoutHeader__5Apxr",footerWithGradient:"Screen_footerWithGradient__3vBty",footerWithActions:"Screen_footerWithActions__184kk"}},255:function(e,t){},256:function(e,t){},261:function(e,t){},263:function(e,t){},270:function(e,t){},289:function(e,t){},29:function(e,t,n){e.exports={spinner:"Spinner_spinner__3aH9W",hiddenSpinner:"Spinner_hiddenSpinner__11yS6",rings:"Spinner_rings__3SHlZ",ring:"Spinner_ring__20ERF",ringAnimation:"Spinner_ringAnimation__2ZvCu",ring1:"Spinner_ring1__1hz37",ring2:"Spinner_ring2__1tsve",ring3:"Spinner_ring3__1R5sb"}},30:function(e,t,n){e.exports={header:"Mission_header__10j8s",headerActions:"Mission_headerActions__3zhqv",taskButton:"Mission_taskButton__1j7S1",taskButtonIcon:"Mission_taskButtonIcon__1NF2t",prevTaskButton:"Mission_prevTaskButton__-Zmqq",missionContent:"Mission_missionContent__28wio",missionFooter:"Mission_missionFooter__MPduP"}},34:function(e,t,n){e.exports={inventoryList:"InventoryList_inventoryList__19x9X",noInventoryMessage:"InventoryList_noInventoryMessage__3tbP6",inventoryWrapper:"InventoryList_inventoryWrapper__P_3RA",inventoryItems:"InventoryList_inventoryItems__tdEUe",inventoryPlaceholder:"InventoryList_inventoryPlaceholder__3u67c",inventoryItem:"InventoryList_inventoryItem__tewi_"}},345:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var a,r=n(1),i=n.n(r),o=n(189),s=n.n(o),c=n(22),l=n(14),u=n(348),d=n(89),m=n(0),j=new u.a,h=function(e){var t=e.history,n=e.children;return Object(m.jsx)(l.c,{history:t,children:Object(m.jsx)(d.a,{client:j,children:n})})},f=n(6);!function(e){e.Game="/game",e.Home="/game/home",e.Profile="/game/profile",e.ProfileChangeAvatar="/game/profile/change_avatar",e.ProfileTeam="/game/profile/team",e.Contact="/game/contact",e.OnboardingPersonalize="/game/onboarding/personalize",e.OnboardingTeam="/game/onboarding/team",e.OnboardingCheckIn="/game/onboarding/checkin",e.OnboardingMainStory="/game/onboarding/main_story",e.Handbook="/game/onboarding/handbook",e.Mission="/game/mission",e.MissionCompleted="/game/mission_completed",e.MissionStory="/game/mission_story",e.VrTask="/game/vr_task",e.ArTask="/game/ar_task",e.InventoryDetails="/game/inventory_details",e.ReceivedInventories="/game/received_inventories",e.FinalStory="/game/finishing/final_story",e.FinalPage="/game/finishing/final_page",e.FinalEvent="/game/finishing/final_event",e.Login="/game/login",e.Signup="/game/signup"}(a||(a={}));var b,p=[a.Home,a.Profile,a.ProfileChangeAvatar,a.ProfileTeam,a.Contact,a.OnboardingPersonalize,a.OnboardingTeam,a.OnboardingCheckIn,a.OnboardingMainStory,a.Mission,a.MissionCompleted,a.MissionStory,a.VrTask,a.ArTask,a.InventoryDetails,a.ReceivedInventories,a.FinalStory,a.FinalPage,a.FinalEvent],v=n(11),g=function(e){var t=e.children,n=e.to;return Object(m.jsx)(v.a,{to:n,children:t})},O=n(7),x=n.n(O),y=["title","titleId"];function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k(e,t){var n=e.title,a=e.titleId,i=w(e,y);return r.createElement("svg",_({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,b||(b=r.createElement("path",{d:"M14 1.41L12.59 0 7 5.59 1.41 0 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7 14 1.41z"})))}var C,S=r.forwardRef(k),I=(n.p,n(64)),T=n.n(I),N=function(e){var t=e.title,n=e.icon,a=e.onClose,r=e.additionalClasses;return Object(m.jsxs)("div",{className:x()(T.a.titleContainer,r),children:[n&&Object(m.jsx)("div",{className:T.a.icon,children:n}),Object(m.jsx)("div",{className:T.a.title,children:t}),!!a&&Object(m.jsx)("button",{className:T.a.closeButton,onClick:a,children:Object(m.jsx)(S,{className:T.a.closeIcon})})]})},P=n(4),F=n(76),A=n.n(F);!function(e){e[e.Main=0]="Main",e[e.Secondary=1]="Secondary",e[e.Dark=2]="Dark"}(C||(C={}));var M,E=function(e){var t,n=e.title,a=e.onClick,r=e.type,i=e.additionalClasses;return Object(m.jsx)("button",{className:x()(A.a.button,i,(t={},Object(P.a)(t,A.a.main,r===C.Main),Object(P.a)(t,A.a.secondary,r===C.Secondary),Object(P.a)(t,A.a.dark,r===C.Dark),t)),onClick:a,children:n})},B=n(65),L=n.n(B),H=function(e){var t=e.children,n=e.name,a=e.checked,i=e.onChange,o=e.isValid,s=void 0===o||o,c=e.additionalClasses,l=Object(r.useState)(!s),u=Object(f.a)(l,2),d=u[0],j=u[1];Object(r.useEffect)((function(){return j(!s)}),[s]);return Object(m.jsxs)("label",{className:x()(L.a.checkboxContainer,c),htmlFor:"id_".concat(n),children:[Object(m.jsx)("input",{className:L.a.nativeCheckbox,type:"checkbox",id:"id_".concat(n),name:n,checked:a,onChange:function(e){i&&i(e),j(!1)}}),Object(m.jsx)("span",{className:x()(L.a.checkbox,Object(P.a)({},L.a.hasErrors,d))}),Object(m.jsx)("span",{className:L.a.label,children:t})]})},V=["title","titleId"];function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z(e,t){var n=e.title,a=e.titleId,i=R(e,V);return r.createElement("svg",D({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,M||(M=r.createElement("path",{d:"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7z"})))}var U,G=r.forwardRef(z),W=(n.p,n(61)),Q=n(25),q=n.n(Q),Z=function(e){var t,n=e.children,a=e.withoutHeader,r=void 0!==a&&a,i=e.footerWithGradient,o=void 0!==i&&i,s=e.footerWithActions,c=void 0!==s&&s,l=e.isFetching,u=void 0!==l&&l;return Object(m.jsxs)("div",{className:x()(q.a.screen,(t={},Object(P.a)(t,q.a.withoutHeader,r),Object(P.a)(t,q.a.footerWithGradient,o),Object(P.a)(t,q.a.footerWithActions,c),t)),children:[n,Object(m.jsx)(W.a,{isLoading:u})]})};Z.Header=function(e){var t=e.backTo,n=e.onBack,a=e.children,r=Object(l.g)();return Object(m.jsx)("div",{className:q.a.headerContainer,children:Object(m.jsxs)("div",{className:q.a.header,children:[(t||n)&&Object(m.jsx)(G,{className:q.a.backIcon,onClick:function(){n&&n(),t&&r.push(t)}}),a]})})},Z.Content=function(e){var t=e.children,n=e.additionalClasses;return Object(m.jsx)("div",{className:q.a.contentContainer,children:Object(m.jsx)("div",{className:x()(q.a.content,n),children:t})})},Z.Footer=function(e){var t=e.children,n=e.centered,a=void 0!==n&&n,r=e.additionalClasses;return Object(m.jsx)("div",{className:q.a.footerContainer,children:Object(m.jsx)("div",{className:x()(q.a.footer,r,Object(P.a)({},q.a.footerCentered,a)),children:t})})};var Y=["title","titleId"];function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J(e,t){var n=e.title,a=e.titleId,i=X(e,Y);return r.createElement("svg",K({width:20,height:10,viewBox:"0 0 20 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,U||(U=r.createElement("path",{d:"M10.5416 3.33333C9.85831 1.39167 8.00831 0 5.83331 0C3.07498 0 0.833313 2.24167 0.833313 5C0.833313 7.75833 3.07498 10 5.83331 10C8.00831 10 9.85831 8.60833 10.5416 6.66667H14.1666V10H17.5V6.66667H19.1666V3.33333H10.5416ZM5.83331 6.66667C4.91665 6.66667 4.16665 5.91667 4.16665 5C4.16665 4.08333 4.91665 3.33333 5.83331 3.33333C6.74998 3.33333 7.49998 4.08333 7.49998 5C7.49998 5.91667 6.74998 6.66667 5.83331 6.66667Z",fill:"white"})))}var $,ee=r.forwardRef(J),te=(n.p,n(350)),ne=n(40),ae=n.n(ne),re=n(47),ie=n.n(re),oe="access_token",se="refresh_token",ce="user_id",le=function(e,t){var n=ie.a.AES.encrypt(e.accessToken,oe).toString(),a=ie.a.AES.encrypt(e.refreshToken,se).toString();if(t){ae.a.set(oe,n,{expires:5}),ae.a.set(se,a,{expires:5});try{e.userId&&window.localStorage.setItem(ce,e.userId)}catch(r){}}else try{window.sessionStorage.setItem(oe,n),window.sessionStorage.setItem(se,a),e.userId&&window.sessionStorage.setItem(ce,e.userId)}catch(r){}},ue=function(){var e=null;try{(e=ae.a.get(oe))||(e=window.sessionStorage.getItem(oe))}catch(t){}return e?ie.a.AES.decrypt(e,oe).toString(ie.a.enc.Utf8):null},de=function(){var e=window.localStorage.getItem(ce);return e||(e=window.sessionStorage.getItem(ce)),e},me=function(){window.sessionStorage.removeItem(oe),window.sessionStorage.removeItem(se),ae.a.remove(oe),ae.a.remove(se)},je="is-registered",he=n(8),fe=n.n(he),be=function(e){return fe.a.get("/login",{headers:{Authorization:"Basic ".concat(btoa("".concat(e.email.trim(),":").concat(e.password)))}}).then((function(e){var t=e.data;return ve(t)})).catch((function(e){throw ge(e.response.data)}))},pe=function(e){return fe.a.get("/signup",{headers:{Authorization:"Basic ".concat(btoa("".concat(e.email.trim(),":").concat(e.password.trim())))}}).then((function(e){var t=e.data;return ve(t)})).catch((function(e){throw ge(e.response.data)}))},ve=function(e){return{accessToken:e["access-token"],refreshToken:e["refresh-token"],userId:e["public-id"]}},ge=function(e){return{message:e.message,errorCode:e.error_code}},Oe=function(){var e=Object(l.g)(),t=Object(r.useState)([]),n=Object(f.a)(t,2),i=n[0],o=n[1],s=Object(te.a)(be,{onError:function(e){o([ye(e.errorCode)])}}),c=Object(te.a)(pe,{onError:function(e){o([ye(e.errorCode)])}});return{isAuthStoreFetching:s.isLoading||c.isLoading,login:function(t){o([]);var n=xe(t.credential);0===n.length?s.mutate(t.credential,{onSuccess:function(n){le(n,t.isRememberChecked),e.push(a.Game)}}):o(n)},signup:function(t){o([]);var n=xe(t.credential);t.isPolicyChecked||n.push({field:"policy",message:"Read and agree with privacy policy before sign in"}),0===n.length?c.mutate(t.credential,{onSuccess:function(n){le(n,t.isRememberChecked),function(){try{window.localStorage.setItem(je,"true")}catch(e){}}(),e.push(a.Game)}}):o(n)},errors:i}},xe=function(e){var t=[];0===e.email.trim().length&&t.push({field:"email",message:"Please enter email/login code"});var n=e.password.trim();return 0===n.length?t.push({field:"password",message:"Please enter password"}):n.length<8&&t.push({field:"password",message:"Password must contain at least 8 characters."}),t},ye=function(e){switch(e){case 2:return{field:"incorrectEmail",message:""};case 3:return{field:"email",message:"Please sing up"};case 4:return{field:"password",message:"Incorrect password"};case 5:return{field:"email",message:"Already signed up. Please login"};default:return{field:"email",message:"Something wrong"}}},_e=n(77),we=n.n(_e);!function(e){e[e.error=0]="error",e[e.warning=1]="warning",e[e.info=2]="info"}($||($={}));var ke,Ce=function(e){var t,n=e.type,a=e.children;return Object(m.jsx)("div",{className:x()(we.a.message,(t={},Object(P.a)(t,we.a.error,n===$.error),Object(P.a)(t,we.a.warning,n===$.warning),Object(P.a)(t,we.a.info,n===$.info),t)),children:a})},Se=n(191),Ie=n.n(Se),Te=function(e){var t=e.label,n=e.htmlFor;return Object(m.jsx)("label",{className:Ie.a.label,htmlFor:n,children:t})},Ne=["title","titleId"];function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ae(e,t){var n=e.title,a=e.titleId,i=Fe(e,Ne);return r.createElement("svg",Pe({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ke||(ke=r.createElement("path",{d:"M12 7C14.76 7 17 9.24 17 12C17 12.65 16.87 13.26 16.64 13.83L19.56 16.75C21.07 15.49 22.26 13.86 22.99 12C21.26 7.61 16.99 4.5 11.99 4.5C10.59 4.5 9.25 4.75 8.01 5.2L10.17 7.36C10.74 7.13 11.35 7 12 7ZM2 4.27L4.28 6.55L4.74 7.01C3.08 8.3 1.78 10.02 1 12C2.73 16.39 7 19.5 12 19.5C13.55 19.5 15.03 19.2 16.38 18.66L16.8 19.08L19.73 22L21 20.73L3.27 3L2 4.27ZM7.53 9.8L9.08 11.35C9.03 11.56 9 11.78 9 12C9 13.66 10.34 15 12 15C12.22 15 12.44 14.97 12.65 14.92L14.2 16.47C13.53 16.8 12.79 17 12 17C9.24 17 7 14.76 7 12C7 11.21 7.2 10.47 7.53 9.8ZM11.84 9.02L14.99 12.17L15.01 12.01C15.01 10.35 13.67 9.01 12.01 9.01L11.84 9.02Z"})))}var Me,Ee=r.forwardRef(Ae),Be=(n.p,["title","titleId"]);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ve(e,t){var n=e.title,a=e.titleId,i=He(e,Be);return r.createElement("svg",Le({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Me||(Me=r.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"})))}var De,Re,ze=r.forwardRef(Ve),Ue=(n.p,n(41)),Ge=n.n(Ue),We=function(e){var t,n=e.type,a=void 0===n?"text":n,i=e.inputRef,o=e.value,s=e.onChange,c=e.onBlur,l=e.placeholder,u=e.label,d=e.name,j=e.isValid,h=void 0===j||j,b=e.disabled,p=void 0!==b&&b,v=e.addonAfter,g=e.additionalClasses,O=Object(r.useState)(!1),y=Object(f.a)(O,2),_=y[0],w=y[1],k=_?ze:Ee;return Object(m.jsxs)(m.Fragment,{children:[u&&Object(m.jsx)(Te,{htmlFor:"id_".concat(d),label:u}),Object(m.jsxs)("div",{className:x()(Ge.a.inputContainer,g),children:[Object(m.jsx)("input",{className:x()(Ge.a.textInput,(t={},Object(P.a)(t,Ge.a.hasErrors,!h),Object(P.a)(t,Ge.a.disabled,p),Object(P.a)(t,Ge.a.password,"password"===a),t)),ref:i,value:o,onChange:function(e){s&&s(e)},onBlur:function(e){c&&c(e)},type:_?"text":a,placeholder:l,disabled:p,id:"id_".concat(d)}),"password"===a&&Object(m.jsx)(k,{onClick:function(){return w((function(e){return!e}))},className:Ge.a.passwordIcon}),v&&Object(m.jsx)("div",{className:Ge.a.addonAfter,children:v})]})]})},Qe=function(e){var t=e.errors,n=e.email,a=e.onEmailChange,i=e.password,o=e.passwordTitle,s=e.onPasswordChange,c=Object(r.useCallback)((function(e){a(e.target.value)}),[a]),l=Object(r.useCallback)((function(e){s(e.target.value)}),[s]);return Object(m.jsxs)(m.Fragment,{children:[t.length>0&&Object(m.jsx)(Ce,{type:$.error,children:t.map((function(e,t){var n=e.message;return"incorrectEmail"===e.field?Object(m.jsxs)("div",{children:['Welcome to "The Quest\u201c - an online game&training app for individual evolution and team cohesion. And fun, of course!',Object(m.jsx)("br",{}),"Your email is not included in the list of participants.",Object(m.jsx)("br",{}),"When you feel it's time to take your team to the next level you can learn more about the game and how to participate here the ",Object(m.jsx)("a",{href:"https://thequest.one/future",className:"inheritLink",target:"_blank",rel:"noreferrer",children:"https://thequest.one/future"}),Object(m.jsx)("br",{}),"Alternatively, you (or someone from HR) can drop us an email at ",Object(m.jsx)("a",{href:"mailto:hello@thequest.one",className:"inheritLink",target:"_blank",rel:"noreferrer",children:"hello@thequest.one"})," and we'll take the mission from there.",Object(m.jsx)("br",{}),"Thanks!"]}):Object(m.jsx)("span",{children:n},t)}))}),Object(m.jsx)(We,{value:n,onChange:c,label:"Email/Login code",name:"email",isValid:!t.find((function(e){return"email"===e.field})),additionalClasses:"verticalSpace"}),Object(m.jsx)(We,{value:i,onChange:l,type:"password",label:o,name:"password",isValid:!t.find((function(e){return"password"===e.field})),additionalClasses:"verticalSpace"})]})},qe=n(120),Ze=n.n(qe),Ye=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),s=Object(f.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(f.a)(u,2),j=d[0],h=d[1],b=Oe(),p=b.login,v=b.errors,O=b.isAuthStoreFetching,x=Object(r.useCallback)((function(){p({credential:{email:n,password:c},isRememberChecked:j})}),[n,j,p,c]);return Object(m.jsxs)(Z,{footerWithGradient:!0,isFetching:O,children:[Object(m.jsx)(Z.Header,{children:Object(m.jsx)(N,{title:"Log In",icon:Object(m.jsx)(ee,{})})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)(Qe,{errors:v,email:n,onEmailChange:function(e){return i(e)},password:c,passwordTitle:"Password",onPasswordChange:function(e){return l(e)}}),Object(m.jsx)(H,{checked:j,onChange:function(e){return h(e.target.checked)},name:"remember",additionalClasses:"verticalSpace",children:"Remember me on this device"}),Object(m.jsxs)("p",{className:Ze.a.text,children:["If you forgot your password please contact ",Object(m.jsx)("button",{className:Ze.a.linkButton,onClick:function(){return window.open("https://t.me/helpforce1")},children:"https://t.me/helpforce1"})]}),Object(m.jsx)(g,{to:a.Signup,children:"Don't have an account yet?"})]}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(E,{title:"Login",onClick:x,type:C.Main})})]})},Ke=n(90),Xe=n.n(Ke),Je=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),s=Object(f.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(f.a)(u,2),j=d[0],h=d[1],b=Object(r.useState)(!1),p=Object(f.a)(b,2),v=p[0],O=p[1],x=Oe(),y=x.signup,_=x.errors,w=x.isAuthStoreFetching,k=Object(r.useCallback)((function(){y({credential:{email:n,password:c},isPolicyChecked:j,isRememberChecked:v})}),[n,j,v,c,y]);return Object(m.jsxs)(Z,{footerWithGradient:!0,isFetching:w,children:[Object(m.jsx)(Z.Header,{children:Object(m.jsx)(N,{title:"Sign Up",icon:Object(m.jsx)(ee,{})})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)(Qe,{errors:_,email:n,onEmailChange:function(e){return i(e)},password:c,passwordTitle:"Create Password",onPasswordChange:function(e){return l(e)}}),Object(m.jsx)(g,{to:a.Login,children:"Already have an account?"}),Object(m.jsxs)("div",{className:Xe.a.additionalInfo,children:[Object(m.jsxs)(H,{checked:j,onChange:function(e){return h(e.target.checked)},name:"policy",isValid:!_.find((function(e){return"policy"===e.field})),additionalClasses:Xe.a.info,children:["Agree with ",Object(m.jsx)("a",{href:"https://thequest.one/privacy-policy/",target:"_blank",rel:"noreferrer",children:"Privacy Policy"})]}),Object(m.jsx)(H,{checked:v,onChange:function(e){return O(e.target.checked)},name:"remember",additionalClasses:Xe.a.info,children:"Remember me on this device"})]})]}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(E,{title:"Sign Up",onClick:k,type:C.Main})})]})},$e=n(125),et=n(349),tt=n(21),nt=n.n(tt);!function(e){e[e.NotStarted=0]="NotStarted",e[e.Solved=1]="Solved",e[e.InProgress=2]="InProgress",e[e.Future=3]="Future"}(De||(De={})),function(e){e.Vr="vr_gallery",e.Ar="ar_video_on_marker",e.Image="image",e.Text="text",e.TextAndImage="text_and_image",e.Url="text_url",e.Video="video"}(Re||(Re={}));var at,rt=function(){return fe.a.get("/self").then((function(e){var t=e.data;return lt(t)})).catch((function(e){throw e.response.data}))},it=function(e){var t=e.key,n=e.value,a="boolean"===typeof n?"value_bool":"value_str";return fe.a.patch("/self",Object(P.a)({key:t},a,n)).catch((function(e){throw e.response.data}))},ot=function(e){var t=e.key,n=e.value;return fe.a.patch("/self",{key:t,value_str_old:n.old,value_str:n.new}).catch((function(e){throw e.response.data}))},st=function(){return fe.a.get("/games/self/final-questionaire").then((function(e){return e.data.questionnaire_url})).catch((function(e){throw e.response.data}))},ct=function(){return fe.a.patch("/self",{key:"final_page_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},lt=function(e){return{gameName:e.game_name,avatarUrl:e.avatar,isProfileCreated:e.profile_set,isBotConnected:e.bot_connected,isHandbookViewed:e.handbook_viewed,isMainStoryViewed:e.main_story_viewed,isFinalStoryViewed:e.final_story_viewed,isFinalPageViewed:e.final_page_viewed,nickname:e.nickname,email:e.email,isNickNameSet:e.nickname_set,linkToHelp:e.assistant_url,linkToBot:e.bot_chat_url,currentDayNumber:e.day_number,finalEventStartTime:e.final_event_start_time&&nt()(e.final_event_start_time),days:e.days?e.days.map((function(t,n){return{isDailyStoryViewed:t.day_story_viewed,isPasscodeEntered:t.passcode_entered,status:ut(t,n+1,e.day_number),startTime:t.begin_daytime&&nt()(t.begin_daytime),dayNumber:n+1,totalTasks:t.total_tasks,progress:dt(t.total_tasks,t.solved_tasks),isTeamTaskCompletionViewed:t.team_task_completion_viewed,inventoryItems:t.inventory_items?t.inventory_items.map((function(a){return{isAvailable:a.available,isUsed:t.team_task_solved||ut(t,n+1,e.day_number)===De.Solved,name:a.name,resource:a.resource}})):[],tasks:t.tasks?t.tasks.map((function(e){return{id:e.id,type:e.content_type,isTeamTask:e.is_team_mission,areHintsAvailable:e.wrong_answer_attempts>0&&e.hints_total_number>e.hints_used,hints:e.hints,hintsTotal:e.hints_total_number,hintsUsed:e.hints_used,resources:e.resources,isSkipped:e.skipped,isSolved:e.solved,text:e.text}})):[]}})):[]}},ut=function(e,t,n){var a=e.begin_daytime?nt()(e.begin_daytime):null;return 0===n&&1===t||a&&nt()()<a?De.NotStarted:e.team_task_solved&&n===t?!!e.tasks&&e.tasks.every((function(e){return e.solved}))?De.Solved:De.InProgress:n===t?De.InProgress:n<t?De.Future:De.Solved},dt=function(e,t){return e?Math.floor(t/e*100):0},mt={gameName:"",avatarUrl:"",isProfileCreated:!1,isBotConnected:!1,isHandbookViewed:!1,isMainStoryViewed:!1,isFinalStoryViewed:!1,isFinalPageViewed:!1,nickname:"",email:"",isNickNameSet:!1,linkToBot:"",linkToHelp:"",days:[],currentDayNumber:0,finalEventStartTime:nt()()},jt={isDailyStoryViewed:!1,isPasscodeEntered:!1,status:De.NotStarted,startTime:nt()(),dayNumber:0,tasks:[],inventoryItems:[],totalTasks:0,progress:0,isTeamTaskCompletionViewed:!1},ht=function(){var e=Object(et.a)("game",rt,{staleTime:3e4}),t=e.data;return{isGameStoreFetching:e.isFetching,gameState:t||mt,currentDay:t?t.days[0===t.currentDayNumber?0:t.currentDayNumber-1]:jt,areAllTasksSolved:!!t&&t.days.every((function(e){return e.status===De.Solved})),allInventoryItems:t?t.days.reduce((function(e,t){return[].concat(Object($e.a)(e),Object($e.a)(t.inventoryItems.filter((function(e){return e.isAvailable}))))}),[]):[]}},ft=function(){var e=Object(l.g)(),t=ht(),n=t.gameState;return t.isGameStoreFetching?Object(m.jsx)(Z,{isFetching:!0,withoutHeader:!0,children:Object(m.jsx)(Z.Content,{})}):n.isProfileCreated?n.isBotConnected?n.isHandbookViewed?n.isMainStoryViewed?(e.push(a.Home),null):(e.push(a.OnboardingMainStory),null):(e.push(a.Handbook),null):(e.push(a.OnboardingTeam),null):(e.push(a.OnboardingPersonalize),null)},bt=["title","titleId"];function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gt(e,t){var n=e.title,a=e.titleId,i=vt(e,bt);return r.createElement("svg",pt({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,at||(at=r.createElement("path",{d:"M7 7A3.332 3.332 0 107 .333 3.332 3.332 0 107 7zm0 1.667C4.775 8.667.333 9.783.333 12v1.667h13.334V12c0-2.217-4.442-3.333-6.667-3.333z"})))}var Ot,xt=r.forwardRef(gt),yt=(n.p,n(35)),_t=n.n(yt);!function(e){e[e.Round=0]="Round",e[e.RoundBig=1]="RoundBig",e[e.Square=2]="Square"}(Ot||(Ot={}));var wt,kt=function(e){var t,n,a=e.image,r=e.type,i=e.onClick,o=e.isSelected,s=void 0!==o&&o,c=e.additionalClasses;return a?Object(m.jsx)("img",{src:a,alt:"",onClick:i,className:x()(_t.a.avatar,c,(t={},Object(P.a)(t,_t.a.round,r===Ot.Round),Object(P.a)(t,_t.a.square,r===Ot.Square),Object(P.a)(t,_t.a.selected,s),t))}):Object(m.jsx)("span",{className:x()(_t.a.avatarIcon,c,(n={},Object(P.a)(n,_t.a.round,r===Ot.Round),Object(P.a)(n,_t.a.roundBig,r===Ot.RoundBig),Object(P.a)(n,_t.a.square,r===Ot.Square),n))})},Ct=function(){return fe.a.get("/resources/avatars").then((function(e){return e.data.resources})).catch((function(e){throw e.response.data}))},St=function(){var e=Object(d.b)(),t=ht(),n=t.gameState,a=t.isGameStoreFetching,r=Object(et.a)("avatars",Ct,{staleTime:1/0}),i=r.data,o=r.isFetching,s=Object(te.a)(it,{onSuccess:function(){e.invalidateQueries("game"),e.invalidateQueries("teamPlayers")}});return{isAvatarListStoreFetching:a||o||s.isLoading,avatarUrlList:i||[],currentAvatar:n.avatarUrl,changeAvatar:function(e){s.mutate({key:"avatar",value:e})}}},It=n(192),Tt=n.n(It),Nt=function(){var e=St(),t=e.avatarUrlList,n=e.currentAvatar,a=e.changeAvatar;return Object(m.jsx)("div",{className:Tt.a.avatarList,children:t.map((function(e,t){return Object(m.jsx)(kt,{image:e,type:Ot.Square,isSelected:n===e,onClick:function(){return a(e)}},t)}))})},Pt=function(){var e=Object(d.b)(),t=Object(l.g)(),n=Object(r.useState)(!1),i=Object(f.a)(n,2),o=i[0],s=i[1],c=ht(),u=c.gameState,m=c.isGameStoreFetching,j=Object(te.a)(it,{onSuccess:function(){e.invalidateQueries("game"),e.invalidateQueries("teamPlayers")}}),h=Object(te.a)(ot,{onSuccess:function(){s(!0),e.invalidateQueries("game")},onError:function(){g({field:"oldPassword",message:"Incorrect password"})}}),b=Object(r.useState)(null),p=Object(f.a)(b,2),v=p[0],g=p[1],O=function(e){var t=e.trim(),n=null;return 0===t.length?n={field:"nickname",message:"Please enter username"}:t.length>30&&(n={field:"nickname",message:"Username must be less than 30 characters"}),new Promise((function(e,a){n?a(n):e(t)}))};return{isProfileStoreFetching:m||j.isLoading||h.isLoading,email:u.email,nickname:u.nickname,changeNickname:function(e){O(e).then((function(e){g(null),j.mutate({key:"nickname",value:e})})).catch((function(e){return g(e)}))},validateNickname:O,avatar:u.avatarUrl,markProfileCreated:function(){j.mutateAsync({key:"profile_set",value:!0}).then((function(){t.push(a.Game)}))},changePassword:function(e,t,n){if(g(null),e.length<8)g({field:"oldPassword",message:"Password must contain at least 8 characters."});else{var a=t.trim();0!==a.length?a.length<8?g({field:"newPassword",message:"Password must contain at least 8 characters."}):h.mutateAsync({key:"password",value:{old:e,new:a}}).then((function(){return n()})):g({field:"newPassword",message:"Password should not be empty"})}},passwordWasChanged:o,error:v}},Ft=n(193),At=n.n(Ft),Mt=function(){var e=Object(r.useRef)(null),t=Pt(),n=t.nickname,a=t.changeNickname,i=t.validateNickname,o=t.markProfileCreated,s=t.error,c=t.isProfileStoreFetching,l=St().isAvatarListStoreFetching,u=Object(r.useState)(n),d=Object(f.a)(u,2),j=d[0],h=d[1];Object(r.useEffect)((function(){h(n)}),[n]);var b=function(){a(j)};return Object(m.jsxs)(Z,{footerWithGradient:!0,isFetching:c||l,children:[Object(m.jsx)(Z.Header,{children:Object(m.jsx)(N,{title:"Personalize",icon:Object(m.jsx)(xt,{className:At.a.personIcon})})}),Object(m.jsxs)(Z.Content,{children:[!!s&&Object(m.jsx)(Ce,{type:$.error,children:s.message}),Object(m.jsx)("form",{onSubmit:function(t){t.preventDefault(),b(),e&&e.current&&e.current.blur()},children:Object(m.jsx)(We,{value:j,inputRef:e,onChange:function(e){h(e.target.value)},onBlur:b,isValid:"nickname"!==(null===s||void 0===s?void 0:s.field),label:"Username",name:"nickname",additionalClasses:"verticalSpace"})}),Object(m.jsx)(Te,{label:"Avatar"}),Object(m.jsx)(Nt,{})]}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(E,{title:"Continue",onClick:function(){i(j).then((function(){o()})).catch((function(){}))},type:C.Main})})]})},Et=["title","titleId"];function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ht(e,t){var n=e.title,a=e.titleId,i=Lt(e,Et);return r.createElement("svg",Bt({viewBox:"0 0 20 10",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,wt||(wt=r.createElement("path",{d:"M10 5.625c1.358 0 2.558.325 3.533.75.9.4 1.467 1.3 1.467 2.275V10H5V8.658a2.47 2.47 0 011.467-2.275A8.7 8.7 0 0110 5.625zm-6.667.208C4.25 5.833 5 5.083 5 4.167 5 3.25 4.25 2.5 3.333 2.5c-.916 0-1.666.75-1.666 1.667 0 .916.75 1.666 1.666 1.666zm.942.917a5.819 5.819 0 00-.942-.083c-.825 0-1.608.175-2.316.483A1.676 1.676 0 000 8.692V10h3.75V8.658c0-.691.192-1.341.525-1.908zm12.392-.917c.916 0 1.666-.75 1.666-1.666 0-.917-.75-1.667-1.666-1.667C15.75 2.5 15 3.25 15 4.167c0 .916.75 1.666 1.667 1.666zM20 8.692c0-.675-.4-1.275-1.017-1.542a5.792 5.792 0 00-2.316-.483c-.325 0-.634.033-.942.083a3.75 3.75 0 01.525 1.908V10H20V8.692zM10 0c1.383 0 2.5 1.117 2.5 2.5S11.383 5 10 5a2.497 2.497 0 01-2.5-2.5C7.5 1.117 8.617 0 10 0z"})))}var Vt,Dt,Rt=r.forwardRef(Ht),zt=(n.p,n(66)),Ut=n.n(zt),Gt=function(e){var t=e.currentTeamName,n=e.changeTeamName,a=e.setCurrentTeamName,i=e.teamPlayers,o=e.isCurrentUserCaptain,s=e.error,c=Object(r.useRef)(null);return Object(m.jsxs)("div",{children:[!!s&&Object(m.jsx)(Ce,{type:$.error,children:s.message}),Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(t),c&&c.current&&c.current.blur()},children:Object(m.jsx)(We,{inputRef:c,value:t,onChange:function(e){a(e.target.value)},onBlur:function(){n(t)},disabled:!o,isValid:"teamName"!==(null===s||void 0===s?void 0:s.field),label:"Team Name",name:"teamName",additionalClasses:"verticalSpace"})}),i.map((function(e){var t=e.id,n=e.isCaptain,a=e.nickname,r=e.avatarUrl,i=e.email,o=e.isSignedUp;return Object(m.jsxs)("div",{className:Ut.a.player,children:[Object(m.jsx)(kt,{image:r,type:Ot.Round}),Object(m.jsxs)("div",{className:Ut.a.playerInfo,children:[Object(m.jsx)("div",{className:x()(Ut.a.nickname,Object(P.a)({},Ut.a.isNotSignedUp,!o)),children:"".concat(a).concat(n?" - Captain":"")}),Object(m.jsx)("div",{className:Ut.a.email,children:i})]})]},t)}))]})},Wt=function(){return fe.a.get("/teams/self").then((function(e){var t=e.data;return Qt(t)})).catch((function(e){throw e.response.data}))},Qt=function(e){return{name:e.name,days:e.days?e.days.map((function(e){return{isTeamMissionSolved:e.daily_mission_solved,totalTasks:e.total_tasks,totalTasksSolved:e.total_tasks_solved}})):[]}},qt=function(){return fe.a.get("/teams/self/players").then((function(e){var t=e.data;return Zt(t)})).catch((function(e){throw e.response.data}))},Zt=function(e){var t=e.capitan,n=t?t["public-id"]:null;return{captainId:n,players:e.players.map((function(e){return{id:e["public-id"],isCaptain:e["public-id"]===n,nickname:e.nickname,avatarUrl:e.avatar,email:e.email,chatUrl:e.chat_url,isSignedUp:e.signedup}}))}},Yt=function(e){return fe.a.patch("/teams/self",{key:e.key,value_str:e.value}).catch((function(e){throw e.response.data}))},Kt=function(){var e=Object(d.b)(),t=Object(r.useState)(null),n=Object(f.a)(t,2),a=n[0],i=n[1],o=Object(et.a)("team",Wt,{staleTime:3e4}),s=o.data,c=o.isFetching,l=Object(et.a)("teamPlayers",qt,{staleTime:1/0}),u=l.data,m=l.isFetching,j=Object(te.a)(Yt,{onSuccess:function(){return e.invalidateQueries("team")}}),h=function(e){var t=e.trim(),n=null;return 0===t.length&&(n={field:"teamName",message:"Team name should not be empty"}),t.length>30&&(n={field:"teamName",message:"Team name must be less than 30 characters"}),new Promise((function(e,a){n?a(n):e(t)}))};return{isTeamStoreFetching:c||m||j.isLoading,teamName:(null===s||void 0===s?void 0:s.name)||"",changeTeamName:function(e){var t=e.trim();h(t).then((function(e){i(null),j.mutate({key:"name",value:e})})).catch((function(e){i(e)}))},validateTeamName:h,teamPlayers:u?u.players:[],isCurrentUserCaptain:!u||!u.captainId||u.captainId===de(),error:a}},Xt=n(194),Jt=n.n(Xt),$t=function(){var e=Object(l.g)(),t=Kt(),n=t.teamName,i=t.changeTeamName,o=t.validateTeamName,s=t.teamPlayers,c=t.isCurrentUserCaptain,u=t.error,d=t.isTeamStoreFetching,j=Object(r.useState)(""),h=Object(f.a)(j,2),b=h[0],p=h[1];Object(r.useEffect)((function(){p(n)}),[n]);return Object(m.jsxs)(Z,{footerWithGradient:!0,isFetching:d,children:[Object(m.jsx)(Z.Header,{children:Object(m.jsx)(N,{title:"Meet the team!",icon:Object(m.jsx)(Rt,{className:Jt.a.teamIcon})})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)(Ce,{type:$.warning,children:"Welcome, Awesome One. Meet your team of great people. Get in touch with them, via any appropriate means (just please do not use smoke signals as they take waaay too long and pollution is real btw!). And, first things first: come up with a cool, smart, fun name for your team! Success is created. Together!"}),Object(m.jsx)(Gt,{currentTeamName:b,changeTeamName:i,setCurrentTeamName:p,teamPlayers:s,isCurrentUserCaptain:c,error:u})]}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(E,{title:"Continue",onClick:function(){o(b).then((function(){e.push(a.OnboardingCheckIn)})).catch((function(){}))},type:C.Main})})]})},en=n(78),tn=n.n(en),nn=function(e){var t=e.mainText,n=e.additionalText,a=e.additionalClasses,r=e.icon;return Object(m.jsxs)("div",{className:x()(tn.a.content,a),children:[r&&Object(m.jsx)("span",{className:tn.a.icon,children:r}),t&&Object(m.jsx)("h2",{className:tn.a.title,children:t}),t&&Object(m.jsx)("p",{className:tn.a.text,children:n})]})},an=["title","titleId"];function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function on(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sn(e,t){var n=e.title,a=e.titleId,i=on(e,an);return r.createElement("svg",rn({viewBox:"0 0 88 88",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Vt||(Vt=r.createElement("rect",{width:88,height:88,rx:44,fill:"#FFDE89"})),Dt||(Dt=r.createElement("path",{d:"M58.666 25.667H29.334c-2.016 0-3.648 1.65-3.648 3.666l-.018 33L33 55h25.666a3.677 3.677 0 003.667-3.667v-22a3.677 3.677 0 00-3.666-3.666zm-3.666 22H33V44h22v3.667zm0-5.5H33V38.5h22v3.667zm0-5.5H33V33h22v3.667z",fill:"#1D2360"})))}var cn,ln=r.forwardRef(sn),un=(n.p,function(){var e=Object(l.g)(),t=ht(),n=t.gameState,r=t.isGameStoreFetching;return Object(m.jsxs)(Z,{footerWithGradient:!0,isFetching:r,children:[Object(m.jsx)(Z.Content,{children:Object(m.jsx)(nn,{icon:Object(m.jsx)(ln,{}),mainText:"Check In",additionalText:"Your journey has begun. Your first mission - should you choose to accept it - is to inform Mission HQ that you are ALL IN."})}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(E,{title:n.isBotConnected?"Continue":"Check-in here",onClick:function(){n.isBotConnected?e.push(a.Game):window.open(n.linkToBot)},type:C.Main})})]})}),dn=function(){return fe.a.get("/games/self/main-story").then((function(e){var t=e.data;return fn(t)})).catch((function(e){throw e.response.data}))},mn=function(){return fe.a.get("/games/self/handbook").then((function(e){var t=e.data;return fn(t)})).catch((function(e){throw e.response.data}))},jn=function(){return fe.a.get("/games/self/final-story").then((function(e){var t=e.data;return fn(t)})).catch((function(e){throw e.response.data}))},hn=function(){return fe.a.get("/games/self/final-event").then((function(e){var t=e.data;return bn(t)})).catch((function(e){throw e.response.data}))},fn=function(e){return{pages:e.pages.map((function(e){return{text:e.text,resource:e.resource_url}}))}},bn=function(e){return{text:e.text,resource:e.resource_url,externalLink:e.external_link_url}},pn=function(){return fe.a.patch("/self",{key:"viewed_main_story",value_bool:!0}).catch((function(e){throw e.response.data}))},vn=function(){return fe.a.patch("/self",{key:"handbook_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},gn=function(e){return fe.a.patch("/self/day/".concat(e),{key:"day_story_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},On=function(){return fe.a.patch("/self",{key:"final_story_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))};!function(e){e[e.Main=0]="Main",e[e.Daily=1]="Daily",e[e.Final=2]="Final",e[e.FinalEvent=3]="FinalEvent"}(cn||(cn={}));var xn,yn=function(e,t){var n=Object(d.b)(),r=Object(l.g)(),i=ht().currentDay,o=Object(et.a)("main-story",dn,{staleTime:1/0,enabled:e===cn.Main}),s=o.data,c=o.isFetching,u=Object(et.a)(["daily-story",t],(function(){return function(e){return e?fe.a.get("/games/self/daily-story/".concat(e)).then((function(e){var t=e.data;return fn(t)})).catch((function(e){throw e.response.data})):fe.a.get("/games/self/daily-story").then((function(e){var t=e.data;return fn(t)})).catch((function(e){throw e.response.data}))}(t)}),{staleTime:1/0,enabled:e===cn.Daily}),m=u.data,j=u.isFetching,h=Object(et.a)("final-story",jn,{staleTime:1/0,enabled:e===cn.Final}),f=h.data,b=h.isFetching,p=Object(et.a)("final-event",hn,{staleTime:1/0,enabled:e===cn.FinalEvent}),v=p.data,g=p.isFetching,O=Object(te.a)(pn,{onSuccess:function(){n.invalidateQueries("game"),r.push(a.Home)}}),x=Object(te.a)(gn,{onSuccess:function(){n.invalidateQueries("game"),n.invalidateQueries(["daily-story",i.dayNumber]),r.push(a.Mission)}}),y=Object(te.a)(On,{onSuccess:function(){n.invalidateQueries("game"),n.invalidateQueries("final-story"),r.push(a.Home)}});return{isStoryStoreFetching:c||j||b||g||O.isLoading||x.isLoading||y.isLoading,mainStory:s||null,dailyStory:m||null,finalStory:f||null,finalEvent:v||null,markMainDailyStoryViewed:function(){O.mutate()},markDailyStoryViewed:function(){i.dayNumber===t&&i.status!==De.Solved?x.mutate(i.dayNumber):r.push(a.Home)},markFinalViewed:function(){y.mutate()}}},_n=n(48),wn=n.n(_n),kn=function(e){var t=e.items,n=e.activeIndex,a=e.setActiveIndex,r=e.onLastItem,i=e.nextItemButtonTitle,o=e.lastItemButtonTitle;return Object(m.jsxs)("div",{className:wn.a.carouselControls,children:[Object(m.jsx)("div",{className:wn.a.carouselDots,children:t.length>1&&t.map((function(e,t){return Object(m.jsx)("div",{className:x()(wn.a.carouselDot,Object(P.a)({},wn.a.activeDot,n===t)),onClick:function(){return a(t)}},t)}))}),Object(m.jsx)("div",{className:wn.a.carouselButtons,children:Object(m.jsx)(E,{title:n===t.length-1?o:i,type:C.Main,onClick:r,additionalClasses:wn.a.carouselButton})})]})},Cn=n(195),Sn=n.n(Cn),In=function(e){var t=e.pages,n=e.isFetching,a=e.onStart,i=e.onClose,o=e.lastItemButtonTitle,s=Object(r.useState)(0),c=Object(f.a)(s,2),l=c[0],u=c[1];return Object(m.jsxs)(Z,{withoutHeader:!0,footerWithGradient:!0,isFetching:n,children:[Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)(N,{title:"Hello, Agent!",onClose:i}),t.map((function(e,t){return Object(m.jsx)(Tn,{page:e,hidden:t!==l},t)}))]}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(kn,{items:t,activeIndex:l,setActiveIndex:u,onLastItem:function(){l<t.length-1?u((function(e){return e+1})):a&&a()},nextItemButtonTitle:"Next",lastItemButtonTitle:o})})]})},Tn=function(e){var t=e.page;return e.hidden?null:Object(m.jsxs)(m.Fragment,{children:[t.resource&&Object(m.jsx)("img",{src:t.resource,className:"image",alt:""}),Object(m.jsx)("div",{className:Sn.a.pageText,children:t.text})]})},Nn=function(){var e=Object(l.g)(),t=yn(cn.Main),n=t.mainStory,r=t.markMainDailyStoryViewed,i=t.isStoryStoreFetching;return Object(m.jsx)(In,{pages:n?n.pages:[],isFetching:i,onStart:function(){r()},onClose:function(){return e.push(a.Home)},lastItemButtonTitle:"Continue"})},Pn=function(){var e=Object(l.g)(),t=ht(),n=t.gameState,r=t.isGameStoreFetching,i=function(){var e=Object(d.b)(),t=ht(),n=t.gameState,r=t.isGameStoreFetching,i=Object(l.g)(),o=Object(et.a)("handbook-story",mn,{staleTime:1/0}),s=o.data,c=o.isFetching,u=Object(te.a)(vn,{onSuccess:function(){e.invalidateQueries("game"),i.push(a.Game)}});return{isHandbookFetching:c||r||u.isLoading,handbookStory:s||null,markHandbookViewed:function(){n.isHandbookViewed?i.push(a.Home):u.mutate()}}}(),o=i.handbookStory,s=i.isHandbookFetching,c=i.markHandbookViewed;return Object(m.jsx)(In,{pages:o?o.pages:[],isFetching:s||r,onStart:function(){c()},onClose:n.isHandbookViewed?function(){return e.push(a.Home)}:void 0,lastItemButtonTitle:"Continue"})},Fn=["title","titleId"];function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Mn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function En(e,t){var n=e.title,a=e.titleId,i=Mn(e,Fn);return r.createElement("svg",An({viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,xn||(xn=r.createElement("path",{d:"M1.667 0l-.94.94L3.78 4 .727 7.06l.94.94 4-4-4-4z"})))}var Bn,Ln=r.forwardRef(En),Hn=(n.p,["title","titleId"]);function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Dn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rn(e,t){var n=e.title,a=e.titleId,i=Dn(e,Hn);return r.createElement("svg",Vn({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Bn||(Bn=r.createElement("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zM8 15l-5-5 1.41-1.41L8 12.17l7.59-7.59L17 6l-9 9z"})))}var zn,Un=r.forwardRef(Rn),Gn=(n.p,["title","titleId"]);function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Qn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qn(e,t){var n=e.title,a=e.titleId,i=Qn(e,Gn);return r.createElement("svg",Wn({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,zn||(zn=r.createElement("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var Zn,Yn=r.forwardRef(qn),Kn=(n.p,n(17)),Xn=n.n(Kn),Jn=function(e){var t=e.children;return Object(m.jsx)("div",{className:Xn.a.accordion,children:t})};!function(e){e[e.Default=0]="Default",e[e.Mission=1]="Mission"}(Zn||(Zn={}));var $n;Jn.Panel=function(e){var t,n=e.title,a=e.isExpandedByDefault,i=void 0!==a&&a,o=e.icon,s=e.status,c=e.checked,l=e.type,u=void 0===l?Zn.Default:l,d=e.children,j=Object(r.useState)(!i),h=Object(f.a)(j,2),b=h[0],p=h[1];return Object(m.jsxs)("div",{className:x()(Xn.a.accordionPanel,(t={},Object(P.a)(t,Xn.a.mission,u===Zn.Mission),Object(P.a)(t,Xn.a.collapsed,b),t)),children:[Object(m.jsxs)("div",{className:Xn.a.header,onClick:function(){return p((function(e){return!e}))},children:[Object(m.jsxs)("div",{className:Xn.a.headerLeft,children:[o?Object(m.jsx)("span",{className:Xn.a.icon,children:o}):c?Object(m.jsx)(Un,{className:Xn.a.checkedIcon}):Object(m.jsx)(Yn,{className:x()(Xn.a.uncheckedIcon,Object(P.a)({},Xn.a.collapsedUncheckedIcon,b))}),Object(m.jsx)("span",{className:Xn.a.title,children:n})]}),Object(m.jsxs)("div",{className:Xn.a.headerRight,children:[s&&Object(m.jsx)("span",{className:Xn.a.status,children:s}),Object(m.jsx)(Ln,{className:x()(Xn.a.arrowIcon,Object(P.a)({},Xn.a.collapsedArrowIcon,b))})]})]}),Object(m.jsx)("div",{className:x()(Xn.a.content,Object(P.a)({},Xn.a.hidden,b)),children:d})]})};var ea=["title","titleId"];function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function na(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aa(e,t){var n=e.title,a=e.titleId,i=na(e,ea);return r.createElement("svg",ta({viewBox:"0 0 16 21",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,$n||($n=r.createElement("path",{d:"M14 7h-1V5c0-2.76-2.24-5-5-5S3 2.24 3 5v2H2C.9 7 0 7.9 0 9v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H4.9V5c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})))}var ra,ia,oa=r.forwardRef(aa),sa=(n.p,n(79)),ca=n.n(sa),la=function(){var e=Object(l.g)(),t=Object(r.useRef)(null),n=Pt(),i=n.nickname,o=n.changeNickname,s=n.email,c=n.avatar,u=n.changePassword,d=n.error,j=n.passwordWasChanged,h=n.isProfileStoreFetching,b=Object(r.useState)(i),p=Object(f.a)(b,2),v=p[0],g=p[1],O=Object(r.useState)(""),x=Object(f.a)(O,2),y=x[0],_=x[1],w=Object(r.useState)(""),k=Object(f.a)(w,2),S=k[0],I=k[1];Object(r.useEffect)((function(){g(i)}),[i]);var T=function(){i!==v&&o(v)},P=function(){u(y,S,(function(){_(""),I("")}))},F=function(e,t){return!e||e.field!==t};return Object(m.jsxs)(Z,{isFetching:h,children:[Object(m.jsx)(Z.Header,{backTo:a.Home,children:Object(m.jsx)(N,{title:"Profile"})}),Object(m.jsxs)(Z.Content,{children:[!!d&&"nickname"===d.field&&Object(m.jsx)(Ce,{type:$.error,children:d.message}),j&&Object(m.jsx)(Ce,{type:$.warning,children:"Password was changed successfully!"}),Object(m.jsxs)("div",{className:ca.a.profileAvatarContainer,children:[Object(m.jsx)(kt,{type:Ot.Round,image:c,additionalClasses:ca.a.profileAvatar}),Object(m.jsx)(E,{title:"Change Avatar",onClick:function(){return e.push(a.ProfileChangeAvatar)},type:C.Dark})]}),Object(m.jsx)(We,{value:s,label:"Email/Login code",name:"email",disabled:!0,additionalClasses:"verticalSpace"}),Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),T(),t&&t.current&&t.current.blur()},children:Object(m.jsx)(We,{value:v,onChange:function(e){g(e.target.value)},onBlur:T,inputRef:t,label:"Username",name:"nickname",isValid:F(d,"nickname"),additionalClasses:"verticalSpace"})}),Object(m.jsx)(Jn,{children:Object(m.jsxs)(Jn.Panel,{title:"Change password",icon:Object(m.jsx)(oa,{className:ca.a.passwordIcon}),children:[!!d&&("oldPassword"===d.field||"newPassword"===d.field)&&Object(m.jsx)(Ce,{type:$.error,children:d.message}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),P()},children:[Object(m.jsx)(We,{value:y,onChange:function(e){return _(e.target.value)},type:"password",label:"Old Password",name:"oldPassword",isValid:F(d,"oldPassword"),additionalClasses:"verticalSpace"}),Object(m.jsx)(We,{value:S,onChange:function(e){return I(e.target.value)},type:"password",label:"New Password",name:"newPassword",isValid:F(d,"newPassword"),additionalClasses:"verticalSpace"}),Object(m.jsx)("div",{className:ca.a.changeButton,children:Object(m.jsx)(E,{title:"Change",onClick:P,type:C.Main})})]})]},0)})]})]})},ua=function(){var e=St().isAvatarListStoreFetching;return Object(m.jsxs)(Z,{isFetching:e,children:[Object(m.jsx)(Z.Header,{backTo:a.Profile,children:Object(m.jsx)(N,{title:"Change Avatar"})}),Object(m.jsx)(Z.Content,{children:Object(m.jsx)(Nt,{})})]})},da=n(121),ma=n.n(da),ja=function(e){var t=e.progress,n=e.additionalClasses;return Object(m.jsx)("div",{className:x()(ma.a.progressContainer,n),children:Object(m.jsx)("div",{style:{width:"".concat(ha(t),"%")},className:ma.a.progress})})},ha=function(e){return e<0?0:100<e?100:e},fa=function(){var e=Object(l.g)(),t=ht(),n=t.currentDay,i=t.isGameStoreFetching,o=Kt(),s=o.teamName,c=o.changeTeamName,u=o.validateTeamName,d=o.teamPlayers,j=o.isCurrentUserCaptain,h=o.error,b=o.isTeamStoreFetching,p=Object(r.useState)(""),v=Object(f.a)(p,2),g=v[0],O=v[1];Object(r.useEffect)((function(){O(s)}),[s]);return Object(m.jsxs)(Z,{isFetching:b||i,children:[Object(m.jsx)(Z.Header,{onBack:function(){u(g).then((function(){e.push(a.Home)})).catch((function(){}))},children:Object(m.jsx)(N,{title:"Team"})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)(ja,{progress:n.progress,additionalClasses:"verticalSpace"}),Object(m.jsx)(Gt,{currentTeamName:g,changeTeamName:c,setCurrentTeamName:O,teamPlayers:d,isCurrentUserCaptain:j,error:h})]})]})},ba=["title","titleId"];function pa(){return(pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function va(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ga(e,t){var n=e.title,a=e.titleId,i=va(e,ba);return r.createElement("svg",pa({viewBox:"0 0 88 88",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ra||(ra=r.createElement("rect",{width:88,height:88,rx:44,fill:"#FFDE89"})),ia||(ia=r.createElement("path",{d:"M42.166 47.666h-3.667c0-9.111 7.389-16.5 16.5-16.5v3.667c-7.095 0-12.833 5.739-12.833 12.834zm12.833-5.5V38.5c-5.06 0-9.166 4.106-9.166 9.166h3.666c0-3.043 2.457-5.5 5.5-5.5zM34.833 29.334a3.654 3.654 0 00-3.667-3.666 3.654 3.654 0 00-3.667 3.666A3.654 3.654 0 0031.166 33a3.654 3.654 0 003.667-3.667zm8.158.917h-3.667a5.481 5.481 0 01-5.408 4.583h-5.5a2.746 2.746 0 00-2.75 2.75v4.584h11v-4.144c3.41-1.082 5.958-4.088 6.325-7.773zm13.842 22.916a3.654 3.654 0 003.666-3.666 3.654 3.654 0 00-3.666-3.667 3.654 3.654 0 00-3.667 3.667 3.654 3.654 0 003.667 3.666zM59.583 55h-5.5a5.48 5.48 0 01-5.409-4.584h-3.666c.366 3.686 2.915 6.692 6.325 7.774v4.143h11V57.75a2.746 2.746 0 00-2.75-2.75z",fill:"#1D2360"})))}var Oa,xa=r.forwardRef(ga),ya=(n.p,n(122)),_a=n.n(ya),wa=function(){var e=ht(),t=e.gameState,n=e.isGameStoreFetching;return Object(m.jsxs)(Z,{footerWithActions:!0,isFetching:n,children:[Object(m.jsx)(Z.Header,{backTo:a.Home,children:Object(m.jsx)(N,{title:"Contact"})}),Object(m.jsx)(Z.Content,{children:Object(m.jsx)(nn,{icon:Object(m.jsx)(xa,{}),mainText:"Need help?",additionalText:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:"Sherlock got his Watson, you have us - Help Force One! Here to serve you. Need a live hint or somethings gone rogue contact our live top agents @HelpForce1."}),Object(m.jsx)("div",{children:"P.S. use contact HQ only when instructed."})]})})}),Object(m.jsxs)(Z.Footer,{additionalClasses:_a.a.contactFooter,children:[Object(m.jsx)(E,{title:"Contact HQ",type:C.Secondary,additionalClasses:_a.a.contactButton,onClick:function(){window.open(t.linkToBot)}}),Object(m.jsx)(E,{title:"Live HelpForce1",type:C.Main,onClick:function(){window.open(t.linkToHelp)}})]})]})},ka=n(36),Ca=n.n(ka);!function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(Oa||(Oa={}));var Sa,Ia=function(e){var t,n,r=e.inventory,i=e.size,o=Object(l.g)();return Object(m.jsxs)("div",{className:x()(Ca.a.inventory,(t={},Object(P.a)(t,Ca.a.used,r.isUsed),Object(P.a)(t,Ca.a.small,i===Oa.Small),Object(P.a)(t,Ca.a.large,i===Oa.Large),t)),onClick:function(){return o.push({pathname:a.InventoryDetails,state:{inventory:r}})},children:[Object(m.jsx)("img",{src:r.resource,className:x()("image",(n={},Object(P.a)(n,Ca.a.inventoryImageUsed,r.isUsed),Object(P.a)(n,Ca.a.smallImage,i===Oa.Small),Object(P.a)(n,Ca.a.largeImage,i===Oa.Large),n)),alt:""}),r.isUsed&&Object(m.jsx)(Un,{className:Ca.a.checkedIcon})]})},Ta=n(34),Na=n.n(Ta),Pa=function(e){for(var t=e.inventoryItems,n=[],a=0;a<4-t.length;a++)n.push(Object(m.jsx)("div",{className:Na.a.inventoryPlaceholder},a));return 0===t.length?Object(m.jsxs)("div",{className:Na.a.inventoryList,children:[Object(m.jsx)("div",{className:Na.a.noInventoryMessage,children:"You don\u2019t have any inventory yet"}),Object(m.jsx)("div",{className:Na.a.inventoryItems,children:n})]}):Object(m.jsx)("div",{className:Na.a.inventoryList,children:Object(m.jsx)("div",{className:Na.a.inventoryWrapper,children:Object(m.jsxs)("div",{className:Na.a.inventoryItems,children:[t.map((function(e,t){return Object(m.jsx)("div",{className:Na.a.inventoryItem,children:Object(m.jsx)(Ia,{inventory:e,size:Oa.Large})},t)})),n.length>0&&Object(m.jsx)("div",{className:Na.a.inventoryItems,children:n})]})})})},Fa=n(49),Aa=n.n(Fa),Ma=function(e){var t=e.progress,n=Object(l.g)(),r=Kt(),i=r.teamName,o=r.teamPlayers;return Object(m.jsxs)("div",{className:Aa.a.gameInfo,children:[Object(m.jsxs)("div",{className:Aa.a.teamInfo,children:[Object(m.jsxs)("div",{className:Aa.a.teamName,children:["Team: ",i]}),Object(m.jsxs)("div",{className:Aa.a.teamMembers,onClick:function(){return n.push(a.ProfileTeam)},children:[o.length," members",Object(m.jsx)(Ln,{className:Aa.a.gtIcon})]})]}),Object(m.jsx)("div",{className:Aa.a.gameProgress,children:Object(m.jsx)(ja,{progress:t})})]})},Ea=function(e){var t=e.dayNumber,n=e.answer;return fe.a.patch("/self/day/".concat(t),{key:"passcode",value_str:n}).catch((function(e){throw e.response.data}))},Ba=function(e){var t=e.dayNumber,n=e.taskId,a=e.answer;return fe.a.patch("/self/days/".concat(t,"/tasks/").concat(n),{key:"answer",value_str:a}).then((function(e){return function(e){return{correct:e.correct,inventoryItems:e.new_inventory_items}}(e.data)})).catch((function(e){throw e.response.data}))},La=function(e){var t=e.dayNumber,n=e.taskId;return fe.a.patch("/self/days/".concat(t,"/tasks/").concat(n),{key:"skipped",value_bool:!0}).then((function(e){return e.data})).catch((function(e){throw e.response.data}))},Ha=function(e){return fe.a.patch("/self/day/".concat(e),{key:"team_task_completion_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},Va=function(e){var t=e.dayNumber,n=e.taskId,a=e.hintNumber;return fe.a.get("/self/days/".concat(t,"/tasks/").concat(n,"/hints/").concat(a)).then((function(e){return e.data})).catch((function(e){throw e.response.data}))},Da=["Correct","Super Correct!","Well done!","You are right","Awesome! Fine job you did!"],Ra=["Incorrect","Think more time","Not right","Wrong answer","Absolutely wrong"],za=function(e){return e[Math.floor(Math.random()*e.length)]},Ua=function(e){var t=Object(d.b)(),n=Object(r.useState)(""),i=Object(f.a)(n,2),o=i[0],s=i[1],c=Object(l.g)(),u=ht(),m=u.currentDay,j=u.isGameStoreFetching,h=Object(r.useState)([]),b=Object(f.a)(h,2),p=b[0],v=b[1],g=Object(r.useState)(null),O=Object(f.a)(g,2),x=O[0],y=O[1],_=Object(r.useState)(e||0),w=Object(f.a)(_,2),k=w[0],C=w[1],S=Object(r.useState)(null),I=Object(f.a)(S,2),T=I[0],N=I[1],P=Object(r.useState)(null),F=Object(f.a)(P,2),A=F[0],M=F[1],E=Object(te.a)(Ea),B=Object(te.a)(Ba),L=Object(te.a)(La),H=Object(te.a)(Ha,{onSuccess:function(){t.invalidateQueries("game")}}),V=Object(te.a)(Va,{onSuccess:function(){t.invalidateQueries("game")}}),D=p.filter((function(e){return e.isSkipped})).length,R=m.tasks.filter((function(e){var t=e.isSolved,n=e.isTeamTask;return t&&!n})).length,z=1<=D,U=0!==m.totalTasks-R-p.length-1,G=!z&&U,W=k<p.length-1;Object(r.useEffect)((function(){v(m.tasks.filter((function(e){var t=e.isSolved,n=e.isTeamTask;return!t&&!n})));var e=m.tasks.filter((function(e){var t=e.isSolved,n=e.isTeamTask;return!t&&n}));e.length>0&&y(e[0])}),[m]);var Q=function(){t.invalidateQueries("game"),t.invalidateQueries("team")};return{currentTaskIndex:k,isMissionStoreFetching:j||E.isLoading||B.isLoading||L.isLoading||H.isLoading||V.isLoading,answer:o,setAnswer:s,unlockDay:function(e,n){0===n.trim().length||E.isLoading||E.mutateAsync({dayNumber:e,answer:n.trim()}).then((function(e){return e.data})).then((function(e){var t=e.correct;return N({isCorrect:t,message:za(t?Da:Ra)}),t})).then((function(e){setTimeout((function(){e?(t.invalidateQueries("game"),c.push(a.Mission)):N(null)}),3e3)}))},unlockResult:T,answerTask:function(e,t,n){0===n.trim().length||B.isLoading||B.mutateAsync({dayNumber:e,taskId:t.id,answer:n.trim()}).then((function(e){return M({isCorrect:e.correct,message:e.correct?za(Da):za(Ra)}),e.correct||Q(),e})).then((function(e){setTimeout((function(){if(e.correct){if(Q(),e.inventoryItems.length>0)return void c.push({pathname:a.ReceivedInventories,state:{inventories:e.inventoryItems}});C(0),t.isTeamTask&&c.push(a.Home)}M(null),s("")}),3e3)}))},answerTaskResult:A,currentTask:p[k]||x,isNextPrivateTaskAvailable:G||W,switchToNextTask:function(){z?C((function(e){return e+1})):L.mutateAsync({dayNumber:m.dayNumber,taskId:p[k].id}).then((function(e){e.skipped&&(t.invalidateQueries("game"),C((function(e){return e+1})))})),s(""),M(null)},isPrevPrivateTaskAvailable:p.length>1&&0!==k,switchToPrevTask:function(){C((function(e){return e-1})),s(""),M(null)},markTeamTaskCompletionViewed:function(){H.mutateAsync(m.dayNumber).then((function(){c.push(a.Home)}))},fetchHint:function(e,t,n){V.isLoading||V.mutate({dayNumber:e,taskId:t,hintNumber:n})}}},Ga=n(50),Wa=n.n(Ga),Qa=function(e){var t=e.answer,n=e.onChange,a=e.onSubmit,i=e.placeholder,o=e.answerResult,s=Object(r.useRef)(null);return Object(m.jsxs)("div",{className:Wa.a.answerContainer,children:[!!o&&Object(m.jsx)(Ce,{type:o.isCorrect?$.warning:$.error,children:o.message}),Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),a&&a(),s&&s.current&&s.current.blur()},children:Object(m.jsx)(We,{value:t,onChange:n,placeholder:i,inputRef:s,addonAfter:Object(m.jsx)("button",{className:Wa.a.answerButton,onClick:a,type:"submit",children:Object(m.jsx)(Un,{className:x()(Wa.a.answerButtonIcon,Object(P.a)({},Wa.a.correctButtonIcon,!!o&&o.isCorrect))})}),additionalClasses:x()(Wa.a.answerInput,Object(P.a)({},Wa.a.correctAnswerInput,!!o&&o.isCorrect))})})]})},qa=n(67),Za=n.n(qa),Ya=function(e){var t=e.inventoryItems.filter((function(e){return e.isAvailable}));return 0===t.length?null:Object(m.jsx)("div",{className:Za.a.inventoryItems,children:t.map((function(e,t){return Object(m.jsxs)("div",{className:Za.a.inventory,children:[Object(m.jsx)(Ia,{inventory:e,size:Oa.Small}),Object(m.jsxs)("div",{className:Za.a.inventoryInfo,children:[Object(m.jsx)("div",{className:Za.a.inventoryTitle,children:"Personal Item"}),Object(m.jsx)("div",{className:Za.a.inventoryName,children:e.name})]})]},t)}))})},Ka=n(196),Xa=n.n(Ka),Ja=function(e){var t=e.day,n=Object(l.g)(),r=Ua(),i=r.answer,o=r.setAnswer,s=r.unlockDay,c=r.unlockResult;return t.status===De.Solved?Object(m.jsxs)("div",{children:[Object(m.jsx)(Ya,{inventoryItems:t.inventoryItems}),Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",onClick:function(){return n.push({pathname:a.MissionStory,state:{dayNumber:t.dayNumber}})},type:C.Main})})]}):t.status===De.NotStarted?Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Starts at ".concat(t.startTime.format("lll")),type:C.Secondary})}):t.isPasscodeEntered?Object(m.jsxs)("div",{className:Xa.a.dayMission,children:[Object(m.jsx)(Ya,{inventoryItems:t.inventoryItems}),Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",type:C.Main,onClick:function(){return n.push(a.Mission)}})})]}):Object(m.jsx)(Qa,{answer:i,onChange:function(e){return o(e.target.value)},onSubmit:function(){return s(t.dayNumber,i)},answerResult:c,placeholder:"Type passcode..."})},$a=n(80),er=n.n($a),tr=function(){var e=Object(l.g)(),t=Pt(),n=t.avatar,r=t.isProfileStoreFetching,i=ht(),o=i.gameState,s=i.currentDay,c=i.areAllTasksSolved,u=i.allInventoryItems,d=i.isGameStoreFetching,j=Ua().isMissionStoreFetching,h=o.gameName,f=o.days,b=d||r||j,p=o.finalEventStartTime.add(2,"hours")<nt()();if(!b&&s.status===De.Solved&&!s.isTeamTaskCompletionViewed)return e.push(a.MissionCompleted),null;if(!b&&c){if(!o.isFinalStoryViewed)return e.push(a.FinalStory),null;if(!o.isFinalPageViewed&&p)return e.push(a.FinalPage),null}return Object(m.jsxs)(Z,{isFetching:b,children:[Object(m.jsx)(Z.Header,{children:Object(m.jsxs)("div",{className:er.a.header,children:[Object(m.jsx)(N,{title:h,additionalClasses:er.a.gameName}),Object(m.jsxs)("div",{className:er.a.headerActions,children:[Object(m.jsx)(E,{title:"Help",onClick:function(){return e.push(a.Contact)},type:C.Dark,additionalClasses:er.a.helpButton}),Object(m.jsx)(kt,{type:Ot.Round,onClick:function(){return e.push(a.Profile)},image:n})]})]})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)(Pa,{inventoryItems:u}),Object(m.jsxs)(Jn,{children:[Object(m.jsx)(Jn.Panel,{title:"Check In",checked:o.isBotConnected,children:Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",onClick:function(){return e.push(a.OnboardingCheckIn)},type:C.Main})})},0),Object(m.jsx)(Jn.Panel,{title:"Agent handbook",checked:o.isHandbookViewed,children:Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",onClick:function(){return e.push(a.Handbook)},type:C.Main})})},1),Object(m.jsx)(Jn.Panel,{title:"Discover the story",checked:o.isMainStoryViewed,children:Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",onClick:function(){return e.push(a.OnboardingMainStory)},type:C.Main})})},2),f.filter((function(e){return e.status!==De.Future})).map((function(e,t){return Object(m.jsx)(Jn.Panel,{title:"Mission ".concat(t+1),status:nr(e.status),type:e.status===De.InProgress||e.status===De.NotStarted?Zn.Mission:Zn.Default,isExpandedByDefault:e.status===De.InProgress||e.status===De.NotStarted,checked:e.status===De.Solved,children:Object(m.jsx)(Ja,{day:e})},t)})),c&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Jn.Panel,{title:"Discover final story",checked:o.isFinalStoryViewed,children:Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",onClick:function(){return e.push(a.FinalStory)},type:C.Main})})}),Object(m.jsx)(Jn.Panel,{title:"Final Mission",checked:p,isExpandedByDefault:!p,type:p?Zn.Default:Zn.Mission,children:Object(m.jsx)("div",{className:"centerContent",children:nt()()<o.finalEventStartTime?Object(m.jsx)(E,{title:"Starts at ".concat(o.finalEventStartTime.format("lll")),type:C.Secondary}):Object(m.jsx)(E,{title:"Enter backdoor",onClick:function(){return e.push(a.FinalEvent)},type:C.Main})})}),p&&Object(m.jsx)(Jn.Panel,{title:"Final message",checked:o.isFinalPageViewed,isExpandedByDefault:!o.isFinalPageViewed,type:o.isFinalPageViewed?Zn.Default:Zn.Mission,children:Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Continue",onClick:function(){return e.push(a.FinalPage)},type:C.Main})})})]})]})]}),Object(m.jsx)(Z.Footer,{children:Object(m.jsx)(Ma,{progress:s.progress})})]})},nr=function(e){switch(e){case De.Solved:return"Completed";case De.InProgress:return"In progress";default:return}},ar=function(){var e=Object(l.h)().state.inventory;return Object(m.jsxs)(Z,{children:[Object(m.jsx)(Z.Header,{backTo:a.Home,children:Object(m.jsx)(N,{title:"Personal Item"})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)("img",{src:e.resource,className:"image verticalSpace",alt:""}),Object(m.jsx)("div",{children:e.name})]})]})},rr=function(){return fe.a.post("/self/log-spent-time",{object:"total",amount_s:60}).catch((function(e){throw e.response.data}))};!function(e){e[e.TotalTime=0]="TotalTime",e[e.TaskTime=1]="TaskTime"}(Sa||(Sa={}));var ir,or=function(e,t){var n=Object(r.useState)(!1),a=Object(f.a)(n,2),i=a[0],o=a[1];return Object(et.a)("total-time",rr,{refetchInterval:6e4,refetchOnMount:!1,staleTime:1/0,enabled:e===Sa.TotalTime&&i}),Object(et.a)(["task-time",t],(function(){return function(e){return fe.a.post("/self/log-spent-time",{object:"task",task_id:e,amount_s:60}).catch((function(e){throw e.response.data}))}(t)}),{refetchInterval:6e4,refetchOnMount:!1,staleTime:1/0,enabled:e===Sa.TaskTime&&i}),{isTrackingEnabled:i,setIsTrackingEnabled:o}},sr=["title","titleId"];function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function lr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ur(e,t){var n=e.title,a=e.titleId,i=lr(e,sr);return r.createElement("svg",cr({viewBox:"0 0 21 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ir||(ir=r.createElement("path",{d:"M17.4 3.6C15.55 1.99 13.15 1 10.5 1 5.85 1 1.92 4.03.54 8.22L2.9 9a8.002 8.002 0 017.6-5.5c1.95 0 3.73.72 5.12 1.88L12 9h9V0l-3.6 3.6z"})))}var dr,mr,jr=r.forwardRef(ur),hr=(n.p,n(37)),fr=n.n(hr),br=function(e){var t=e.type,n=e.resources,r=e.currentTaskIndex,i=Object(l.g)();if(t===Re.Text)return null;if(t===Re.Ar)return Object(m.jsxs)(m.Fragment,{children:[n[0]&&Object(m.jsx)("div",{className:fr.a.imageWrapper,children:Object(m.jsx)("img",{src:n[0],className:"image",alt:""})}),Object(m.jsx)("div",{className:fr.a.urlButton,children:Object(m.jsx)(E,{title:"Go to AR",type:C.Main,onClick:function(){i.push({pathname:a.ArTask,state:{videoUrl:n[1],currentTaskIndex:r}})}})})]});if(t===Re.Vr)return Object(m.jsxs)(m.Fragment,{children:[n[0]&&Object(m.jsx)("div",{className:fr.a.imageWrapper,children:Object(m.jsx)("img",{src:n[0],className:"image",alt:""})}),Object(m.jsx)("div",{className:fr.a.urlButton,children:Object(m.jsx)(E,{title:"Go to VR",type:C.Main,onClick:function(){i.push({pathname:a.VrTask,state:{resources:n.slice(1),currentTaskIndex:r}})}})})]});if(t===Re.Url)return Object(m.jsx)("div",{className:fr.a.urlButton,children:Object(m.jsx)(E,{title:"Go to site",type:C.Main,onClick:function(){window.open(n[0])}})});if(t===Re.Video){var o=n[0].split("/").pop();return Object(m.jsx)("div",{className:fr.a.videoWrapper,children:Object(m.jsx)("iframe",{src:"https://player.vimeo.com/video/".concat(o,"?color=ef2200&byline=0"),title:"video",className:fr.a.videoIframe,frameBorder:0,allow:"fullscreen",allowFullScreen:!0})})}return Object(m.jsx)("div",{className:fr.a.imageWrapper,children:n[0]&&Object(m.jsx)("img",{src:n[0],className:"image",alt:""})})},pr=n(123),vr=n.n(pr),gr=function(e){var t=e.task,n=e.currentTaskIndex;return Object(m.jsxs)("div",{children:[t&&!!t.text&&Object(m.jsx)("div",{className:vr.a.taskText,children:t.text}),t&&Object(m.jsx)(br,{type:t.type,resources:t.resources,currentTaskIndex:n}),t&&t.isTeamTask&&Object(m.jsx)("div",{className:vr.a.teamTaskText,children:"1+1+1+...+1 and the job is mostly done. Now, who has one? If only you knew someone..."}),t&&t.hints.map((function(e,t){return Object(m.jsx)(Ce,{type:$.info,children:e},t)}))]})},Or=n(30),xr=n.n(Or),yr=function(){var e,t=Object(l.g)(),n=Object(l.h)(),i=ht(),o=i.currentDay,s=i.isGameStoreFetching,c=Kt(),u=c.isCurrentUserCaptain,d=c.isTeamStoreFetching,j=Ua(null===(e=n.state)||void 0===e?void 0:e.taskIndex),h=j.answer,f=j.setAnswer,b=j.currentTask,p=j.isNextPrivateTaskAvailable,v=j.isPrevPrivateTaskAvailable,g=j.switchToPrevTask,O=j.switchToNextTask,y=j.answerTaskResult,_=j.answerTask,w=j.fetchHint,k=j.isMissionStoreFetching,S=j.currentTaskIndex,I=s||d||k,T=!(null===b||void 0===b?void 0:b.isTeamTask)||u,P=or(Sa.TaskTime,null===b||void 0===b?void 0:b.id),F=P.isTrackingEnabled,A=P.setIsTrackingEnabled;if(Object(r.useEffect)((function(){F||A(!0)}),[]),!I&&o.status===De.Solved)return t.push(a.Home),null;if(!I&&!o.isDailyStoryViewed)return t.push({pathname:a.MissionStory,state:{dayNumber:o.dayNumber}}),null;return Object(m.jsxs)(Z,{isFetching:I,footerWithGradient:T,children:[Object(m.jsx)(Z.Header,{backTo:a.Home,children:Object(m.jsxs)("div",{className:xr.a.header,children:[Object(m.jsx)(N,{title:"Mission ".concat(o.dayNumber)}),Object(m.jsxs)("div",{className:xr.a.headerActions,children:[(null===b||void 0===b?void 0:b.areHintsAvailable)&&Object(m.jsx)(E,{title:"Hint",type:C.Dark,onClick:function(){return w(o.dayNumber,b.id,b.hints.length)}}),v&&Object(m.jsx)("button",{className:xr.a.taskButton,onClick:function(){g()},children:Object(m.jsx)(jr,{className:x()(xr.a.taskButtonIcon,xr.a.prevTaskButton)})}),p&&Object(m.jsx)("button",{className:xr.a.taskButton,onClick:function(){O()},children:Object(m.jsx)(jr,{className:x()(xr.a.taskButtonIcon,xr.a.nextTaskButton)})})]})]})}),Object(m.jsx)(Z.Content,{additionalClasses:xr.a.missionContent,children:Object(m.jsx)(gr,{task:b,currentTaskIndex:S})}),I||T?Object(m.jsx)(Z.Footer,{centered:!0,additionalClasses:xr.a.missionFooter,children:Object(m.jsx)(Qa,{answer:h,onChange:function(e){return f(e.target.value)},onSubmit:function(){b&&_(o.dayNumber,b,h)},answerResult:y,placeholder:"Type your answer..."})}):null]})},_r=["title","titleId"];function wr(){return(wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function kr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cr(e,t){var n=e.title,a=e.titleId,i=kr(e,_r);return r.createElement("svg",wr({viewBox:"0 0 88 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,dr||(dr=r.createElement("rect",{width:88,height:88,rx:44,fill:"#FFDE89"})),mr||(mr=r.createElement("path",{d:"M44 25.667c-10.12 0-18.334 8.213-18.334 18.333s8.213 18.333 18.333 18.333S62.333 54.12 62.333 44s-8.214-18.333-18.334-18.333zm-3.667 27.5L31.166 44l2.585-2.585 6.582 6.563 13.915-13.915 2.585 2.604-16.5 16.5z",fill:"#1D2360"})))}var Sr=r.forwardRef(Cr),Ir=(n.p,function(){var e=Ua(),t=e.markTeamTaskCompletionViewed,n=e.isMissionStoreFetching;return Object(m.jsxs)(Z,{footerWithGradient:!0,isFetching:n,children:[Object(m.jsx)(Z.Content,{children:Object(m.jsx)(nn,{icon:Object(m.jsx)(Sr,{}),mainText:"Daily mission completed!"})}),Object(m.jsx)(Z.Footer,{centered:!0,children:Object(m.jsx)(E,{title:"Continue",onClick:function(){t()},type:C.Main})})]})}),Tr=function(){var e=Object(l.g)(),t=Object(l.h)(),n=ht(),r=n.gameState,i=n.isGameStoreFetching,o=yn(cn.Daily,t.state.dayNumber),s=o.dailyStory,c=o.markDailyStoryViewed,u=o.isStoryStoreFetching,d=r.days[t.state.dayNumber-1];return Object(m.jsx)(In,{pages:s?s.pages:[],isFetching:u||i,onStart:function(){c()},onClose:function(){e.push(a.Home)},lastItemButtonTitle:(null===d||void 0===d?void 0:d.status)===De.Solved?"Continue":"Start"})},Nr=n(91),Pr=n.n(Nr),Fr=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,364))})),Ar=function(){var e=Object(l.g)(),t=Object(l.h)();return Object(m.jsx)("div",{className:Pr.a.vrTaskContainer,children:Object(m.jsxs)(r.Suspense,{fallback:Object(m.jsx)(W.a,{isLoading:!0}),children:[Object(m.jsx)("button",{className:Pr.a.closeButton,onClick:function(){e.push({pathname:a.Mission,state:{taskIndex:t.state.currentTaskIndex}})},children:Object(m.jsx)(S,{className:Pr.a.closeButtonIcon})}),Object(m.jsx)(Fr,{})]})})},Mr=n(51),Er=n.n(Mr),Br=function(){var e=Object(l.g)(),t=Object(l.h)(),n=Object(r.useState)(!1),i=Object(f.a)(n,2),o=i[0],s=i[1],c=t.state.videoUrl?t.state.videoUrl.split("/").pop():"",u="https://player.vimeo.com/video/".concat(145327714);return Object(m.jsxs)("div",{className:Er.a.arTaskContainer,children:[Object(m.jsx)(W.a,{isLoading:!o&&!!c&&c.length>0}),Object(m.jsxs)("div",{className:Er.a.arTaskFrameContainer,children:[Object(m.jsx)("button",{className:Er.a.closeButton,onClick:function(){e.push({pathname:a.Mission,state:{taskIndex:t.state.currentTaskIndex}})},children:Object(m.jsx)(S,{className:Er.a.closeButtonIcon})}),c&&c.length>0?Object(m.jsx)("iframe",{className:Er.a.arTaskFrame,title:"vr-task",src:"".concat("","/ar_task/video.html?videoSrc=").concat(u),onLoad:function(){s(!0)}}):Object(m.jsx)("div",{className:Er.a.errorMessage,children:"Error: Can not get video link"})]})]})},Lr=n(124),Hr=n.n(Lr),Vr=function(){var e=Object(l.g)(),t=Object(r.useState)(0),n=Object(f.a)(t,2),i=n[0],o=n[1],s=Object(l.h)().state.inventories,c=function(){i<s.length-1?o((function(e){return e+1})):e.push(a.Mission)};return Object(m.jsxs)(Z,{withoutHeader:!0,footerWithGradient:1===s.length,children:[Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)("div",{className:Hr.a.title,children:"Congrats!"}),Object(m.jsx)("div",{className:Hr.a.message,children:"You have just unlocked the secret to the universe. That or just an item. Either way, keep it handy, useful it will be."}),Object(m.jsx)("img",{src:s[i].resource,className:"image verticalSpace",alt:""}),s[i].name&&Object(m.jsx)("div",{children:s[i].name})]}),Object(m.jsx)(Z.Footer,{centered:!0,children:s.length>1?Object(m.jsx)(kn,{items:s,activeIndex:i,setActiveIndex:o,onLastItem:c,nextItemButtonTitle:"Next",lastItemButtonTitle:"Continue"}):Object(m.jsx)(E,{title:"Continue",type:C.Main,onClick:c})})]})},Dr=function(){var e=Object(l.g)(),t=ht().gameState,n=yn(cn.Final),r=n.finalStory,i=n.markFinalViewed,o=n.isStoryStoreFetching;return Object(m.jsx)(In,{pages:r?r.pages:[],isFetching:o,onStart:function(){i()},onClose:t.isFinalStoryViewed?function(){return e.push(a.Home)}:void 0,lastItemButtonTitle:"Continue"})},Rr=n(197),zr=n.n(Rr),Ur=function(){var e=function(){var e=Object(l.g)(),t=Object(d.b)(),n=Object(et.a)("final-questionnaire",st,{staleTime:1/0}),r=n.data,i=n.isFetching,o=Object(te.a)(ct,{onSuccess:function(){t.invalidateQueries("game"),e.push(a.Home)}});return{isQuestionnaireStoreFetching:i,feedbackForm:r||"",markFinalPageViewed:function(){o.mutate()}}}(),t=e.markFinalPageViewed,n=e.isQuestionnaireStoreFetching;return Object(m.jsxs)(Z,{footerWithActions:!0,isFetching:n,children:[Object(m.jsx)(Z.Header,{children:Object(m.jsx)(N,{title:"",onClose:t})}),Object(m.jsx)(Z.Content,{children:Object(m.jsx)(nn,{icon:Object(m.jsx)(Sr,{}),mainText:"Mission completed!",additionalText:"Today you made a piece of history. Together you are unstoppable and can create legends. Thank you!"})}),Object(m.jsx)(Z.Footer,{children:Object(m.jsx)(E,{title:"Continue",type:C.Main,additionalClasses:zr.a.rateButton,onClick:t})})]})},Gr=function(){var e=yn(cn.FinalEvent),t=e.finalEvent,n=e.isStoryStoreFetching;return t?Object(m.jsxs)(Z,{isFetching:n,children:[Object(m.jsx)(Z.Header,{backTo:a.Home,children:Object(m.jsx)(N,{title:"Final Mission"})}),Object(m.jsxs)(Z.Content,{children:[Object(m.jsx)("div",{className:"verticalSpace",children:t.text}),Object(m.jsx)("img",{src:t.resource,className:"image verticalSpace",alt:""}),Object(m.jsx)("div",{className:"centerContent",children:Object(m.jsx)(E,{title:"Go to details",type:C.Main,onClick:function(){return window.open(null===t||void 0===t?void 0:t.externalLink)}})})]})]}):null},Wr=n.p+"static/media/logo512.3c37cbc3.png",Qr=n(52),qr=n.n(Qr),Zr=function(){return Object(m.jsx)("div",{className:qr.a.install,children:Object(m.jsxs)("div",{className:qr.a.installContent,children:[Object(m.jsx)("div",{className:qr.a.icon,children:Object(m.jsx)("img",{className:qr.a.iconImg,src:Wr,alt:""})}),Object(m.jsx)("h1",{className:qr.a.title,children:"You\u2019re just two taps away."}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"For the best experience add the app to your home screen."}),Object(m.jsx)("h3",{children:"For iOS users:"}),Object(m.jsxs)("ol",{children:[Object(m.jsx)("li",{children:"Open this website in Safari."}),Object(m.jsx)("li",{children:"Tap the \u2018Share\u2019 button."}),Object(m.jsx)("li",{children:"Scroll down and tap \u2018Add to Home Screen.\u2019"}),Object(m.jsx)("li",{children:"Tap add button in the top right corner."}),Object(m.jsx)("li",{children:"Done, the app is on your home screen!"})]}),Object(m.jsx)("h3",{children:"For Android users:"}),Object(m.jsxs)("ol",{children:[Object(m.jsx)("li",{children:"Open this website in Chrome."}),Object(m.jsx)("li",{children:"Tap menu (3 dots)"}),Object(m.jsx)("li",{children:"Tap \u2018Install app\u2019 or \u2018Add to Home Screen\u2019"}),Object(m.jsx)("li",{children:"Done, the app is on your home screen!"}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:"(Alternatively, wait for a few seconds, tap \u2018Add app to Home screen\u2018 on the bottom of your screen and then choose \u2018Install\u2018)"}),Object(m.jsxs)("p",{children:["If there is no option to install the app on Android please try one or both from the following:",Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"clean up some space on the device"}),Object(m.jsx)("li",{children:"clear cache in Chrome browser"})]})]}),Object(m.jsxs)("p",{children:["If nothing helps please contact our Help Agent - ",Object(m.jsx)("a",{className:qr.a.link,target:"_blank",rel:"noreferrer",href:"https://t.me/helpforce1",children:"https://t.me/helpforce1"}),"."]})]})]})]})})},Yr=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h1",{children:"Not Found"})})},Kr=n(74),Xr=function(e){return ue()?Object(m.jsx)(l.b,Object(Kr.a)({},e)):Object(m.jsx)(l.a,{to:"true"===window.localStorage.getItem(je)?a.Login:a.Signup})},Jr=function(e){var t=e.history,n=Object(l.h)().pathname,a=or(Sa.TotalTime),i=a.isTrackingEnabled,o=a.setIsTrackingEnabled;return Object(r.useEffect)((function(){return!i&&p.includes(n)&&o(!!ue()),t.listen((function(e){!i&&p.includes(e.pathname)&&o(!!ue())}))}),[n]),Object(m.jsx)("div",{style:{display:"hidden"}})},$r=function(e){var t=e.history;return Object(m.jsxs)(h,{history:t,children:[Object(m.jsx)(Jr,{history:t}),Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:a.Login,component:Ye}),Object(m.jsx)(l.b,{exact:!0,path:a.Signup,component:Je}),Object(m.jsx)(Xr,{exact:!0,path:a.Game,component:ft}),Object(m.jsx)(Xr,{exact:!0,path:a.Home,component:tr}),Object(m.jsx)(Xr,{exact:!0,path:a.Profile,component:la}),Object(m.jsx)(Xr,{exact:!0,path:a.ProfileChangeAvatar,component:ua}),Object(m.jsx)(Xr,{exact:!0,path:a.ProfileTeam,component:fa}),Object(m.jsx)(Xr,{exact:!0,path:a.Contact,component:wa}),Object(m.jsx)(Xr,{exact:!0,path:a.OnboardingPersonalize,component:Mt}),Object(m.jsx)(Xr,{exact:!0,path:a.OnboardingCheckIn,component:un}),Object(m.jsx)(Xr,{exact:!0,path:a.OnboardingTeam,component:$t}),Object(m.jsx)(Xr,{exact:!0,path:a.OnboardingMainStory,component:Nn}),Object(m.jsx)(Xr,{exact:!0,path:a.Handbook,component:Pn}),Object(m.jsx)(Xr,{exact:!0,path:a.Mission,component:yr}),Object(m.jsx)(Xr,{exact:!0,path:a.MissionCompleted,component:Ir}),Object(m.jsx)(Xr,{exact:!0,path:a.MissionStory,component:Tr}),Object(m.jsx)(Xr,{exact:!0,path:a.VrTask,component:Ar}),Object(m.jsx)(Xr,{exact:!0,path:a.ArTask,component:Br}),Object(m.jsx)(Xr,{exact:!0,path:a.InventoryDetails,component:ar}),Object(m.jsx)(Xr,{exact:!0,path:a.ReceivedInventories,component:Vr}),Object(m.jsx)(Xr,{exact:!0,path:a.FinalStory,component:Dr}),Object(m.jsx)(Xr,{exact:!0,path:a.FinalPage,component:Ur}),Object(m.jsx)(Xr,{exact:!0,path:a.FinalEvent,component:Gr}),Object(m.jsx)(l.b,{exact:!0,path:"/",component:Zr}),Object(m.jsx)(l.b,{path:"*",component:Yr})]})]})},ei=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ti(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ni,ai=function(e){fe.a.interceptors.request.use((function(e){var t=ue();return t&&(e.headers=Object(Kr.a)(Object(Kr.a)({},e.headers),{},{"x-access-token":t})),e})),fe.a.interceptors.response.use((function(e){return e}),(function(t){if(401===t.response.status){var n=t.config;(r=ue(),i=function(){var e=null;try{(e=ae.a.get(se))||(e=window.sessionStorage.getItem(se))}catch(t){}return e?ie.a.AES.decrypt(e,se).toString(ie.a.enc.Utf8):null}(),fe.a.get("token-refresh",{headers:{"x-access-token":r,"x-refresh-token":i}}).then((function(e){var t=e.data;return ve(t)}))).then((function(e){var a=function(){var e=null;try{e=ae.a.get(oe)}catch(t){}return!!e}();return me(),le(e,a),fe()(n)})).catch((function(t){return me(),e.push(a.Login),Promise.reject(t)}))}var r,i;return Promise.reject(t)}))},ri=n(198),ii=n.n(ri),oi=n(199),si=n.n(oi),ci=n(200),li=n.n(ci),ui=(n(345),Object(c.a)());ni=ui,fe.a.defaults.baseURL="".concat("https","://").concat("questapp-test.herokuapp.com",":").concat("443").concat("/api"),ai(ni),nt.a.extend(ii.a),nt.a.extend(si.a),nt.a.extend(li.a,{parseToLocal:!0}),s.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)($r,{history:ui})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ei?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ti(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ti(t,e)}))}}()},35:function(e,t,n){e.exports={avatarIcon:"AvatarIcon_avatarIcon__20UVC",round:"AvatarIcon_round__1NPY6",roundBig:"AvatarIcon_roundBig__Rcepa",square:"AvatarIcon_square__3qBVn",selected:"AvatarIcon_selected__28QAe"}},36:function(e,t,n){e.exports={inventory:"Inventory_inventory__f4P-p",checkedIcon:"Inventory_checkedIcon__33YaI",inventoryImageUsed:"Inventory_inventoryImageUsed__39tC7",small:"Inventory_small__1lz41",large:"Inventory_large__2E6xZ",smallImage:"Inventory_smallImage__1eaBU",largeImage:"Inventory_largeImage__uNorE"}},37:function(e,t,n){e.exports={urlButton:"TaskResource_urlButton__T95qs",videoWrapper:"TaskResource_videoWrapper__h9wkM",imageWrapper:"TaskResource_imageWrapper__1q61_",videoIframe:"TaskResource_videoIframe__1Uzzb"}},41:function(e,t,n){e.exports={textInput:"TextInput_textInput__xs-Pf",hasErrors:"TextInput_hasErrors__1jWxy",disabled:"TextInput_disabled__3IdkR",password:"TextInput_password__3RySt",inputContainer:"TextInput_inputContainer__B2MmA",passwordIcon:"TextInput_passwordIcon__hGGmA",addonAfter:"TextInput_addonAfter__sa8hI"}},48:function(e,t,n){e.exports={carouselControls:"CarouselControls_carouselControls__1NM04",carouselDots:"CarouselControls_carouselDots__3LcTJ",carouselDot:"CarouselControls_carouselDot__3kza4",activeDot:"CarouselControls_activeDot__2d8iT",carouselButtons:"CarouselControls_carouselButtons__28M9e",carouselButton:"CarouselControls_carouselButton__1En6f"}},49:function(e,t,n){e.exports={gameInfo:"GameInfo_gameInfo__35wQL",teamInfo:"GameInfo_teamInfo__mTeTO",teamName:"GameInfo_teamName__1XwK3",teamMembers:"GameInfo_teamMembers__1EHei",gtIcon:"GameInfo_gtIcon__7YV_l"}},50:function(e,t,n){e.exports={answerContainer:"Answer_answerContainer__3o7HL",answerInput:"Answer_answerInput__2_6z7",correctAnswerInput:"Answer_correctAnswerInput__3F6rr",answerButton:"Answer_answerButton__254zC",answerButtonIcon:"Answer_answerButtonIcon__B31D6",correctButtonIcon:"Answer_correctButtonIcon__1CyCM"}},51:function(e,t,n){e.exports={arTaskContainer:"ArTask_arTaskContainer__2PaDd",arTaskFrameContainer:"ArTask_arTaskFrameContainer__1rQ9I",arTaskFrame:"ArTask_arTaskFrame__2O-5l",closeButton:"ArTask_closeButton__CicCi",closeButtonIcon:"ArTask_closeButtonIcon__2Mc1m",errorMessage:"ArTask_errorMessage__1QZyM"}},52:function(e,t,n){e.exports={install:"Install_install__Vtcr8",installContent:"Install_installContent__Ld_ml",icon:"Install_icon__3R9xC",iconImg:"Install_iconImg__Wdony",title:"Install_title__2MSIb",link:"Install_link__1aIYy"}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(4),r=(n(1),n(7)),i=n.n(r),o=n(29),s=n.n(o),c=n(0),l=function(e){var t=e.isLoading;return Object(c.jsx)("div",{className:i()(s.a.spinner,Object(a.a)({},s.a.hiddenSpinner,!t)),children:Object(c.jsxs)("div",{className:s.a.rings,children:[Object(c.jsx)("div",{className:i()(s.a.ring,s.a.ring1)}),Object(c.jsx)("div",{className:i()(s.a.ring,s.a.ring2)}),Object(c.jsx)("div",{className:i()(s.a.ring,s.a.ring3)}),Object(c.jsx)("div",{className:i()(s.a.ring,s.a.ring4)})]})})}},64:function(e,t,n){e.exports={titleContainer:"Title_titleContainer__3UzAP",icon:"Title_icon__29s9c",title:"Title_title__IYizr",closeButton:"Title_closeButton__66YTD",closeIcon:"Title_closeIcon__14gm4"}},65:function(e,t,n){e.exports={checkboxContainer:"Checkbox_checkboxContainer__1RtOQ",checkbox:"Checkbox_checkbox__1V-IG",nativeCheckbox:"Checkbox_nativeCheckbox__3RMl1",label:"Checkbox_label__2xkgf",hasErrors:"Checkbox_hasErrors__7ZBrT"}},66:function(e,t,n){e.exports={player:"Team_player__1CCTG",playerInfo:"Team_playerInfo__2PA1m",nickname:"Team_nickname__24USy",isNotSignedUp:"Team_isNotSignedUp__Ws_Ut",email:"Team_email__FZVYp"}},67:function(e,t,n){e.exports={inventoryItems:"DailyInventoryItems_inventoryItems__1gMPC",inventory:"DailyInventoryItems_inventory__3Vpj1",inventoryInfo:"DailyInventoryItems_inventoryInfo__2qznP",inventoryTitle:"DailyInventoryItems_inventoryTitle__3xDTH",inventoryName:"DailyInventoryItems_inventoryName__tNmDz"}},76:function(e,t,n){e.exports={button:"Button_button__1Tx3a",main:"Button_main__1pcNb",secondary:"Button_secondary__3KCKM",dark:"Button_dark__3Ccjg"}},77:function(e,t,n){e.exports={message:"Message_message__3BGRz",error:"Message_error__19ghv",warning:"Message_warning__3L1do",info:"Message_info__14vOb"}},78:function(e,t,n){e.exports={content:"Panel_content__fd9Z4",icon:"Panel_icon__1k0Wi",title:"Panel_title__1tVqG",text:"Panel_text__1cS74"}},79:function(e,t,n){e.exports={profileAvatarContainer:"Profile_profileAvatarContainer__15F5Z",profileAvatar:"Profile_profileAvatar__3soYd",passwordIcon:"Profile_passwordIcon__22Uvh",changeButton:"Profile_changeButton__6Bwnd"}},80:function(e,t,n){e.exports={header:"Home_header__zrq3l",gameName:"Home_gameName__c2AG9",headerActions:"Home_headerActions__2Kbws",helpButton:"Home_helpButton__3TktN"}},90:function(e,t,n){e.exports={additionalInfo:"Signup_additionalInfo__2qX2-",info:"Signup_info__3mu8E"}},91:function(e,t,n){e.exports={vrTaskContainer:"VrTask_vrTaskContainer__n1tHC",closeButton:"VrTask_closeButton__2ifEL",closeButtonIcon:"VrTask_closeButtonIcon__1SQXD"}}},[[346,1,2]]]);
//# sourceMappingURL=main.0b2336fe.chunk.js.map