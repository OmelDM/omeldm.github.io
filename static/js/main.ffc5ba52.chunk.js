(this["webpackJsonpintegrated-quest-app-fe"]=this["webpackJsonpintegrated-quest-app-fe"]||[]).push([[0],{116:function(e,t,n){e.exports={image:"ImageResource_image__3-2vY",placeholder:"ImageResource_placeholder__27rQq"}},117:function(e,t,n){e.exports={progressContainer:"Progress_progressContainer__2BKbK",progress:"Progress_progress__-ageR"}},118:function(e,t,n){e.exports={taskText:"Task_taskText__3LsLN",teamTaskText:"Task_teamTaskText__3wpT2"}},119:function(e,t,n){e.exports={title:"ReceivedInventories_title__2wEnx",message:"ReceivedInventories_message__1w4IV"}},14:function(e,t,n){e.exports={screen:"Screen_screen__2uJH5",headerContainer:"Screen_headerContainer__3aY5G",header:"Screen_header__3xIOM",backIcon:"Screen_backIcon__1ZUXs",contentContainer:"Screen_contentContainer__1OTd9",content:"Screen_content__2dtTO",footerContainer:"Screen_footerContainer__1oCNZ",footer:"Screen_footer__31-vm",footerCentered:"Screen_footerCentered__1QxIS",withoutHeader:"Screen_withoutHeader__5Apxr",footerWithGradient:"Screen_footerWithGradient__3vBty",footerWithActions:"Screen_footerWithActions__184kk",spinner:"Screen_spinner__3l4_k",hiddenSpinner:"Screen_hiddenSpinner__24Lsw",rings:"Screen_rings__1bb0n",ring:"Screen_ring__27pnD",ringAnimation:"Screen_ringAnimation__1ZjTi",ring1:"Screen_ring1__33_pE",ring2:"Screen_ring2__3GqOa",ring3:"Screen_ring3__3ta2h"}},18:function(e,t,n){e.exports={accordion:"Accordion_accordion__359XQ",accordionPanel:"Accordion_accordionPanel__gexjr",mission:"Accordion_mission__1WpcN",collapsed:"Accordion_collapsed__3MNub",header:"Accordion_header__9wOqy",headerLeft:"Accordion_headerLeft__2EFSc",status:"Accordion_status__hFjY_",icon:"Accordion_icon__mFPRb",checkedIcon:"Accordion_checkedIcon__2Dsmg",uncheckedIcon:"Accordion_uncheckedIcon__1-MlZ",collapsedUncheckedIcon:"Accordion_collapsedUncheckedIcon__1zgsG",title:"Accordion_title__UdhiQ",hidden:"Accordion_hidden__3lGPL",arrowIcon:"Accordion_arrowIcon__1ZKRQ",collapsedArrowIcon:"Accordion_collapsedArrowIcon__zkVsz",content:"Accordion_content__DFumj"}},186:function(e,t,n){e.exports={label:"Label_label__-Q2Ec"}},187:function(e,t,n){e.exports={text:"Login_text__12Ijz"}},188:function(e,t,n){e.exports={currentAvatar:"Avatar_currentAvatar__3WT4v"}},189:function(e,t,n){e.exports={avatarList:"AvatarSelector_avatarList__TRGdY"}},190:function(e,t,n){e.exports={personIcon:"Personalize_personIcon__1OdHj"}},191:function(e,t,n){e.exports={teamIcon:"TeamComposition_teamIcon__3wWXf"}},192:function(e,t,n){e.exports={pageText:"SroryScreen_pageText__1i3w6"}},193:function(e,t,n){e.exports={contactButton:"Contact_contactButton__Suogb"}},194:function(e,t,n){},195:function(e,t,n){e.exports={rateButton:"FinalPage_rateButton__3fon5"}},212:function(e,t){},214:function(e,t){},224:function(e,t){},226:function(e,t){},253:function(e,t){},254:function(e,t){},259:function(e,t){},261:function(e,t){},268:function(e,t){},287:function(e,t){},30:function(e,t,n){e.exports={header:"Mission_header__10j8s",headerActions:"Mission_headerActions__3zhqv",taskButton:"Mission_taskButton__1j7S1",taskButtonIcon:"Mission_taskButtonIcon__1NF2t",prevTaskButton:"Mission_prevTaskButton__-Zmqq",missionContent:"Mission_missionContent__28wio",missionFooter:"Mission_missionFooter__MPduP"}},33:function(e,t,n){e.exports={inventory:"Inventory_inventory__f4P-p",checkedIcon:"Inventory_checkedIcon__33YaI",inventoryImageUsed:"Inventory_inventoryImageUsed__39tC7",small:"Inventory_small__1lz41",large:"Inventory_large__2E6xZ",smallImage:"Inventory_smallImage__1eaBU",largeImage:"Inventory_largeImage__uNorE"}},34:function(e,t,n){e.exports={inventoryList:"InventoryList_inventoryList__19x9X",noInventoryMessage:"InventoryList_noInventoryMessage__3tbP6",inventoryWrapper:"InventoryList_inventoryWrapper__P_3RA",inventoryItems:"InventoryList_inventoryItems__tdEUe",inventoryPlaceholder:"InventoryList_inventoryPlaceholder__3u67c",inventoryItem:"InventoryList_inventoryItem__tewi_"}},343:function(e,t,n){},344:function(e,t,n){"use strict";n.r(t);var a,r=n(1),i=n.n(r),o=n(184),s=n.n(o),c=n(23),l=n(15),u=n(346),d=n(86),m=n(4),j=n(0),h=Object(r.createContext)({addAvatar:function(e,t){},avatars:new Map}),f=function(e){var t=e.children,n=Object(r.useState)(new Map),a=Object(m.a)(n,2),i=a[0],o=a[1];return Object(j.jsx)(h.Provider,{value:{addAvatar:function(e,t){o((function(n){return new Map(n.set(e,t))}))},avatars:i},children:t})},b=new u.a,v=function(e){var t=e.history,n=e.children;return Object(j.jsx)(l.c,{history:t,children:Object(j.jsx)(d.a,{client:b,children:Object(j.jsx)(f,{children:n})})})};!function(e){e.Game="/game",e.Home="/game/home",e.Profile="/game/profile",e.ProfileChangeAvatar="/game/profile/change_avatar",e.ProfileTeam="/game/profile/team",e.Contact="/game/contact",e.OnboardingPersonalize="/game/onboarding/personalize",e.OnboardingTeam="/game/onboarding/team",e.OnboardingCheckIn="/game/onboarding/checkin",e.OnboardingMainStory="/game/onboarding/main_story",e.Mission="/game/mission",e.MissionCompleted="/game/mission_completed",e.MissionStory="/game/mission_story",e.InventoryDetails="/game/inventory_details",e.ReceivedInventories="/game/received_inventories",e.FinalStory="/game/finishing/final_story",e.FinalPage="/game/finishing/final_page",e.FinalEvent="/game/finishing/final_event",e.Login="/game/login",e.Signup="/game/signup"}(a||(a={}));var p,g=[a.Home,a.Profile,a.ProfileChangeAvatar,a.ProfileTeam,a.Contact,a.OnboardingPersonalize,a.OnboardingTeam,a.OnboardingCheckIn,a.OnboardingMainStory,a.Mission,a.MissionCompleted,a.MissionStory,a.InventoryDetails,a.ReceivedInventories,a.FinalStory,a.FinalPage,a.FinalEvent],O=n(12),y=function(e){var t=e.children,n=e.to;return Object(j.jsx)(O.a,{to:n,children:t})},x=n(7),_=n.n(x),w=["title","titleId"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S(e,t){var n=e.title,a=e.titleId,i=C(e,w);return r.createElement("svg",k({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,p||(p=r.createElement("path",{d:"M14 1.41L12.59 0 7 5.59 1.41 0 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7 14 1.41z"})))}var I,T=r.forwardRef(S),N=(n.p,n(59)),P=n.n(N),F=function(e){var t=e.title,n=e.icon,a=e.onClose,r=e.additionalClasses;return Object(j.jsxs)("div",{className:_()(P.a.titleContainer,r),children:[n&&Object(j.jsx)("div",{className:P.a.icon,children:n}),Object(j.jsx)("div",{className:P.a.title,children:t}),!!a&&Object(j.jsx)("button",{className:P.a.closeButton,onClick:a,children:Object(j.jsx)(T,{className:P.a.closeIcon})})]})},A=n(5),M=n(70),E=n.n(M);!function(e){e[e.Main=0]="Main",e[e.Secondary=1]="Secondary",e[e.Dark=2]="Dark"}(I||(I={}));var B,L=function(e){var t,n=e.title,a=e.onClick,r=e.type,i=e.additionalClasses;return Object(j.jsx)("button",{className:_()(E.a.button,i,(t={},Object(A.a)(t,E.a.main,r===I.Main),Object(A.a)(t,E.a.secondary,r===I.Secondary),Object(A.a)(t,E.a.dark,r===I.Dark),t)),onClick:a,children:n})},H=n(60),R=n.n(H),D=function(e){var t=e.children,n=e.name,a=e.checked,i=e.onChange,o=e.isValid,s=void 0===o||o,c=e.additionalClasses,l=Object(r.useState)(!s),u=Object(m.a)(l,2),d=u[0],h=u[1];Object(r.useEffect)((function(){return h(!s)}),[s]);return Object(j.jsxs)("label",{className:_()(R.a.checkboxContainer,c),htmlFor:"id_".concat(n),children:[Object(j.jsx)("input",{className:R.a.nativeCheckbox,type:"checkbox",id:"id_".concat(n),name:n,checked:a,onChange:function(e){i&&i(e),h(!1)}}),Object(j.jsx)("span",{className:_()(R.a.checkbox,Object(A.a)({},R.a.hasErrors,d))}),Object(j.jsx)("span",{className:R.a.label,children:t})]})},V=["title","titleId"];function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G(e,t){var n=e.title,a=e.titleId,i=U(e,V);return r.createElement("svg",z({viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,B||(B=r.createElement("path",{d:"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7z"})))}var W,q=r.forwardRef(G),Q=(n.p,n(14)),Z=n.n(Q),Y=function(e){var t,n=e.children,a=e.withoutHeader,r=void 0!==a&&a,i=e.footerWithGradient,o=void 0!==i&&i,s=e.footerWithActions,c=void 0!==s&&s,l=e.isFetching,u=void 0!==l&&l;return Object(j.jsxs)("div",{className:_()(Z.a.screen,(t={},Object(A.a)(t,Z.a.withoutHeader,r),Object(A.a)(t,Z.a.footerWithGradient,o),Object(A.a)(t,Z.a.footerWithActions,c),t)),children:[n,Object(j.jsx)("div",{className:_()(Z.a.spinner,Object(A.a)({},Z.a.hiddenSpinner,!u)),children:Object(j.jsxs)("div",{className:Z.a.rings,children:[Object(j.jsx)("div",{className:_()(Z.a.ring,Z.a.ring1)}),Object(j.jsx)("div",{className:_()(Z.a.ring,Z.a.ring2)}),Object(j.jsx)("div",{className:_()(Z.a.ring,Z.a.ring3)}),Object(j.jsx)("div",{className:_()(Z.a.ring,Z.a.ring4)})]})})]})};Y.Header=function(e){var t=e.backTo,n=e.onBack,a=e.children,r=Object(l.g)();return Object(j.jsx)("div",{className:Z.a.headerContainer,children:Object(j.jsxs)("div",{className:Z.a.header,children:[(t||n)&&Object(j.jsx)(q,{className:Z.a.backIcon,onClick:function(){n&&n(),t&&r.push(t)}}),a]})})},Y.Content=function(e){var t=e.children,n=e.additionalClasses;return Object(j.jsx)("div",{className:Z.a.contentContainer,children:Object(j.jsx)("div",{className:_()(Z.a.content,n),children:t})})},Y.Footer=function(e){var t=e.children,n=e.centered,a=void 0!==n&&n,r=e.additionalClasses;return Object(j.jsx)("div",{className:Z.a.footerContainer,children:Object(j.jsx)("div",{className:_()(Z.a.footer,r,Object(A.a)({},Z.a.footerCentered,a)),children:t})})};var K=["title","titleId"];function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function J(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $(e,t){var n=e.title,a=e.titleId,i=J(e,K);return r.createElement("svg",X({width:20,height:10,viewBox:"0 0 20 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,W||(W=r.createElement("path",{d:"M10.5416 3.33333C9.85831 1.39167 8.00831 0 5.83331 0C3.07498 0 0.833313 2.24167 0.833313 5C0.833313 7.75833 3.07498 10 5.83331 10C8.00831 10 9.85831 8.60833 10.5416 6.66667H14.1666V10H17.5V6.66667H19.1666V3.33333H10.5416ZM5.83331 6.66667C4.91665 6.66667 4.16665 5.91667 4.16665 5C4.16665 4.08333 4.91665 3.33333 5.83331 3.33333C6.74998 3.33333 7.49998 4.08333 7.49998 5C7.49998 5.91667 6.74998 6.66667 5.83331 6.66667Z",fill:"white"})))}var ee,te=r.forwardRef($),ne=(n.p,n(348)),ae=n(44),re=n.n(ae),ie=n(45),oe=n.n(ie),se="access_token",ce="refresh_token",le="user_id",ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=oe.a.AES.encrypt(e.accessToken,se).toString(),a=oe.a.AES.encrypt(e.refreshToken,ce).toString();if(t){re.a.set(se,n,{expires:3}),re.a.set(ce,a,{expires:3});try{window.localStorage.setItem(le,e.userId)}catch(r){}}else try{window.sessionStorage.setItem(se,n),window.sessionStorage.setItem(ce,a),e.userId&&window.sessionStorage.setItem(le,e.userId)}catch(r){}},de=function(){var e=null;try{(e=re.a.get(se))||(e=window.sessionStorage.getItem(se))}catch(t){}return e?oe.a.AES.decrypt(e,se).toString(oe.a.enc.Utf8):null},me=function(){var e=window.localStorage.getItem(le);return e||(e=window.sessionStorage.getItem(le)),e},je="is-registered",he=n(8),fe=n.n(he),be=function(e){return fe.a.get("/login",{headers:{Authorization:"Basic ".concat(btoa("".concat(e.email.trim(),":").concat(e.password)))}}).then((function(e){var t=e.data;return pe(t)})).catch((function(e){throw ge(e.response.data)}))},ve=function(e){return fe.a.get("/signup",{headers:{Authorization:"Basic ".concat(btoa("".concat(e.email.trim(),":").concat(e.password.trim())))}}).then((function(e){var t=e.data;return pe(t)})).catch((function(e){throw ge(e.response.data)}))},pe=function(e){return{accessToken:e["access-token"],refreshToken:e["refresh-token"],userId:e["public-id"]}},ge=function(e){return{message:e.message,errorCode:e.error_code}},Oe=function(){var e=Object(l.g)(),t=Object(r.useState)([]),n=Object(m.a)(t,2),i=n[0],o=n[1],s=Object(ne.a)(be,{onError:function(e){o([xe(e.errorCode)])}}),c=Object(ne.a)(ve,{onError:function(e){o([xe(e.errorCode)])}});return{isAuthStoreFetching:s.isLoading||c.isLoading,login:function(t){o([]);var n=ye(t.credential);0===n.length?s.mutate(t.credential,{onSuccess:function(n){ue(n,t.isRememberChecked),e.push(a.Game)}}):o(n)},signup:function(t){o([]);var n=ye(t.credential);t.isPolicyChecked||n.push({field:"policy",message:"Read and agree with privacy policy before sign in"}),0===n.length?c.mutate(t.credential,{onSuccess:function(n){ue(n,t.isRememberChecked),function(){try{window.localStorage.setItem(je,"true")}catch(e){}}(),e.push(a.Game)}}):o(n)},errors:i}},ye=function(e){var t=[],n=e.email.trim();0===n.length?t.push({field:"email",message:"Please enter email"}):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||t.push({field:"email",message:"Please enter a valid email address"});var a=e.password.trim();return 0===a.length?t.push({field:"password",message:"Please enter password"}):a.length<8&&t.push({field:"password",message:"Password must contain at least 8 characters."}),t},xe=function(e){switch(e){case 2:return{field:"email",message:"Your email is not included in the list of participants. If you want to learn more about the game and how to participate, please visit https://promo.page"};case 3:return{field:"email",message:"Please sing up"};case 4:return{field:"password",message:"Incorrect password"};case 5:return{field:"email",message:"Already signed up. Please login"};default:return{field:"email",message:"Something wrong"}}},_e=n(71),we=n.n(_e);!function(e){e[e.error=0]="error",e[e.warning=1]="warning",e[e.info=2]="info"}(ee||(ee={}));var ke,Ce=function(e){var t,n=e.type,a=e.children;return Object(j.jsx)("div",{className:_()(we.a.message,(t={},Object(A.a)(t,we.a.error,n===ee.error),Object(A.a)(t,we.a.warning,n===ee.warning),Object(A.a)(t,we.a.info,n===ee.info),t)),children:a})},Se=n(186),Ie=n.n(Se),Te=function(e){var t=e.label,n=e.htmlFor;return Object(j.jsx)("label",{className:Ie.a.label,htmlFor:n,children:t})},Ne=["title","titleId"];function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ae(e,t){var n=e.title,a=e.titleId,i=Fe(e,Ne);return r.createElement("svg",Pe({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ke||(ke=r.createElement("path",{d:"M12 7C14.76 7 17 9.24 17 12C17 12.65 16.87 13.26 16.64 13.83L19.56 16.75C21.07 15.49 22.26 13.86 22.99 12C21.26 7.61 16.99 4.5 11.99 4.5C10.59 4.5 9.25 4.75 8.01 5.2L10.17 7.36C10.74 7.13 11.35 7 12 7ZM2 4.27L4.28 6.55L4.74 7.01C3.08 8.3 1.78 10.02 1 12C2.73 16.39 7 19.5 12 19.5C13.55 19.5 15.03 19.2 16.38 18.66L16.8 19.08L19.73 22L21 20.73L3.27 3L2 4.27ZM7.53 9.8L9.08 11.35C9.03 11.56 9 11.78 9 12C9 13.66 10.34 15 12 15C12.22 15 12.44 14.97 12.65 14.92L14.2 16.47C13.53 16.8 12.79 17 12 17C9.24 17 7 14.76 7 12C7 11.21 7.2 10.47 7.53 9.8ZM11.84 9.02L14.99 12.17L15.01 12.01C15.01 10.35 13.67 9.01 12.01 9.01L11.84 9.02Z"})))}var Me,Ee=r.forwardRef(Ae),Be=(n.p,["title","titleId"]);function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function He(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Re(e,t){var n=e.title,a=e.titleId,i=He(e,Be);return r.createElement("svg",Le({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Me||(Me=r.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z"})))}var De,Ve,ze=r.forwardRef(Re),Ue=(n.p,n(37)),Ge=n.n(Ue),We=function(e){var t,n=e.type,a=void 0===n?"text":n,i=e.inputRef,o=e.value,s=e.onChange,c=e.onBlur,l=e.placeholder,u=e.label,d=e.name,h=e.isValid,f=void 0===h||h,b=e.disabled,v=void 0!==b&&b,p=e.addonAfter,g=e.additionalClasses,O=Object(r.useState)(!1),y=Object(m.a)(O,2),x=y[0],w=y[1],k=x?ze:Ee;return Object(j.jsxs)(j.Fragment,{children:[u&&Object(j.jsx)(Te,{htmlFor:"id_".concat(d),label:u}),Object(j.jsxs)("div",{className:_()(Ge.a.inputContainer,g),children:[Object(j.jsx)("input",{className:_()(Ge.a.textInput,(t={},Object(A.a)(t,Ge.a.hasErrors,!f),Object(A.a)(t,Ge.a.disabled,v),Object(A.a)(t,Ge.a.password,"password"===a),t)),ref:i,value:o,onChange:function(e){s&&s(e)},onBlur:function(e){c&&c(e)},type:x?"text":a,placeholder:l,disabled:v,id:"id_".concat(d)}),"password"===a&&Object(j.jsx)(k,{onClick:function(){return w((function(e){return!e}))},className:Ge.a.passwordIcon}),p&&Object(j.jsx)("div",{className:Ge.a.addonAfter,children:p})]})]})},qe=function(e){var t=e.errors,n=e.email,a=e.onEmailChange,i=e.password,o=e.onPasswordChange,s=Object(r.useCallback)((function(e){a(e.target.value)}),[a]),c=Object(r.useCallback)((function(e){o(e.target.value)}),[o]);return Object(j.jsxs)(j.Fragment,{children:[t.length>0&&Object(j.jsx)(Ce,{type:ee.error,children:t.map((function(e,t){var n=e.message;return Object(j.jsx)("span",{children:n},t)}))}),Object(j.jsx)(We,{value:n,onChange:s,label:"email",name:"email",isValid:!t.find((function(e){return"email"===e.field})),additionalClasses:"verticalSpace"}),Object(j.jsx)(We,{value:i,onChange:c,type:"password",label:"password",name:"password",isValid:!t.find((function(e){return"password"===e.field})),additionalClasses:"verticalSpace"})]})},Qe=n(187),Ze=n.n(Qe),Ye=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),s=Object(m.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(m.a)(u,2),h=d[0],f=d[1],b=Oe(),v=b.login,p=b.errors,g=b.isAuthStoreFetching,O=Object(r.useCallback)((function(){v({credential:{email:n,password:c},isRememberChecked:h})}),[n,h,v,c]);return Object(j.jsxs)(Y,{footerWithGradient:!0,isFetching:g,children:[Object(j.jsx)(Y.Header,{children:Object(j.jsx)(F,{title:"Log In",icon:Object(j.jsx)(te,{})})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(qe,{errors:p,email:n,onEmailChange:function(e){return i(e)},password:c,onPasswordChange:function(e){return l(e)}}),Object(j.jsx)(D,{checked:h,onChange:function(e){return f(e.target.checked)},name:"remember",additionalClasses:"verticalSpace",children:"Remember me on this device"}),Object(j.jsx)("p",{className:Ze.a.text,children:"If you forgot your password please contact admin@questmission.com"}),Object(j.jsx)(y,{to:a.Signup,children:"Don't have an account yet?"})]}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(L,{title:"Login",onClick:O,type:I.Main})})]})},Ke=n(87),Xe=n.n(Ke),Je=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),s=Object(m.a)(o,2),c=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(m.a)(u,2),h=d[0],f=d[1],b=Object(r.useState)(!1),v=Object(m.a)(b,2),p=v[0],g=v[1],O=Oe(),x=O.signup,_=O.errors,w=O.isAuthStoreFetching,k=Object(r.useCallback)((function(){x({credential:{email:n,password:c},isPolicyChecked:h,isRememberChecked:p})}),[n,h,p,c,x]);return Object(j.jsxs)(Y,{footerWithGradient:!0,isFetching:w,children:[Object(j.jsx)(Y.Header,{children:Object(j.jsx)(F,{title:"Sign Up",icon:Object(j.jsx)(te,{})})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(qe,{errors:_,email:n,onEmailChange:function(e){return i(e)},password:c,onPasswordChange:function(e){return l(e)}}),Object(j.jsx)(y,{to:a.Login,children:"Already have an account?"}),Object(j.jsxs)("div",{className:Xe.a.additionalInfo,children:[Object(j.jsxs)(D,{checked:h,onChange:function(e){return f(e.target.checked)},name:"policy",isValid:!_.find((function(e){return"policy"===e.field})),additionalClasses:Xe.a.info,children:["Agree with ",Object(j.jsx)("a",{href:"https://questmission.com/privacy-policy",children:"Privacy Policy"})]}),Object(j.jsx)(D,{checked:p,onChange:function(e){return g(e.target.checked)},name:"remember",additionalClasses:Xe.a.info,children:"Remember me on this device"})]})]}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(L,{title:"Sign Up",onClick:k,type:I.Main})})]})},$e=n(120),et=n(347),tt=n(22),nt=n.n(tt);!function(e){e[e.NotStarted=0]="NotStarted",e[e.Solved=1]="Solved",e[e.InProgress=2]="InProgress",e[e.Future=3]="Future"}(De||(De={})),function(e){e.Vr="vr_gallery",e.Ar="ar_video_on_marker",e.Image="image",e.Text="text",e.TextAndImage="text_and_image",e.Url="text_url",e.Video="video"}(Ve||(Ve={}));var at,rt=function(){return fe.a.get("/self").then((function(e){var t=e.data;return lt(t)})).catch((function(e){throw e.response.data}))},it=function(e){var t=e.key,n=e.value,a="boolean"===typeof n?"value_bool":"value_str";return fe.a.patch("/self",Object(A.a)({key:t},a,n)).catch((function(e){throw e.response.data}))},ot=function(e){var t=e.key,n=e.value;return fe.a.patch("/self",{key:t,value_str_old:n.old,value_str:n.new}).catch((function(e){throw e.response.data}))},st=function(){return fe.a.get("/games/self/final-questionaire").then((function(e){return e.data.questionnaire_url})).catch((function(e){throw e.response.data}))},ct=function(){return fe.a.patch("/self",{key:"final_page_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},lt=function(e){return{gameName:e.game_name,avatarUrl:e.avatar,isProfileCreated:e.profile_set,isBotConnected:e.bot_connected,isMainStoryViewed:e.main_story_viewed,isFinalStoryViewed:e.final_story_viewed,isFinalPageViewed:e.final_page_viewed,nickname:e.nickname,email:e.email,isNickNameSet:e.nickname_set,linkToHelp:e.assistant_url,linkToBot:e.bot_chat_url,currentDayNumber:e.day_number,finalEventStartTime:e.final_event_start_time&&nt()(e.final_event_start_time),days:e.days?e.days.map((function(t,n){return{isDailyStoryViewed:t.day_story_viewed,isPasscodeEntered:t.passcode_entered,status:ut(t,n+1,e.day_number),startTime:t.begin_daytime&&nt()(t.begin_daytime),dayNumber:n+1,totalTasks:t.total_tasks,isTeamTaskSolved:t.team_task_solved,isTeamTaskCompletionViewed:t.team_task_completion_viewed,inventoryItems:t.inventory_items?t.inventory_items.map((function(e){return{isAvailable:e.available,isUsed:t.team_task_solved,name:e.name,resource:e.resource}})):[],tasks:t.tasks?t.tasks.map((function(e){return{id:e.id,type:e.content_type,isTeamTask:e.is_team_mission,areHintsAvailable:e.wrong_answer_attempts>0&&e.hints_total_number>e.hints_used,hints:e.hints,hintsTotal:e.hints_total_number,hintsUsed:e.hints_used,resources:e.resources,isSkipped:e.skipped,isSolved:e.solved,text:e.text}})):[]}})):[]}},ut=function(e,t,n){var a=e.begin_daytime?nt()(e.begin_daytime):null;return 0===n&&1===t||a&&nt()()<a?De.NotStarted:e.team_task_solved&&n===t?!!e.tasks&&e.tasks.every((function(e){return e.solved}))?De.Solved:De.InProgress:n===t?De.InProgress:n<t?De.Future:De.Solved},dt={gameName:"",avatarUrl:"",isProfileCreated:!1,isBotConnected:!1,isMainStoryViewed:!1,isFinalStoryViewed:!1,isFinalPageViewed:!1,nickname:"",email:"",isNickNameSet:!1,linkToBot:"",linkToHelp:"",days:[],currentDayNumber:0,finalEventStartTime:nt()()},mt={isDailyStoryViewed:!1,isPasscodeEntered:!1,status:De.NotStarted,startTime:nt()(),dayNumber:0,tasks:[],inventoryItems:[],totalTasks:0,isTeamTaskSolved:!1,isTeamTaskCompletionViewed:!1},jt=function(){var e=Object(et.a)("game",rt,{staleTime:1/0}),t=e.data;return{isGameStoreFetching:e.isFetching,gameState:t||dt,currentDay:t?t.days[0===t.currentDayNumber?0:t.currentDayNumber-1]:mt,areAllTasksSolved:!!t&&t.days.every((function(e){return e.status===De.Solved})),allInventoryItems:t?t.days.reduce((function(e,t){return[].concat(Object($e.a)(e),Object($e.a)(t.inventoryItems.filter((function(e){return e.isAvailable}))))}),[]):[]}},ht=function(){var e=Object(l.g)(),t=jt(),n=t.gameState;return t.isGameStoreFetching?Object(j.jsx)(Y,{isFetching:!0,withoutHeader:!0,children:Object(j.jsx)(Y.Content,{})}):n.isProfileCreated?n.isBotConnected?n.isMainStoryViewed?(e.push(a.Home),null):(e.push(a.OnboardingMainStory),null):(e.push(a.OnboardingTeam),null):(e.push(a.OnboardingPersonalize),null)},ft=["title","titleId"];function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pt(e,t){var n=e.title,a=e.titleId,i=vt(e,ft);return r.createElement("svg",bt({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,at||(at=r.createElement("path",{d:"M7 7A3.332 3.332 0 107 .333 3.332 3.332 0 107 7zm0 1.667C4.775 8.667.333 9.783.333 12v1.667h13.334V12c0-2.217-4.442-3.333-6.667-3.333z"})))}var gt,Ot=r.forwardRef(pt),yt=(n.p,n(38)),xt=n.n(yt);!function(e){e[e.Round=0]="Round",e[e.RoundBig=1]="RoundBig",e[e.Square=2]="Square"}(gt||(gt={}));var _t,wt=function(e){var t,n,a=e.image,r=e.type,i=e.onClick,o=e.additionalClasses;return a?Object(j.jsx)("img",{src:a,alt:"",onClick:i,className:_()(xt.a.avatar,o,(t={},Object(A.a)(t,xt.a.round,r===gt.Round),Object(A.a)(t,xt.a.square,r===gt.Square),t))}):Object(j.jsx)("span",{className:_()(xt.a.avatarIcon,o,(n={},Object(A.a)(n,xt.a.round,r===gt.Round),Object(A.a)(n,xt.a.roundBig,r===gt.RoundBig),Object(A.a)(n,xt.a.square,r===gt.Square),n))})},kt=function(){return fe.a.get("/resources/avatars").then((function(e){return e.data.resources})).catch((function(e){throw e.response.data}))},Ct=function(e){return e.split("/").pop()},St=function(e){var t=Object(r.useContext)(h),n=t.addAvatar,a=t.avatars;return{isAvatarStoreFetching:Object(et.a)(["avatar",e],(function(){return t=e,fe.a.get("/resources/avatars/".concat(Ct(t)),{responseType:"blob"}).then((function(e){return e.data})).catch((function(e){throw e.response.data}));var t}),{staleTime:1/0,enabled:!!e,onSuccess:function(t){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){a.result&&"string"===typeof a.result&&n(e,a.result)}}}).isFetching,avatar:a.get(e)}},It=n(188),Tt=n.n(It),Nt=function(e){var t=e.avatarUrl,n=e.type,a=e.isSelected,r=void 0!==a&&a,i=e.onClick,o=St(t),s=o.isAvatarStoreFetching,c=o.avatar;return Object(j.jsx)(wt,{image:c,onClick:i,type:n,additionalClasses:_()(Object(A.a)({},Tt.a.currentAvatar,!s&&r))})},Pt=function(){var e=Object(d.b)(),t=jt(),n=t.gameState,a=t.isGameStoreFetching,r=Object(et.a)("avatars",kt,{staleTime:1/0}),i=r.data,o=r.isFetching,s=Object(ne.a)(it,{onSuccess:function(){e.invalidateQueries("game"),e.invalidateQueries("teamPlayers")}});return{isAvatarListStoreFetching:a||o||s.isLoading,avatarUrlList:i||[],currentAvatar:n.avatarUrl,changeAvatar:function(e){s.mutate({key:"avatar",value:e})}}},Ft=n(189),At=n.n(Ft),Mt=function(){var e=Pt(),t=e.avatarUrlList,n=e.currentAvatar,a=e.changeAvatar;return Object(j.jsx)("div",{className:At.a.avatarList,children:t.map((function(e,t){return Object(j.jsx)(Nt,{avatarUrl:e,type:gt.Square,isSelected:n===e,onClick:function(){return a(e)}},t)}))})},Et=function(){var e=Object(d.b)(),t=Object(l.g)(),n=Object(r.useState)(!1),i=Object(m.a)(n,2),o=i[0],s=i[1],c=jt(),u=c.gameState,j=c.isGameStoreFetching,h=St(u.avatarUrl),f=h.avatar,b=h.isAvatarStoreFetching,v=Object(ne.a)(it,{onSuccess:function(){e.invalidateQueries("game"),e.invalidateQueries("teamPlayers")}}),p=Object(ne.a)(ot,{onSuccess:function(){s(!0),e.invalidateQueries("game")},onError:function(){x({field:"oldPassword",message:"Incorrect password"})}}),g=Object(r.useState)(null),O=Object(m.a)(g,2),y=O[0],x=O[1];return{isProfileStoreFetching:j||b||v.isLoading||p.isLoading,email:u.email,nickname:u.nickname,changeNickname:function(e){var t=e.trim();x(null),0===t.length?x({field:"nickname",message:"Please enter username"}):t.length>30?x({field:"nickname",message:"Username must be less than 30 characters"}):v.mutate({key:"nickname",value:t})},avatar:f,markProfileCreated:function(){v.mutateAsync({key:"profile_set",value:!0}).then((function(){t.push(a.Game)}))},changePassword:function(e,t,n){if(x(null),e.length<8)x({field:"oldPassword",message:"Password must contain at least 8 characters."});else{var a=t.trim();0!==a.length?a.length<8?x({field:"newPassword",message:"Password must contain at least 8 characters."}):p.mutateAsync({key:"password",value:{old:e,new:a}}).then((function(){return n()})):x({field:"newPassword",message:"Password should not be empty"})}},passwordWasChanged:o,error:y}},Bt=n(190),Lt=n.n(Bt),Ht=function(){var e=Object(r.useRef)(null),t=Et(),n=t.nickname,a=t.changeNickname,i=t.markProfileCreated,o=t.error,s=t.isProfileStoreFetching,c=Pt().isAvatarListStoreFetching,l=Object(r.useState)(n),u=Object(m.a)(l,2),d=u[0],h=u[1];Object(r.useEffect)((function(){h(n)}),[n]);var f=function(){a(d)};return Object(j.jsxs)(Y,{footerWithGradient:!0,isFetching:s||c,children:[Object(j.jsx)(Y.Header,{children:Object(j.jsx)(F,{title:"Personalize",icon:Object(j.jsx)(Ot,{className:Lt.a.personIcon})})}),Object(j.jsxs)(Y.Content,{children:[!!o&&Object(j.jsx)(Ce,{type:ee.error,children:o.message}),Object(j.jsx)("form",{onSubmit:function(t){t.preventDefault(),f(),e&&e.current&&e.current.blur()},children:Object(j.jsx)(We,{value:d,inputRef:e,onChange:function(e){h(e.target.value)},onBlur:f,isValid:"nickname"!==(null===o||void 0===o?void 0:o.field),label:"Username",name:"nickname",additionalClasses:"verticalSpace"})}),Object(j.jsx)(Te,{label:"Avatar"}),Object(j.jsx)(Mt,{})]}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(L,{title:"Continue",onClick:function(){i()},type:I.Main})})]})},Rt=["title","titleId"];function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Vt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zt(e,t){var n=e.title,a=e.titleId,i=Vt(e,Rt);return r.createElement("svg",Dt({viewBox:"0 0 20 10",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,_t||(_t=r.createElement("path",{d:"M10 5.625c1.358 0 2.558.325 3.533.75.9.4 1.467 1.3 1.467 2.275V10H5V8.658a2.47 2.47 0 011.467-2.275A8.7 8.7 0 0110 5.625zm-6.667.208C4.25 5.833 5 5.083 5 4.167 5 3.25 4.25 2.5 3.333 2.5c-.916 0-1.666.75-1.666 1.667 0 .916.75 1.666 1.666 1.666zm.942.917a5.819 5.819 0 00-.942-.083c-.825 0-1.608.175-2.316.483A1.676 1.676 0 000 8.692V10h3.75V8.658c0-.691.192-1.341.525-1.908zm12.392-.917c.916 0 1.666-.75 1.666-1.666 0-.917-.75-1.667-1.666-1.667C15.75 2.5 15 3.25 15 4.167c0 .916.75 1.666 1.667 1.666zM20 8.692c0-.675-.4-1.275-1.017-1.542a5.792 5.792 0 00-2.316-.483c-.325 0-.634.033-.942.083a3.75 3.75 0 01.525 1.908V10H20V8.692zM10 0c1.383 0 2.5 1.117 2.5 2.5S11.383 5 10 5a2.497 2.497 0 01-2.5-2.5C7.5 1.117 8.617 0 10 0z"})))}var Ut,Gt,Wt=r.forwardRef(zt),qt=(n.p,n(72)),Qt=n.n(qt),Zt=function(e){var t=e.currentTeamName,n=e.changeTeamName,a=e.setCurrentTeamName,i=e.teamPlayers,o=e.isCurrentUserCaptain,s=e.error,c=Object(r.useRef)(null);return Object(j.jsxs)("div",{children:[!!s&&Object(j.jsx)(Ce,{type:ee.error,children:s.message}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(t),c&&c.current&&c.current.blur()},children:Object(j.jsx)(We,{inputRef:c,value:t,onChange:function(e){a(e.target.value)},onBlur:function(){n(t)},disabled:!o,isValid:"teamName"!==(null===s||void 0===s?void 0:s.field),label:"Team Name",name:"teamName",additionalClasses:"verticalSpace"})}),i.map((function(e){var t=e.id,n=e.isCaptain,a=e.nickname,r=e.avatarUrl,i=e.email;return Object(j.jsxs)("div",{className:Qt.a.player,children:[Object(j.jsx)(Nt,{avatarUrl:r,type:gt.Round}),Object(j.jsxs)("div",{className:Qt.a.playerInfo,children:[Object(j.jsx)("div",{className:Qt.a.nickname,children:"".concat(a).concat(n?" - Captain":"")}),Object(j.jsx)("div",{className:Qt.a.email,children:i})]})]},t)}))]})},Yt=function(){return fe.a.get("/teams/self").then((function(e){var t=e.data;return Kt(t)})).catch((function(e){throw e.response.data}))},Kt=function(e){return{name:e.name,days:e.days?e.days.map((function(e){return{isTeamMissionSolved:e.daily_mission_solved,totalTasks:e.total_tasks,totalTasksSolved:e.total_tasks_solved}})):[]}},Xt=function(){return fe.a.get("/teams/self/players").then((function(e){var t=e.data;return Jt(t)})).catch((function(e){throw e.response.data}))},Jt=function(e){var t=e.capitan,n=t?t["public-id"]:null;return{captainId:n,players:e.players.map((function(e){return{id:e["public-id"],isCaptain:e["public-id"]===n,nickname:e.nickname,avatarUrl:e.avatar,email:e.email,chatUrl:e.chat_url}}))}},$t=function(e){return fe.a.patch("/teams/self",{key:e.key,value_str:e.value}).catch((function(e){throw e.response.data}))},en=function(){var e=Object(d.b)(),t=jt(),n=t.gameState,a=t.isGameStoreFetching,i=Object(r.useState)(null),o=Object(m.a)(i,2),s=o[0],c=o[1],l=Object(et.a)("team",Yt,{staleTime:1/0}),u=l.data,j=l.isFetching,h=Object(et.a)("teamPlayers",Xt,{staleTime:1/0}),f=h.data,b=h.isFetching,v=Object(ne.a)($t,{onSuccess:function(){return e.invalidateQueries("team")}}),p=function(e){var t=e.trim(),n=null;return 0===t.length&&(n={field:"teamName",message:"Team name should not be empty"}),t.length>30&&(n={field:"teamName",message:"Team name must be less than 30 characters"}),new Promise((function(e,a){n?a(n):e(t)}))};return{isTeamStoreFetching:j||b||a||v.isLoading,teamName:(null===u||void 0===u?void 0:u.name)||"",progress:u?tn(u,n.currentDayNumber-1):0,changeTeamName:function(e){var t=e.trim();p(t).then((function(e){c(null),v.mutate({key:"name",value:e})})).catch((function(e){c(e)}))},validateTeamName:p,teamPlayers:f?f.players:[],isCurrentUserCaptain:!f||!f.captainId||f.captainId===me(),error:s}},tn=function(e,t){var n=e.days[t];return n?Math.floor(n.totalTasksSolved/n.totalTasks*100):0},nn=n(191),an=n.n(nn),rn=function(){var e=Object(l.g)(),t=en(),n=t.teamName,i=t.changeTeamName,o=t.validateTeamName,s=t.teamPlayers,c=t.isCurrentUserCaptain,u=t.error,d=t.isTeamStoreFetching,h=Object(r.useState)(""),f=Object(m.a)(h,2),b=f[0],v=f[1];Object(r.useEffect)((function(){v(n)}),[n]);return Object(j.jsxs)(Y,{footerWithGradient:!0,isFetching:d,children:[Object(j.jsx)(Y.Header,{children:Object(j.jsx)(F,{title:"Meet the team!",icon:Object(j.jsx)(Wt,{className:an.a.teamIcon})})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(Ce,{type:ee.warning,children:"Welcome, Awesome One. Meet your team of great people. Get in touch with them, via any appropriate means (just please do not use smoke signals as they take waaay too long and pollution is real btw!). And, first things first: come up with a cool, smart, fun name for your team! Success is created. Together!"}),Object(j.jsx)(Zt,{currentTeamName:b,changeTeamName:i,setCurrentTeamName:v,teamPlayers:s,isCurrentUserCaptain:c,error:u})]}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(L,{title:"Continue",onClick:function(){o(b).then((function(){e.push(a.OnboardingCheckIn)})).catch((function(){}))},type:I.Main})})]})},on=n(73),sn=n.n(on),cn=function(e){var t=e.mainText,n=e.additionalText,a=e.additionalClasses,r=e.icon;return Object(j.jsxs)("div",{className:_()(sn.a.content,a),children:[r&&Object(j.jsx)("span",{className:sn.a.icon,children:r}),t&&Object(j.jsx)("h2",{className:sn.a.title,children:t}),t&&Object(j.jsx)("p",{className:sn.a.text,children:n})]})},ln=["title","titleId"];function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function dn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mn(e,t){var n=e.title,a=e.titleId,i=dn(e,ln);return r.createElement("svg",un({viewBox:"0 0 88 88",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Ut||(Ut=r.createElement("rect",{width:88,height:88,rx:44,fill:"#FFDE89"})),Gt||(Gt=r.createElement("path",{d:"M58.666 25.667H29.334c-2.016 0-3.648 1.65-3.648 3.666l-.018 33L33 55h25.666a3.677 3.677 0 003.667-3.667v-22a3.677 3.677 0 00-3.666-3.666zm-3.666 22H33V44h22v3.667zm0-5.5H33V38.5h22v3.667zm0-5.5H33V33h22v3.667z",fill:"#1D2360"})))}var jn,hn=r.forwardRef(mn),fn=(n.p,function(){var e=Object(l.g)(),t=jt(),n=t.gameState,r=t.isGameStoreFetching;return Object(j.jsxs)(Y,{footerWithGradient:!0,isFetching:r,children:[Object(j.jsx)(Y.Content,{children:Object(j.jsx)(cn,{icon:Object(j.jsx)(hn,{}),mainText:"Check In",additionalText:"Your journey has begun. Your first mission - should you choose to accept it - is to inform Mission HQ that you are ALL IN."})}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(L,{title:n.isBotConnected?"Continue":"Check-in here",onClick:function(){n.isBotConnected?e.push(a.Game):window.open(n.linkToBot)},type:I.Main})})]})}),bn=function(){return fe.a.get("/games/self/main-story").then((function(e){var t=e.data;return gn(t)})).catch((function(e){throw e.response.data}))},vn=function(){return fe.a.get("/games/self/final-story").then((function(e){var t=e.data;return gn(t)})).catch((function(e){throw e.response.data}))},pn=function(){return fe.a.get("/games/self/final-event").then((function(e){var t=e.data;return On(t)})).catch((function(e){throw e.response.data}))},gn=function(e){return{pages:e.pages.map((function(e){return{text:e.text,resource:e.resource_url}}))}},On=function(e){return{text:e.text,resource:e.resource_url,externalLink:e.external_link_url}},yn=function(){return fe.a.patch("/self",{key:"viewed_main_story",value_bool:!0}).catch((function(e){throw e.response.data}))},xn=function(e){return fe.a.patch("/self/day/".concat(e),{key:"day_story_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},_n=function(){return fe.a.patch("/self",{key:"final_story_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))};!function(e){e[e.Main=0]="Main",e[e.Daily=1]="Daily",e[e.Final=2]="Final",e[e.FinalEvent=3]="FinalEvent"}(jn||(jn={}));var wn,kn=function(e,t){var n=Object(d.b)(),r=Object(l.g)(),i=jt().currentDay,o=Object(et.a)("main-story",bn,{staleTime:1/0,enabled:e===jn.Main}),s=o.data,c=o.isFetching,u=Object(et.a)(["daily-story",t],(function(){return function(e){return e?fe.a.get("/games/self/daily-story/".concat(e)).then((function(e){var t=e.data;return gn(t)})).catch((function(e){throw e.response.data})):fe.a.get("/games/self/daily-story").then((function(e){var t=e.data;return gn(t)})).catch((function(e){throw e.response.data}))}(t)}),{staleTime:1/0,enabled:e===jn.Daily}),m=u.data,j=u.isFetching,h=Object(et.a)("final-story",vn,{staleTime:1/0,enabled:e===jn.Final}),f=h.data,b=h.isFetching,v=Object(et.a)("final-event",pn,{staleTime:1/0,enabled:e===jn.FinalEvent}),p=v.data,g=v.isFetching,O=Object(ne.a)(yn,{onSuccess:function(){n.invalidateQueries("game"),r.push(a.Home)}}),y=Object(ne.a)(xn,{onSuccess:function(){n.invalidateQueries("game"),n.invalidateQueries(["daily-story",i.dayNumber]),r.push(i.status===De.Solved?a.Home:a.Mission)}}),x=Object(ne.a)(_n,{onSuccess:function(){n.invalidateQueries("game"),n.invalidateQueries("final-story"),r.push(a.Home)}});return{isStoryStoreFetching:c||j||b||g||O.isLoading||y.isLoading||x.isLoading,mainStory:s||null,dailyStory:m||null,finalStory:f||null,finalEvent:p||null,markMainDailyStoryViewed:function(){O.mutate()},markDailyStoryViewed:function(){y.mutate(i.dayNumber)},markFinalViewed:function(){x.mutate()}}},Cn=n(46),Sn=n.n(Cn),In=function(e){var t=e.items,n=e.activeIndex,a=e.setActiveIndex,r=e.onLastItem,i=e.nextItemButtonTitle,o=e.lastItemButtonTitle;return Object(j.jsxs)("div",{className:Sn.a.carouselControls,children:[Object(j.jsx)("div",{className:Sn.a.carouselDots,children:t.length>1&&t.map((function(e,t){return Object(j.jsx)("div",{className:_()(Sn.a.carouselDot,Object(A.a)({},Sn.a.activeDot,n===t)),onClick:function(){return a(t)}},t)}))}),Object(j.jsx)("div",{className:Sn.a.carouselButtons,children:Object(j.jsx)(L,{title:n===t.length-1?o:i,type:I.Main,onClick:r,additionalClasses:Sn.a.carouselButton})})]})},Tn=function(e){var t=Object(r.useState)(null),n=Object(m.a)(t,2),a=n[0],i=n[1];return{isFetching:Object(et.a)(["resourceUrl",e],(function(){return t=e,fe.a.get("/resources/images/".concat(Ct(t)),{responseType:"blob"}).then((function(e){return e.data})).catch((function(e){throw e.response.data}));var t}),{refetchOnWindowFocus:!1,enabled:!!e,onSuccess:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){t.result&&"string"===typeof t.result&&i(t.result)}}}).isFetching,resourceUrl:a}},Nn=n(116),Pn=n.n(Nn),Fn=function(e){var t=e.url,n=e.additionalClasses,a=Tn(t),r=a.isFetching,i=a.resourceUrl;return r||!i?Object(j.jsx)("div",{className:_()(Pn.a.placeholder,n)}):Object(j.jsx)("img",{src:i,className:_()(Pn.a.image,n),alt:""})},An=n(192),Mn=n.n(An),En=function(e){var t=e.pages,n=e.isFetching,a=e.onStart,i=e.onClose,o=Object(r.useState)(0),s=Object(m.a)(o,2),c=s[0],l=s[1];return Object(j.jsxs)(Y,{withoutHeader:!0,footerWithGradient:!0,isFetching:n,children:[Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(F,{title:"Hello, Agent!",onClose:i}),t.map((function(e,t){return Object(j.jsx)(Bn,{page:e,hidden:t!==c},t)}))]}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(In,{items:t,activeIndex:c,setActiveIndex:l,onLastItem:function(){c<t.length-1?l((function(e){return e+1})):a&&a()},nextItemButtonTitle:"Next",lastItemButtonTitle:"Start"})})]})},Bn=function(e){var t=e.page;return e.hidden?null:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Fn,{url:t.resource}),Object(j.jsx)("div",{className:Mn.a.pageText,children:t.text})]})},Ln=function(){var e=Object(l.g)(),t=kn(jn.Main),n=t.mainStory,r=t.markMainDailyStoryViewed,i=t.isStoryStoreFetching;return Object(j.jsx)(En,{pages:n?n.pages:[],isFetching:i,onStart:function(){r()},onClose:function(){return e.push(a.Home)}})},Hn=["title","titleId"];function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Dn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vn(e,t){var n=e.title,a=e.titleId,i=Dn(e,Hn);return r.createElement("svg",Rn({viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,wn||(wn=r.createElement("path",{d:"M1.667 0l-.94.94L3.78 4 .727 7.06l.94.94 4-4-4-4z"})))}var zn,Un=r.forwardRef(Vn),Gn=(n.p,["title","titleId"]);function Wn(){return(Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function qn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qn(e,t){var n=e.title,a=e.titleId,i=qn(e,Gn);return r.createElement("svg",Wn({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,zn||(zn=r.createElement("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zM8 15l-5-5 1.41-1.41L8 12.17l7.59-7.59L17 6l-9 9z"})))}var Zn,Yn=r.forwardRef(Qn),Kn=(n.p,["title","titleId"]);function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Jn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $n(e,t){var n=e.title,a=e.titleId,i=Jn(e,Kn);return r.createElement("svg",Xn({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,Zn||(Zn=r.createElement("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var ea,ta=r.forwardRef($n),na=(n.p,n(18)),aa=n.n(na),ra=function(e){var t=e.children;return Object(j.jsx)("div",{className:aa.a.accordion,children:t})};!function(e){e[e.Default=0]="Default",e[e.Mission=1]="Mission"}(ea||(ea={}));var ia;ra.Panel=function(e){var t,n=e.title,a=e.isExpandedByDefault,i=void 0!==a&&a,o=e.icon,s=e.status,c=e.checked,l=e.type,u=void 0===l?ea.Default:l,d=e.children,h=Object(r.useState)(!i),f=Object(m.a)(h,2),b=f[0],v=f[1];return Object(j.jsxs)("div",{className:_()(aa.a.accordionPanel,(t={},Object(A.a)(t,aa.a.mission,u===ea.Mission),Object(A.a)(t,aa.a.collapsed,b),t)),children:[Object(j.jsxs)("div",{className:aa.a.header,onClick:function(){return v((function(e){return!e}))},children:[Object(j.jsxs)("div",{className:aa.a.headerLeft,children:[o?Object(j.jsx)("span",{className:aa.a.icon,children:o}):c?Object(j.jsx)(Yn,{className:aa.a.checkedIcon}):Object(j.jsx)(ta,{className:_()(aa.a.uncheckedIcon,Object(A.a)({},aa.a.collapsedUncheckedIcon,b))}),Object(j.jsx)("span",{className:aa.a.title,children:n})]}),Object(j.jsxs)("div",{className:aa.a.headerRight,children:[s&&Object(j.jsx)("span",{className:aa.a.status,children:s}),Object(j.jsx)(Un,{className:_()(aa.a.arrowIcon,Object(A.a)({},aa.a.collapsedArrowIcon,b))})]})]}),Object(j.jsx)("div",{className:_()(aa.a.content,Object(A.a)({},aa.a.hidden,b)),children:d})]})};var oa=["title","titleId"];function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ca(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function la(e,t){var n=e.title,a=e.titleId,i=ca(e,oa);return r.createElement("svg",sa({viewBox:"0 0 16 21",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ia||(ia=r.createElement("path",{d:"M14 7h-1V5c0-2.76-2.24-5-5-5S3 2.24 3 5v2H2C.9 7 0 7.9 0 9v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H4.9V5c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"})))}var ua,da,ma=r.forwardRef(la),ja=(n.p,n(74)),ha=n.n(ja),fa=function(){var e=Object(l.g)(),t=Object(r.useRef)(null),n=Et(),i=n.nickname,o=n.changeNickname,s=n.email,c=n.avatar,u=n.changePassword,d=n.error,h=n.passwordWasChanged,f=n.isProfileStoreFetching,b=Object(r.useState)(i),v=Object(m.a)(b,2),p=v[0],g=v[1],O=Object(r.useState)(""),y=Object(m.a)(O,2),x=y[0],_=y[1],w=Object(r.useState)(""),k=Object(m.a)(w,2),C=k[0],S=k[1];Object(r.useEffect)((function(){g(i)}),[i]);var T=function(){i!==p&&o(p)},N=function(){u(x,C,(function(){_(""),S("")}))},P=function(e,t){return!e||e.field!==t};return Object(j.jsxs)(Y,{isFetching:f,children:[Object(j.jsx)(Y.Header,{backTo:a.Home,children:Object(j.jsx)(F,{title:"Profile"})}),Object(j.jsxs)(Y.Content,{children:[!!d&&"nickname"===d.field&&Object(j.jsx)(Ce,{type:ee.error,children:d.message}),h&&Object(j.jsx)(Ce,{type:ee.warning,children:"Password was changed successfully!"}),Object(j.jsxs)("div",{className:ha.a.profileAvatarContainer,children:[Object(j.jsx)(wt,{type:gt.Round,image:c,additionalClasses:ha.a.profileAvatar}),Object(j.jsx)(L,{title:"Change Avatar",onClick:function(){return e.push(a.ProfileChangeAvatar)},type:I.Dark})]}),Object(j.jsx)(We,{value:s,label:"Email",name:"email",disabled:!0,additionalClasses:"verticalSpace"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),T(),t&&t.current&&t.current.blur()},children:Object(j.jsx)(We,{value:p,onChange:function(e){g(e.target.value)},onBlur:T,inputRef:t,label:"Username",name:"nickname",isValid:P(d,"nickname"),additionalClasses:"verticalSpace"})}),Object(j.jsx)(ra,{children:Object(j.jsxs)(ra.Panel,{title:"Change password",icon:Object(j.jsx)(ma,{className:ha.a.passwordIcon}),children:[!!d&&("oldPassword"===d.field||"newPassword"===d.field)&&Object(j.jsx)(Ce,{type:ee.error,children:d.message}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N()},children:[Object(j.jsx)(We,{value:x,onChange:function(e){return _(e.target.value)},type:"password",label:"Old Password",name:"oldPassword",isValid:P(d,"oldPassword"),additionalClasses:"verticalSpace"}),Object(j.jsx)(We,{value:C,onChange:function(e){return S(e.target.value)},type:"password",label:"New Password",name:"newPassword",isValid:P(d,"newPassword"),additionalClasses:"verticalSpace"}),Object(j.jsx)("div",{className:ha.a.changeButton,children:Object(j.jsx)(L,{title:"Change",onClick:N,type:I.Main})})]})]},0)})]})]})},ba=function(){var e=Pt().isAvatarListStoreFetching;return Object(j.jsxs)(Y,{isFetching:e,children:[Object(j.jsx)(Y.Header,{backTo:a.Profile,children:Object(j.jsx)(F,{title:"Change Avatar"})}),Object(j.jsx)(Y.Content,{children:Object(j.jsx)(Mt,{})})]})},va=n(117),pa=n.n(va),ga=function(e){var t=e.progress,n=e.additionalClasses;return Object(j.jsx)("div",{className:_()(pa.a.progressContainer,n),children:Object(j.jsx)("div",{style:{width:"".concat(Oa(t),"%")},className:pa.a.progress})})},Oa=function(e){return e<0?0:100<e?100:e},ya=function(){var e=Object(l.g)(),t=en(),n=t.teamName,i=t.changeTeamName,o=t.validateTeamName,s=t.teamPlayers,c=t.isCurrentUserCaptain,u=t.error,d=t.progress,h=t.isTeamStoreFetching,f=Object(r.useState)(""),b=Object(m.a)(f,2),v=b[0],p=b[1];Object(r.useEffect)((function(){p(n)}),[n]);return Object(j.jsxs)(Y,{isFetching:h,children:[Object(j.jsx)(Y.Header,{onBack:function(){o(v).then((function(){e.push(a.Home)})).catch((function(){}))},children:Object(j.jsx)(F,{title:"Team"})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(ga,{progress:d,additionalClasses:"verticalSpace"}),Object(j.jsx)(Zt,{currentTeamName:v,changeTeamName:i,setCurrentTeamName:p,teamPlayers:s,isCurrentUserCaptain:c,error:u})]})]})},xa=["title","titleId"];function _a(){return(_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function wa(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ka(e,t){var n=e.title,a=e.titleId,i=wa(e,xa);return r.createElement("svg",_a({viewBox:"0 0 88 88",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,ua||(ua=r.createElement("rect",{width:88,height:88,rx:44,fill:"#FFDE89"})),da||(da=r.createElement("path",{d:"M42.166 47.666h-3.667c0-9.111 7.389-16.5 16.5-16.5v3.667c-7.095 0-12.833 5.739-12.833 12.834zm12.833-5.5V38.5c-5.06 0-9.166 4.106-9.166 9.166h3.666c0-3.043 2.457-5.5 5.5-5.5zM34.833 29.334a3.654 3.654 0 00-3.667-3.666 3.654 3.654 0 00-3.667 3.666A3.654 3.654 0 0031.166 33a3.654 3.654 0 003.667-3.667zm8.158.917h-3.667a5.481 5.481 0 01-5.408 4.583h-5.5a2.746 2.746 0 00-2.75 2.75v4.584h11v-4.144c3.41-1.082 5.958-4.088 6.325-7.773zm13.842 22.916a3.654 3.654 0 003.666-3.666 3.654 3.654 0 00-3.666-3.667 3.654 3.654 0 00-3.667 3.667 3.654 3.654 0 003.667 3.666zM59.583 55h-5.5a5.48 5.48 0 01-5.409-4.584h-3.666c.366 3.686 2.915 6.692 6.325 7.774v4.143h11V57.75a2.746 2.746 0 00-2.75-2.75z",fill:"#1D2360"})))}var Ca,Sa=r.forwardRef(ka),Ia=(n.p,n(193)),Ta=n.n(Ia),Na=function(){var e=jt(),t=e.gameState,n=e.isGameStoreFetching;return Object(j.jsxs)(Y,{footerWithActions:!0,isFetching:n,children:[Object(j.jsx)(Y.Header,{backTo:a.Home,children:Object(j.jsx)(F,{title:"Contact"})}),Object(j.jsx)(Y.Content,{children:Object(j.jsx)(cn,{icon:Object(j.jsx)(Sa,{}),mainText:"Need help?",additionalText:"Sherlock got his Watson, you have us - Help Force One! Here to serve you. Need a live hint or somethings gone rogue contact our live top agents @HelpForce1. ps. use contact HQ only when instructed."})}),Object(j.jsxs)(Y.Footer,{children:[Object(j.jsx)(L,{title:"Live HelpForce1",type:I.Secondary,additionalClasses:Ta.a.contactButton,onClick:function(){window.open(t.linkToHelp)}}),Object(j.jsx)(L,{title:"Contact HQ",type:I.Main,onClick:function(){window.open(t.linkToBot)}})]})]})},Pa=n(33),Fa=n.n(Pa);!function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(Ca||(Ca={}));var Aa,Ma=function(e){var t,n,r=e.inventory,i=e.size,o=Object(l.g)();return Object(j.jsxs)("div",{className:_()(Fa.a.inventory,(t={},Object(A.a)(t,Fa.a.used,r.isUsed),Object(A.a)(t,Fa.a.small,i===Ca.Small),Object(A.a)(t,Fa.a.large,i===Ca.Large),t)),onClick:function(){return o.push({pathname:a.InventoryDetails,state:{inventory:r}})},children:[Object(j.jsx)(Fn,{url:r.resource,additionalClasses:_()(Fa.a.inventoryImage,(n={},Object(A.a)(n,Fa.a.inventoryImageUsed,r.isUsed),Object(A.a)(n,Fa.a.smallImage,i===Ca.Small),Object(A.a)(n,Fa.a.largeImage,i===Ca.Large),n))}),r.isUsed&&Object(j.jsx)(Yn,{className:Fa.a.checkedIcon})]})},Ea=n(34),Ba=n.n(Ea),La=function(e){for(var t=e.inventoryItems,n=[],a=0;a<4-t.length;a++)n.push(Object(j.jsx)("div",{className:Ba.a.inventoryPlaceholder},a));return 0===t.length?Object(j.jsxs)("div",{className:Ba.a.inventoryList,children:[Object(j.jsx)("div",{className:Ba.a.noInventoryMessage,children:"You don\u2019t have any inventory yet"}),Object(j.jsx)("div",{className:Ba.a.inventoryItems,children:n})]}):Object(j.jsx)("div",{className:Ba.a.inventoryList,children:Object(j.jsx)("div",{className:Ba.a.inventoryWrapper,children:Object(j.jsxs)("div",{className:Ba.a.inventoryItems,children:[t.map((function(e,t){return Object(j.jsx)("div",{className:Ba.a.inventoryItem,children:Object(j.jsx)(Ma,{inventory:e,size:Ca.Large})},t)})),n.length>0&&Object(j.jsx)("div",{className:Ba.a.inventoryItems,children:n})]})})})},Ha=n(47),Ra=n.n(Ha),Da=function(){var e=Object(l.g)(),t=en(),n=t.teamName,r=t.teamPlayers,i=t.progress;return Object(j.jsxs)("div",{className:Ra.a.gameInfo,children:[Object(j.jsxs)("div",{className:Ra.a.teamInfo,children:[Object(j.jsxs)("div",{className:Ra.a.teamName,children:["Team: ",n]}),Object(j.jsxs)("div",{className:Ra.a.teamMembers,onClick:function(){return e.push(a.ProfileTeam)},children:[r.length," members",Object(j.jsx)(Un,{className:Ra.a.gtIcon})]})]}),Object(j.jsx)("div",{className:Ra.a.gameProgress,children:Object(j.jsx)(ga,{progress:i})})]})},Va=function(e){var t=e.dayNumber,n=e.answer;return fe.a.patch("/self/day/".concat(t),{key:"passcode",value_str:n}).catch((function(e){throw e.response.data}))},za=function(e){var t=e.dayNumber,n=e.taskId,a=e.answer;return fe.a.patch("/self/days/".concat(t,"/tasks/").concat(n),{key:"answer",value_str:a}).then((function(e){return function(e){return{correct:e.correct,inventoryItems:e.new_inventory_items}}(e.data)})).catch((function(e){throw e.response.data}))},Ua=function(e){var t=e.dayNumber,n=e.taskId;return fe.a.patch("/self/days/".concat(t,"/tasks/").concat(n),{key:"skipped",value_bool:!0}).then((function(e){return e.data})).catch((function(e){throw e.response.data}))},Ga=function(e){return fe.a.patch("/self/day/".concat(e),{key:"team_task_completion_viewed",value_bool:!0}).catch((function(e){throw e.response.data}))},Wa=function(e){var t=e.dayNumber,n=e.taskId,a=e.hintNumber;return fe.a.get("/self/days/".concat(t,"/tasks/").concat(n,"/hints/").concat(a)).then((function(e){return e.data})).catch((function(e){throw e.response.data}))},qa=["Correct","Super Correct!","Well done!","You are right","Awesome! Fine job you did!"],Qa=["Incorrect","Think more time","Not right","Wrong answer","Absolutely wrong"],Za=function(e){return e[Math.floor(Math.random()*e.length)]},Ya=function(){var e=Object(d.b)(),t=Object(r.useState)(""),n=Object(m.a)(t,2),i=n[0],o=n[1],s=Object(l.g)(),c=jt(),u=c.currentDay,j=c.isGameStoreFetching,h=Object(r.useState)([]),f=Object(m.a)(h,2),b=f[0],v=f[1],p=Object(r.useState)(null),g=Object(m.a)(p,2),O=g[0],y=g[1],x=Object(r.useState)(0),_=Object(m.a)(x,2),w=_[0],k=_[1],C=Object(r.useState)(null),S=Object(m.a)(C,2),I=S[0],T=S[1],N=Object(r.useState)(null),P=Object(m.a)(N,2),F=P[0],A=P[1],M=Object(ne.a)(Va),E=Object(ne.a)(za),B=Object(ne.a)(Ua),L=Object(ne.a)(Ga,{onSuccess:function(){e.invalidateQueries("game")}}),H=Object(ne.a)(Wa,{onSuccess:function(){e.invalidateQueries("game")}}),R=b.filter((function(e){return e.isSkipped})).length,D=u.tasks.filter((function(e){var t=e.isSolved,n=e.isTeamTask;return t&&!n})).length,V=1<=R,z=0!==u.totalTasks-D-b.length-1,U=!V&&z,G=w<b.length-1;Object(r.useEffect)((function(){v(u.tasks.filter((function(e){var t=e.isSolved,n=e.isTeamTask;return!t&&!n})));var e=u.tasks.filter((function(e){var t=e.isSolved,n=e.isTeamTask;return!t&&n}));e.length>0&&y(e[0])}),[u]);var W=function(){e.invalidateQueries("game"),e.invalidateQueries("team")};return{isMissionStoreFetching:j||M.isLoading||E.isLoading||B.isLoading||L.isLoading||H.isLoading,answer:i,setAnswer:o,unlockDay:function(t,n){M.isLoading||M.mutateAsync({dayNumber:t,answer:n}).then((function(e){return e.data})).then((function(e){var t=e.correct;return T({isCorrect:t,message:Za(t?qa:Qa)}),t})).then((function(t){setTimeout((function(){t?(e.invalidateQueries("game"),s.push(a.Mission)):T(null)}),3e3)}))},unlockResult:I,answerTask:function(e,t,n){0===n.trim().length||E.isLoading||E.mutateAsync({dayNumber:e,taskId:t.id,answer:n}).then((function(e){return A({isCorrect:e.correct,message:e.correct?Za(qa):Za(Qa)}),e.correct||W(),e})).then((function(e){setTimeout((function(){if(e.correct){if(W(),e.inventoryItems.length>0)return void s.push({pathname:a.ReceivedInventories,state:{inventories:e.inventoryItems}});k(0),t.isTeamTask&&s.push(a.Home)}A(null),o("")}),3e3)}))},answerTaskResult:F,currentTask:b[w],teamTask:O,isNextPrivateTaskAvailable:U||G,switchToNextTask:function(){V?k((function(e){return e+1})):B.mutateAsync({dayNumber:u.dayNumber,taskId:b[w].id}).then((function(t){t.skipped&&(e.invalidateQueries("game"),k((function(e){return e+1})))})),o(""),A(null)},isPrevPrivateTaskAvailable:b.length>1&&0!==w,switchToPrevTask:function(){k((function(e){return e-1})),o(""),A(null)},markTeamTaskCompletionViewed:function(){L.mutateAsync(u.dayNumber).then((function(){s.push(a.Home)}))},fetchHint:function(e,t,n){H.isLoading||H.mutate({dayNumber:e,taskId:t,hintNumber:n})}}},Ka=n(48),Xa=n.n(Ka),Ja=function(e){var t=e.answer,n=e.onChange,a=e.onSubmit,i=e.placeholder,o=e.answerResult,s=Object(r.useRef)(null);return Object(j.jsxs)("div",{className:Xa.a.answerContainer,children:[!!o&&Object(j.jsx)(Ce,{type:o.isCorrect?ee.warning:ee.error,children:o.message}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),a&&a(),s&&s.current&&s.current.blur()},children:Object(j.jsx)(We,{value:t,onChange:n,placeholder:i,inputRef:s,addonAfter:Object(j.jsx)("button",{className:Xa.a.answerButton,onClick:a,type:"submit",children:Object(j.jsx)(Yn,{className:_()(Xa.a.answerButtonIcon,Object(A.a)({},Xa.a.correctButtonIcon,!!o&&o.isCorrect))})}),additionalClasses:_()(Xa.a.answerInput,Object(A.a)({},Xa.a.correctAnswerInput,!!o&&o.isCorrect))})})]})},$a=n(61),er=n.n($a),tr=function(e){var t=e.inventoryItems.filter((function(e){return e.isAvailable}));return 0===t.length?null:Object(j.jsx)("div",{className:er.a.inventoryItems,children:t.map((function(e,t){return Object(j.jsxs)("div",{className:er.a.inventory,children:[Object(j.jsx)(Ma,{inventory:e,size:Ca.Small}),Object(j.jsxs)("div",{className:er.a.inventoryInfo,children:[Object(j.jsx)("div",{className:er.a.inventoryTitle,children:"Personal Item:"}),Object(j.jsx)("div",{className:er.a.inventoryName,children:e.name})]})]},t)}))})},nr=n(194),ar=n.n(nr),rr=function(e){var t=e.day,n=Object(l.g)(),r=Ya(),i=r.answer,o=r.setAnswer,s=r.unlockDay,c=r.unlockResult;return t.status===De.Solved?Object(j.jsxs)("div",{children:[Object(j.jsx)(tr,{inventoryItems:t.inventoryItems}),Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Continue",onClick:function(){return n.push({pathname:a.MissionStory,state:{dayNumber:t.dayNumber}})},type:I.Main})})]}):t.status===De.NotStarted?Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Starts at ".concat(t.startTime.format("lll")),type:I.Secondary})}):t.isPasscodeEntered?Object(j.jsxs)("div",{className:ar.a.dayMission,children:[Object(j.jsx)(tr,{inventoryItems:t.inventoryItems}),Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Continue",type:I.Main,onClick:function(){return n.push(a.Mission)}})})]}):Object(j.jsx)(Ja,{answer:i,onChange:function(e){return o(e.target.value)},onSubmit:function(){return s(t.dayNumber,i)},answerResult:c,placeholder:"Type passcode..."})},ir=n(75),or=n.n(ir),sr=function(){var e=Object(l.g)(),t=Et(),n=t.avatar,r=t.isProfileStoreFetching,i=jt(),o=i.gameState,s=i.currentDay,c=i.areAllTasksSolved,u=i.allInventoryItems,d=i.isGameStoreFetching,m=Ya().isMissionStoreFetching,h=o.gameName,f=o.days,b=d||r||m;return b||s.status!==De.Solved||s.isTeamTaskCompletionViewed?b||!c||o.isFinalStoryViewed?Object(j.jsxs)(Y,{isFetching:b,children:[Object(j.jsx)(Y.Header,{children:Object(j.jsxs)("div",{className:or.a.header,children:[Object(j.jsx)(F,{title:h,additionalClasses:or.a.gameName}),Object(j.jsxs)("div",{className:or.a.headerActions,children:[Object(j.jsx)(L,{title:"Help",onClick:function(){return e.push(a.Contact)},type:I.Dark,additionalClasses:or.a.helpButton}),Object(j.jsx)(wt,{type:gt.Round,onClick:function(){return e.push(a.Profile)},image:n})]})]})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(La,{inventoryItems:u}),Object(j.jsxs)(ra,{children:[Object(j.jsx)(ra.Panel,{title:"Check In",checked:o.isBotConnected,children:Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Continue",onClick:function(){return e.push(a.OnboardingCheckIn)},type:I.Main})})},0),Object(j.jsx)(ra.Panel,{title:"Learn the story",checked:o.isMainStoryViewed,children:Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Continue",onClick:function(){return e.push(a.OnboardingMainStory)},type:I.Main})})},1),f.filter((function(e){return e.status!==De.Future})).map((function(e,t){return Object(j.jsx)(ra.Panel,{title:"Mission ".concat(t+1),status:cr(e.status),type:e.status===De.InProgress||e.status===De.NotStarted?ea.Mission:ea.Default,isExpandedByDefault:e.status===De.InProgress||e.status===De.NotStarted,checked:e.status===De.Solved,children:Object(j.jsx)(rr,{day:e})},t)})),c&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ra.Panel,{title:"Learn the final story",checked:o.isFinalStoryViewed,children:Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Continue",onClick:function(){return e.push(a.FinalStory)},type:I.Main})})}),Object(j.jsx)(ra.Panel,{title:"Final Mission",checked:!1,isExpandedByDefault:!0,type:ea.Mission,children:Object(j.jsx)("div",{className:"centerContent",children:nt()()<o.finalEventStartTime?Object(j.jsx)(L,{title:"Starts at ".concat(o.finalEventStartTime.format("lll")),type:I.Secondary}):Object(j.jsx)(L,{title:"Enter backdoor",onClick:function(){return e.push(a.FinalEvent)},type:I.Main})})})]})]})]}),Object(j.jsx)(Y.Footer,{children:Object(j.jsx)(Da,{})})]}):(e.push(a.FinalStory),null):(e.push(a.MissionCompleted),null)},cr=function(e){switch(e){case De.Solved:return"Completed";case De.InProgress:return"In progress";default:return}},lr=function(){var e=Object(l.h)().state.inventory;return Object(j.jsxs)(Y,{children:[Object(j.jsx)(Y.Header,{backTo:a.Home,children:Object(j.jsx)(F,{title:"Personal Item"})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)(Fn,{url:e.resource,additionalClasses:"verticalSpace"}),Object(j.jsx)("div",{children:e.name})]})]})},ur=function(){return fe.a.post("/self/log-spent-time",{object:"total",amount_s:60}).catch((function(e){throw e.response.data}))};!function(e){e[e.TotalTime=0]="TotalTime",e[e.TaskTime=1]="TaskTime"}(Aa||(Aa={}));var dr,mr=function(e,t){var n=Object(r.useState)(!1),a=Object(m.a)(n,2),i=a[0],o=a[1];return Object(et.a)("total-time",ur,{refetchInterval:6e4,refetchOnMount:!1,staleTime:1/0,enabled:e===Aa.TotalTime&&i}),Object(et.a)(["task-time",t],(function(){return function(e){return fe.a.post("/self/log-spent-time",{object:"task",task_id:e,amount_s:60}).catch((function(e){throw e.response.data}))}(t)}),{refetchInterval:6e4,refetchOnMount:!1,staleTime:1/0,enabled:e===Aa.TaskTime&&i}),{isTrackingEnabled:i,setIsTrackingEnabled:o}},jr=["title","titleId"];function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function fr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function br(e,t){var n=e.title,a=e.titleId,i=fr(e,jr);return r.createElement("svg",hr({viewBox:"0 0 21 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,dr||(dr=r.createElement("path",{d:"M17.4 3.6C15.55 1.99 13.15 1 10.5 1 5.85 1 1.92 4.03.54 8.22L2.9 9a8.002 8.002 0 017.6-5.5c1.95 0 3.73.72 5.12 1.88L12 9h9V0l-3.6 3.6z"})))}var vr,pr,gr=r.forwardRef(br),Or=(n.p,n(76)),yr=n.n(Or),xr=function(e){var t=e.type,n=e.resources;if(t===Ve.Text||t===Ve.Vr||t===Ve.Ar)return null;if(t===Ve.Url)return Object(j.jsx)("div",{className:yr.a.urlButton,children:Object(j.jsx)(L,{title:"Go to site",type:I.Main,onClick:function(){window.open(n[0])}})});if(t===Ve.Video){var a=n[0].split("/").pop();return Object(j.jsx)("div",{className:yr.a.videoWrapper,children:Object(j.jsx)("iframe",{src:"https://player.vimeo.com/video/".concat(a,"?color=ef2200&byline=0"),title:"video",className:yr.a.videoIframe,frameBorder:0,allow:"fullscreen",allowFullScreen:!0})})}return Object(j.jsx)("div",{className:yr.a.imageWrapper,children:Object(j.jsx)(Fn,{url:n[0]})})},_r=n(118),wr=n.n(_r),kr=function(e){var t=e.task;return Object(j.jsxs)("div",{children:[t&&!!t.text&&Object(j.jsx)("div",{className:wr.a.taskText,children:t.text}),t&&Object(j.jsx)(xr,{type:t.type,resources:t.resources}),t&&t.isTeamTask&&Object(j.jsx)("div",{className:wr.a.teamTaskText,children:"1+1+1+...+1 and the job is mostly done. Now, who has one? If only you knew someone..."}),t&&t.hints.map((function(e,t){return Object(j.jsx)(Ce,{type:ee.info,children:e},t)}))]})},Cr=n(30),Sr=n.n(Cr),Ir=function(){var e=Object(l.g)(),t=jt(),n=t.currentDay,i=t.isGameStoreFetching,o=en(),s=o.isCurrentUserCaptain,c=o.isTeamStoreFetching,u=Ya(),d=u.answer,m=u.setAnswer,h=u.currentTask,f=u.teamTask,b=u.isNextPrivateTaskAvailable,v=u.isPrevPrivateTaskAvailable,p=u.switchToPrevTask,g=u.switchToNextTask,O=u.answerTaskResult,y=u.answerTask,x=u.fetchHint,w=u.isMissionStoreFetching,k=i||c||w,C=!f||s,S=h||f,T=mr(Aa.TaskTime,null===S||void 0===S?void 0:S.id),N=T.isTrackingEnabled,P=T.setIsTrackingEnabled;if(Object(r.useEffect)((function(){N||P(!0)}),[]),!k&&n.status===De.Solved)return e.push(a.Home),null;if(!k&&!n.isDailyStoryViewed)return e.push({pathname:a.MissionStory,state:{dayNumber:n.dayNumber}}),null;return Object(j.jsxs)(Y,{isFetching:k,footerWithGradient:C,children:[Object(j.jsx)(Y.Header,{backTo:a.Home,children:Object(j.jsxs)("div",{className:Sr.a.header,children:[Object(j.jsx)(F,{title:"Mission ".concat(n.dayNumber)}),Object(j.jsxs)("div",{className:Sr.a.headerActions,children:[(null===S||void 0===S?void 0:S.areHintsAvailable)&&Object(j.jsx)(L,{title:"Hint",type:I.Dark,onClick:function(){return x(n.dayNumber,S.id,S.hints.length)}}),v&&Object(j.jsx)("button",{className:Sr.a.taskButton,onClick:function(){p()},children:Object(j.jsx)(gr,{className:_()(Sr.a.taskButtonIcon,Sr.a.prevTaskButton)})}),b&&Object(j.jsx)("button",{className:Sr.a.taskButton,onClick:function(){g()},children:Object(j.jsx)(gr,{className:_()(Sr.a.taskButtonIcon,Sr.a.nextTaskButton)})})]})]})}),Object(j.jsx)(Y.Content,{additionalClasses:Sr.a.missionContent,children:Object(j.jsx)(kr,{task:S})}),k||C?Object(j.jsx)(Y.Footer,{centered:!0,additionalClasses:Sr.a.missionFooter,children:Object(j.jsx)(Ja,{answer:d,onChange:function(e){return m(e.target.value)},onSubmit:function(){S&&y(n.dayNumber,S,d)},answerResult:O,placeholder:"Type your answer..."})}):null]})},Tr=["title","titleId"];function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pr(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fr(e,t){var n=e.title,a=e.titleId,i=Pr(e,Tr);return r.createElement("svg",Nr({viewBox:"0 0 88 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,vr||(vr=r.createElement("rect",{width:88,height:88,rx:44,fill:"#FFDE89"})),pr||(pr=r.createElement("path",{d:"M44 25.667c-10.12 0-18.334 8.213-18.334 18.333s8.213 18.333 18.333 18.333S62.333 54.12 62.333 44s-8.214-18.333-18.334-18.333zm-3.667 27.5L31.166 44l2.585-2.585 6.582 6.563 13.915-13.915 2.585 2.604-16.5 16.5z",fill:"#1D2360"})))}var Ar=r.forwardRef(Fr),Mr=(n.p,function(){var e=Ya(),t=e.markTeamTaskCompletionViewed,n=e.isMissionStoreFetching;return Object(j.jsxs)(Y,{footerWithGradient:!0,isFetching:n,children:[Object(j.jsx)(Y.Content,{children:Object(j.jsx)(cn,{icon:Object(j.jsx)(Ar,{}),mainText:"Daily mission completed!"})}),Object(j.jsx)(Y.Footer,{centered:!0,children:Object(j.jsx)(L,{title:"Continue",onClick:function(){t()},type:I.Main})})]})}),Er=function(){var e=Object(l.g)(),t=Object(l.h)(),n=kn(jn.Daily,t.state.dayNumber),r=n.dailyStory,i=n.markDailyStoryViewed,o=n.isStoryStoreFetching;return Object(j.jsx)(En,{pages:r?r.pages:[],isFetching:o,onStart:function(){i()},onClose:function(){e.push(a.Home)}})},Br=n(119),Lr=n.n(Br),Hr=function(){var e=Object(l.g)(),t=Object(r.useState)(0),n=Object(m.a)(t,2),i=n[0],o=n[1],s=Object(l.h)().state.inventories,c=function(){i<s.length-1?o((function(e){return e+1})):e.push(a.Mission)};return Object(j.jsxs)(Y,{withoutHeader:!0,footerWithGradient:1===s.length,children:[Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)("div",{className:Lr.a.title,children:"Congrats!"}),Object(j.jsx)("div",{className:Lr.a.message,children:"You have just unlocked the secret to the universe. That or just an item. Either way, keep it handy, useful it will be."}),Object(j.jsx)(Fn,{url:s[i].resource,additionalClasses:"verticalSpace"}),Object(j.jsx)("div",{children:s[i].name})]}),Object(j.jsx)(Y.Footer,{centered:!0,children:s.length>1?Object(j.jsx)(In,{items:s,activeIndex:i,setActiveIndex:o,onLastItem:c,nextItemButtonTitle:"Next",lastItemButtonTitle:"Continue"}):Object(j.jsx)(L,{title:"Continue",type:I.Main,onClick:c})})]})},Rr=function(){var e=Object(l.g)(),t=jt().gameState,n=kn(jn.Final),r=n.finalStory,i=n.markFinalViewed,o=n.isStoryStoreFetching;return Object(j.jsx)(En,{pages:r?r.pages:[],isFetching:o,onStart:function(){i()},onClose:t.isFinalStoryViewed?function(){return e.push(a.Home)}:void 0})},Dr=n(195),Vr=n.n(Dr),zr=function(){var e=function(){var e=Object(l.g)(),t=Object(d.b)(),n=Object(et.a)("final-questionnaire",st,{staleTime:1/0}),r=n.data,i=n.isFetching,o=Object(ne.a)(ct,{onSuccess:function(){t.invalidateQueries("game"),e.push(a.Home)}});return{isQuestionnaireStoreFetching:i,feedbackForm:r||"",markFinalPageViewed:function(){o.mutate()}}}(),t=e.feedbackForm,n=e.markFinalPageViewed,r=e.isQuestionnaireStoreFetching;return Object(j.jsxs)(Y,{footerWithActions:!0,isFetching:r,children:[Object(j.jsx)(Y.Header,{children:Object(j.jsx)(F,{title:"",onClose:n})}),Object(j.jsx)(Y.Content,{children:Object(j.jsx)(cn,{icon:Object(j.jsx)(Ar,{}),mainText:"Mission completed!",additionalText:"Today you made a piece of history. Together you are unstoppable and can create legends. Thank you! How was it for you? Fill out the form below to let us know about your experience with the quest."})}),Object(j.jsx)(Y.Footer,{children:Object(j.jsx)(L,{title:"Rate experience",type:I.Secondary,additionalClasses:Vr.a.rateButton,onClick:function(){window.open(t)}})})]})},Ur=function(){var e=kn(jn.FinalEvent),t=e.finalEvent,n=e.isStoryStoreFetching;return t?Object(j.jsxs)(Y,{isFetching:n,children:[Object(j.jsx)(Y.Header,{backTo:a.Home,children:Object(j.jsx)(F,{title:"Final Event"})}),Object(j.jsxs)(Y.Content,{children:[Object(j.jsx)("div",{className:"verticalSpace",children:t.text}),Object(j.jsx)(Fn,{url:t.resource,additionalClasses:"verticalSpace"}),Object(j.jsx)("div",{className:"centerContent",children:Object(j.jsx)(L,{title:"Go to details",type:I.Main,onClick:function(){return window.open(null===t||void 0===t?void 0:t.externalLink)}})})]})]}):null},Gr=n(77),Wr=n.n(Gr),qr=function(){var e=Object(r.useState)("unknown"),t=Object(m.a)(e,2),n=t[0],a=t[1],i=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;return Object(r.useEffect)((function(){window.matchMedia("(display-mode: standalone)").addEventListener("change",(function(e){e.matches?a("standalone"):a("browser")}))})),Object(j.jsxs)("div",{className:Wr.a.install,children:[Object(j.jsxs)("div",{className:Wr.a.installContent,children:[Object(j.jsx)("div",{className:Wr.a.icon}),Object(j.jsx)("h1",{className:Wr.a.title,children:"You\u2019re just two taps away."}),Object(j.jsxs)("div",{children:["For the best experience add the app to your home screen:",Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"Open this website in Safari."}),Object(j.jsx)("li",{children:"Tap the \u2018Share\u2019 button."}),Object(j.jsx)("li",{children:"Scroll down and tap \u2018Add to Home Screen.\u2019"}),Object(j.jsx)("li",{children:"Tap add button in the top right corner."}),Object(j.jsx)("li",{children:"Done, the app is on your home screen!"})]}),Object(j.jsx)("h1",{children:i?"Standalone":"Not standalone"}),Object(j.jsx)("p",{children:Object(j.jsxs)("h3",{children:["Mode: ",n]})})]})]}),"s"]})},Qr=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Not Found"})})},Zr=n(69),Yr=function(e){return de()?Object(j.jsx)(l.b,Object(Zr.a)({},e)):Object(j.jsx)(l.a,{to:"true"===window.localStorage.getItem(je)?a.Login:a.Signup})},Kr=function(e){var t=e.history,n=Object(l.h)().pathname,a=mr(Aa.TotalTime),i=a.isTrackingEnabled,o=a.setIsTrackingEnabled;return Object(r.useEffect)((function(){return!i&&g.includes(n)&&o(!!de()),t.listen((function(e){!i&&g.includes(e.pathname)&&o(!!de())}))}),[]),Object(j.jsx)("div",{style:{display:"hidden"}})},Xr=function(e){var t=e.history;return Object(j.jsxs)(v,{history:t,children:[Object(j.jsx)(Kr,{history:t}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:a.Login,component:Ye}),Object(j.jsx)(l.b,{exact:!0,path:a.Signup,component:Je}),Object(j.jsx)(Yr,{exact:!0,path:a.Game,component:ht}),Object(j.jsx)(Yr,{exact:!0,path:a.Home,component:sr}),Object(j.jsx)(Yr,{exact:!0,path:a.Profile,component:fa}),Object(j.jsx)(Yr,{exact:!0,path:a.ProfileChangeAvatar,component:ba}),Object(j.jsx)(Yr,{exact:!0,path:a.ProfileTeam,component:ya}),Object(j.jsx)(Yr,{exact:!0,path:a.Contact,component:Na}),Object(j.jsx)(Yr,{exact:!0,path:a.OnboardingPersonalize,component:Ht}),Object(j.jsx)(Yr,{exact:!0,path:a.OnboardingCheckIn,component:fn}),Object(j.jsx)(Yr,{exact:!0,path:a.OnboardingTeam,component:rn}),Object(j.jsx)(Yr,{exact:!0,path:a.OnboardingMainStory,component:Ln}),Object(j.jsx)(Yr,{exact:!0,path:a.Mission,component:Ir}),Object(j.jsx)(Yr,{exact:!0,path:a.MissionCompleted,component:Mr}),Object(j.jsx)(Yr,{exact:!0,path:a.MissionStory,component:Er}),Object(j.jsx)(Yr,{exact:!0,path:a.InventoryDetails,component:lr}),Object(j.jsx)(Yr,{exact:!0,path:a.ReceivedInventories,component:Hr}),Object(j.jsx)(Yr,{exact:!0,path:a.FinalStory,component:Rr}),Object(j.jsx)(Yr,{exact:!0,path:a.FinalPage,component:zr}),Object(j.jsx)(Yr,{exact:!0,path:a.FinalEvent,component:Ur}),Object(j.jsx)(l.b,{exact:!0,path:"/",component:qr}),Object(j.jsx)(l.b,{path:"*",component:Qr})]})]})},Jr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $r(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ei,ti=function(e){fe.a.interceptors.request.use((function(e){var t=de();return t&&(e.headers=Object(Zr.a)(Object(Zr.a)({},e.headers),{},{"x-access-token":t})),e})),fe.a.interceptors.response.use((function(e){return e}),(function(t){if(401===t.response.status){var n=t.config;(r=de(),i=function(){var e=null;try{(e=re.a.get(ce))||(e=window.sessionStorage.getItem(ce))}catch(t){}return e?oe.a.AES.decrypt(e,ce).toString(oe.a.enc.Utf8):null}(),fe.a.get("token-refresh",{headers:{"x-access-token":r,"x-refresh-token":i}}).then((function(e){var t=e.data;return pe(t)}))).then((function(e){return ue(e),fe()(n)})).catch((function(t){return window.sessionStorage.removeItem(se),window.sessionStorage.removeItem(ce),window.sessionStorage.removeItem(le),re.a.remove(se),re.a.remove(ce),window.localStorage.removeItem(le),e.push(a.Login),Promise.reject(t)}))}var r,i;return Promise.reject(t)}))},ni=n(196),ai=n.n(ni),ri=n(197),ii=n.n(ri),oi=n(198),si=n.n(oi),ci=(n(343),Object(c.a)());ei=ci,fe.a.defaults.baseURL="".concat("https","://").concat("questapp-test.herokuapp.com",":").concat("443").concat("/api"),ti(ei),nt.a.extend(ai.a),nt.a.extend(ii.a),nt.a.extend(si.a,{parseToLocal:!0}),s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(Xr,{history:ci})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Jr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$r(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$r(t,e)}))}}()},37:function(e,t,n){e.exports={textInput:"TextInput_textInput__xs-Pf",hasErrors:"TextInput_hasErrors__1jWxy",disabled:"TextInput_disabled__3IdkR",password:"TextInput_password__3RySt",inputContainer:"TextInput_inputContainer__B2MmA",passwordIcon:"TextInput_passwordIcon__hGGmA",addonAfter:"TextInput_addonAfter__sa8hI"}},38:function(e,t,n){e.exports={avatarIcon:"AvatarIcon_avatarIcon__20UVC",round:"AvatarIcon_round__1NPY6",roundBig:"AvatarIcon_roundBig__Rcepa",square:"AvatarIcon_square__3qBVn"}},46:function(e,t,n){e.exports={carouselControls:"CarouselControls_carouselControls__1NM04",carouselDots:"CarouselControls_carouselDots__3LcTJ",carouselDot:"CarouselControls_carouselDot__3kza4",activeDot:"CarouselControls_activeDot__2d8iT",carouselButtons:"CarouselControls_carouselButtons__28M9e",carouselButton:"CarouselControls_carouselButton__1En6f"}},47:function(e,t,n){e.exports={gameInfo:"GameInfo_gameInfo__35wQL",teamInfo:"GameInfo_teamInfo__mTeTO",teamName:"GameInfo_teamName__1XwK3",teamMembers:"GameInfo_teamMembers__1EHei",gtIcon:"GameInfo_gtIcon__7YV_l"}},48:function(e,t,n){e.exports={answerContainer:"Answer_answerContainer__3o7HL",answerInput:"Answer_answerInput__2_6z7",correctAnswerInput:"Answer_correctAnswerInput__3F6rr",answerButton:"Answer_answerButton__254zC",answerButtonIcon:"Answer_answerButtonIcon__B31D6",correctButtonIcon:"Answer_correctButtonIcon__1CyCM"}},59:function(e,t,n){e.exports={titleContainer:"Title_titleContainer__3UzAP",icon:"Title_icon__29s9c",title:"Title_title__IYizr",closeButton:"Title_closeButton__66YTD",closeIcon:"Title_closeIcon__14gm4"}},60:function(e,t,n){e.exports={checkboxContainer:"Checkbox_checkboxContainer__1RtOQ",checkbox:"Checkbox_checkbox__1V-IG",nativeCheckbox:"Checkbox_nativeCheckbox__3RMl1",label:"Checkbox_label__2xkgf",hasErrors:"Checkbox_hasErrors__7ZBrT"}},61:function(e,t,n){e.exports={inventoryItems:"DailyInventoryItems_inventoryItems__1gMPC",inventory:"DailyInventoryItems_inventory__3Vpj1",inventoryInfo:"DailyInventoryItems_inventoryInfo__2qznP",inventoryTitle:"DailyInventoryItems_inventoryTitle__3xDTH",inventoryName:"DailyInventoryItems_inventoryName__tNmDz"}},70:function(e,t,n){e.exports={button:"Button_button__1Tx3a",main:"Button_main__1pcNb",secondary:"Button_secondary__3KCKM",dark:"Button_dark__3Ccjg"}},71:function(e,t,n){e.exports={message:"Message_message__3BGRz",error:"Message_error__19ghv",warning:"Message_warning__3L1do",info:"Message_info__14vOb"}},72:function(e,t,n){e.exports={player:"Team_player__1CCTG",playerInfo:"Team_playerInfo__2PA1m",nickname:"Team_nickname__24USy",email:"Team_email__FZVYp"}},73:function(e,t,n){e.exports={content:"Panel_content__fd9Z4",icon:"Panel_icon__1k0Wi",title:"Panel_title__1tVqG",text:"Panel_text__1cS74"}},74:function(e,t,n){e.exports={profileAvatarContainer:"Profile_profileAvatarContainer__15F5Z",profileAvatar:"Profile_profileAvatar__3soYd",passwordIcon:"Profile_passwordIcon__22Uvh",changeButton:"Profile_changeButton__6Bwnd"}},75:function(e,t,n){e.exports={header:"Home_header__zrq3l",gameName:"Home_gameName__c2AG9",headerActions:"Home_headerActions__2Kbws",helpButton:"Home_helpButton__3TktN"}},76:function(e,t,n){e.exports={urlButton:"TaskResource_urlButton__T95qs",videoWrapper:"TaskResource_videoWrapper__h9wkM",imageWrapper:"TaskResource_imageWrapper__1q61_",videoIframe:"TaskResource_videoIframe__1Uzzb"}},77:function(e,t,n){e.exports={install:"Install_install__Vtcr8",installContent:"Install_installContent__Ld_ml",icon:"Install_icon__3R9xC",title:"Install_title__2MSIb"}},87:function(e,t,n){e.exports={additionalInfo:"Signup_additionalInfo__2qX2-",info:"Signup_info__3mu8E"}}},[[344,1,2]]]);
//# sourceMappingURL=main.ffc5ba52.chunk.js.map