{"version":3,"sources":["pages/common/ImageResource.module.scss","common/Progress.module.scss","pages/contact/Contact.module.scss","pages/mission/Task.module.scss","pages/mission/ReceivedInventories.module.scss","common/Accordion.module.scss","common/Label.module.scss","pages/auth/Login.module.scss","pages/common/Avatar.module.scss","pages/onboarding/AvatarSelector.module.scss","pages/onboarding/Personalize.module.scss","pages/onboarding/TeamComposition.module.scss","pages/common/SroryScreen.module.scss","pages/finishing/FinalPage.module.scss","common/Screen.module.scss","common/Spinner.module.scss","pages/mission/Mission.module.scss","pages/common/Inventory.module.scss","app/routes.ts","contexts/AvatarContext.tsx","app/AppProviders.component.tsx","images/close.svg","common/Link.component.tsx","common/Button.component.tsx","common/Title.component.tsx","images/back-arrow.svg","common/Checkbox.component.tsx","images/login-icon.svg","common/Screen.component.tsx","common/Message.component.tsx","lib/token.ts","lib/storage.ts","api/Auth.api.ts","pages/auth/Auth.store.ts","images/eye_closed.svg","common/Label.component.tsx","images/eye_opened.svg","api/game.types.ts","common/TextInput.component.tsx","pages/auth/Auth.component.tsx","pages/auth/Login.component.tsx","pages/auth/Signup.component.tsx","api/Game.api.ts","images/person.svg","pages/Game.store.ts","pages/Game.component.tsx","common/AvatarIcon.component.tsx","images/team.svg","pages/onboarding/Avatar.store.ts","pages/common/Avatar.component.tsx","pages/onboarding/AvatarListStore.ts","pages/onboarding/AvatarSelector.component.tsx","pages/onboarding/Profile.store.ts","pages/onboarding/Personalize.components.tsx","images/checkin.svg","pages/common/Team.component.tsx","api/Team.api.ts","pages/common/Team.store.ts","pages/onboarding/TeamComposition.component.tsx","common/Panel.components.tsx","pages/common/Story.store.ts","pages/onboarding/Checkin.component.tsx","api/Story.api.ts","images/gt.svg","common/CarouselControls.component.tsx","pages/common/ImageResource.component.tsx","pages/mission/Resource.store.ts","pages/common/StoryScreen.component.tsx","pages/onboarding/MainStory.component.tsx","images/checked.svg","images/unchecked.svg","common/Accordion.component.tsx","images/lock_filled.svg","images/contact.svg","pages/profile/Profile.component.tsx","pages/profile/ChangeAvatar.component.tsx","common/Progress.component.tsx","pages/profile/TeamProfile.component.tsx","pages/common/Inventory.component.tsx","pages/contact/Contact.component.tsx","pages/common/TimeTracking.store.ts","pages/home/InventoryList.component.tsx","pages/home/GameInfo.components.tsx","api/Mission.api.ts","pages/home/Mission.store.ts","common/Answer.component.tsx","pages/home/DailyInventoryItems.component.tsx","pages/home/Day.component.tsx","pages/home/Home.component.tsx","pages/home/InventoryDetails.component.tsx","api/TimeTracking.api.ts","images/round-arrow.svg","images/completed.svg","pages/mission/TaskResource.component.tsx","pages/mission/Task.component.tsx","pages/mission/Mission.component.tsx","pages/mission/MissionCompleted.component.tsx","pages/mission/MissionStory.component.tsx","pages/mission/VrTask.component.tsx","pages/mission/ArTask.component.tsx","pages/mission/ReceivedInventories.component.tsx","pages/finishing/FinalStory.component.tsx","pages/finishing/FinalPage.component.tsx","pages/finishing/Questionnaire.store.ts","pages/finishing/FinalEvent.component.tsx","images/logo512.png","pages/Install.component.tsx","pages/NotFound.component.tsx","app/ProtectedRoute.tsx","app/TimeTracker.component.tsx","app/App.component.tsx","serviceWorkerRegistration.ts","app/setupInterceptors.ts","setupApp.ts","index.tsx","app/setupDayJs.ts","pages/home/InventoryList.module.scss","common/TextInput.module.scss","common/AvatarIcon.module.scss","pages/mission/TaskResource.module.scss","common/CarouselControls.module.scss","pages/home/GameInfo.module.scss","common/Answer.module.scss","api/Resources.api.ts","common/Title.module.scss","common/Checkbox.module.scss","pages/home/DailyInventoryItems.module.scss","pages/Install.module.scss","common/Button.module.scss","common/Message.module.scss","pages/common/Team.module.scss","common/Panel.module.scss","pages/profile/Profile.module.scss","pages/home/Home.module.scss","common/Spinner.component.tsx","pages/auth/Signup.module.scss","pages/mission/VrTask.module.scss","pages/mission/ArTask.module.scss"],"names":["module","exports","Routes","AvatarContext","createContext","addAvatar","avatarUrl","avatarData","avatars","Map","AvatarContextProvider","children","useState","setAvatars","Provider","value","prev","set","queryClient","QueryClient","AppProviders","history","QueryClientProvider","client","_path","routesToTimeTrack","Home","Profile","ProfileChangeAvatar","ProfileTeam","Contact","OnboardingPersonalize","OnboardingTeam","OnboardingCheckIn","OnboardingMainStory","Mission","MissionCompleted","MissionStory","VrTask","ArTask","InventoryDetails","ReceivedInventories","FinalStory","FinalPage","FinalEvent","Link","to","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","viewBox","fill","xmlns","ref","id","d","ButtonTypes","ForwardRef","Title","Icon","icon","onClose","additionalClasses","className","classNames","styles","titleContainer","closeButton","onClick","closeIcon","Button","type","button","main","Main","secondary","Secondary","dark","Dark","Checkbox","name","checked","onChange","isValid","hasErrors","setHasErrors","useEffect","checkboxContainer","htmlFor","nativeCheckbox","event","checkbox","label","SvgBackArrow","Screen","withoutHeader","footerWithGradient","footerWithActions","isFetching","screen","isLoading","Header","backTo","onBack","useHistory","headerContainer","header","backIcon","push","Content","contentContainer","content","Footer","centered","footerContainer","footer","footerCentered","SvgLoginIcon","width","height","MessageType","ACCESS_TOKEN_KEY","REFRESH_TOKEN_KEY","USER_ID_KEY","storeTokens","authInfo","shouldStore","encryptedAccessToken","CryptoJS","AES","encrypt","accessToken","toString","encryptedRefreshToken","refreshToken","Cookies","expires","userId","window","localStorage","setItem","error","sessionStorage","getAccessToken","token","get","getItem","decrypt","enc","Utf8","getUserId","clearTokens","removeItem","remove","SIGNUP_SUCCESS_KEY","loginRequest","credential","axios","headers","btoa","email","trim","password","then","data","authModelMapper","catch","authErrorMapper","response","signupRequest","message","errorCode","useAuthStore","errors","setErrors","loginMutation","useMutation","onError","getErrorFromErrorCode","signupMutation","isAuthStoreFetching","login","loginInfo","validationErrors","validateCredential","mutate","onSuccess","loginData","isRememberChecked","Game","signup","signupInfo","isPolicyChecked","field","storeSignupSuccess","test","Message","warning","info","Label","SvgEyeClosed","SvgEyeOpened","DayStatus","TaskType","TextInput","inputRef","onBlur","placeholder","disabled","addonAfter","isPasswordVisible","setIsPasswordVisible","PasswordIcon","HidePasswordIcon","ShowPasswordIcon","inputContainer","textInput","passwordIcon","Auth","onEmailChange","onPasswordChange","handleChangeEmail","useCallback","handleChangePassword","map","index","find","Login","setEmail","setPassword","setIsRememberChecked","handleLogin","text","Signup","setIsPolicyChecked","handleSignup","additionalInfo","href","selfRequest","gameStateMapper","patchSelf","valueKey","patch","patchPasswordRequest","old","new","finalQuestionnaireRequest","finalPageViewedRequest","value_bool","gameName","isProfileCreated","isBotConnected","isMainStoryViewed","isFinalStoryViewed","isFinalPageViewed","nickname","isNickNameSet","linkToHelp","linkToBot","currentDayNumber","finalEventStartTime","dayjs","days","day","isDailyStoryViewed","isPasscodeEntered","status","getDayStatus","startTime","dayNumber","totalTasks","isTeamTaskSolved","isTeamTaskCompletionViewed","inventoryItems","inventory","isAvailable","isUsed","resource","tasks","task","isTeamTask","areHintsAvailable","hints","hintsTotal","hintsUsed","resources","isSkipped","isSolved","currentDay","beginDayTime","NotStarted","every","Solved","InProgress","Future","initialGameState","initialDay","useGameStore","useQuery","staleTime","isGameStoreFetching","gameState","areAllTasksSolved","allInventoryItems","reduce","acc","dayInfo","filter","SvgPerson","AvatarIconTypes","AvatarIcon","image","src","alt","avatar","round","Round","square","Square","avatarIcon","roundBig","RoundBig","useAvatarStore","useContext","isAvatarStoreFetching","getAvatarRequest","Infinity","enabled","reader","FileReader","readAsDataURL","onload","result","Avatar","isSelected","currentAvatar","useAvatarListStore","useQueryClient","getAvatars","selfMutation","invalidateQueries","isAvatarListStoreFetching","avatarUrlList","changeAvatar","AvatarSelector","avatarList","useProfileStore","passwordWasChanged","setPasswordWasChanged","passwordMutation","setError","isProfileStoreFetching","changeNickname","newNickname","markProfileCreated","mutateAsync","changePassword","oldPassword","newPassword","updatedPassword","Personalize","useRef","currentNickname","setCurrentNickname","handleChangeNickname","personIcon","onSubmit","preventDefault","current","blur","SvgTeam","_rect","Team","currentTeamName","changeTeamName","setCurrentTeamName","teamPlayers","isCurrentUserCaptain","isCaptain","player","playerInfo","getTeamInfoRequest","teamInfoMapper","teamInfoData","isTeamMissionSolved","totalTasksSolved","getTeamRequest","teamMapper","teamData","captain","captainId","players","chatUrl","patchTeamRequest","patchModel","useTeamStore","teamInfo","isTeamFetching","team","isTeamPlayersFetching","patchTeamMutation","validateTeamName","newName","Promise","resolve","reject","isTeamStoreFetching","teamName","progress","getProgress","currentDayInfo","Math","floor","TeamComposition","teamIcon","Panel","mainText","additionalText","SvgCheckin","rx","StoryType","Checkin","open","getMainStoryRequest","storyMapper","getFinalStoryRequest","getFinalEventRequest","finalEventMapper","pages","resource_url","externalLink","mainStoryViewedRequest","dailyStoryViewedRequest","finalStoryViewedRequest","useStoryStore","mainStory","isMainStoryFetching","getDailyStoryRequest","Daily","dailyStory","isDailyStoryFetching","Final","finalStory","isFinalStoryFetching","finalEvent","isFinalEventFetching","markMainStoryViewedMutation","markDailyStoryViewedMutation","markFinalStoryViewedMutation","isStoryStoreFetching","markMainDailyStoryViewed","markDailyStoryViewed","markFinalViewed","CarouselControls","items","activeIndex","setActiveIndex","onLastItem","nextItemButtonTitle","lastItemButtonTitle","carouselControls","carouselDots","item","carouselDot","activeDot","carouselButtons","carouselButton","ImageResource","url","resourceUrl","setResourceUrl","getImageRequest","refetchOnWindowFocus","useResourceStore","StoryScreen","onStart","active","setActive","page","hidden","StoryPageItem","pageText","MainStory","SvgGt","SvgChecked","SvgUnchecked","AccordionPanelTypes","Accordion","accordion","isExpandedByDefault","Default","isCollapsed","setIsCollapsed","accordionPanel","mission","collapsed","headerLeft","checkedIcon","uncheckedIcon","collapsedUncheckedIcon","headerRight","arrowIcon","collapsedArrowIcon","SvgLockFilled","setOldPassword","setNewPassword","profileAvatarContainer","profileAvatar","changeButton","ChangeAvatar","Progress","progressContainer","style","alignedProgress","TeamProfile","SvgContact","InventorySize","contactFooter","contactButton","TrackingType","Inventory","size","used","small","Small","large","Large","pathname","state","inventoryImage","inventoryImageUsed","smallImage","largeImage","InventoryList","placeholders","inventoryPlaceholder","inventoryList","noInventoryMessage","inventoryWrapper","inventoryItem","GameInfo","gameInfo","teamMembers","gtIcon","gameProgress","unlockDayRequest","answer","value_str","answerTaskRequest","taskId","correct","answerResponseMapper","skipTaskRequest","teamTaskCompletionViewedRequest","getHintRequest","hintNumber","CORRECT_ANSWERS","WRONG_ANSWERS","getRandomMessage","messages","random","useMissionStore","setAnswer","unsolvedPrivateTasks","setUnsolvedPrivateTasks","teamTask","setTeamTask","currentTaskIndex","setCurrentTaskIndex","unlockResult","setUnlockResult","answerTaskResult","setAnswerTaskResult","unlockDayMutation","answerTaskMutation","skipTaskMutation","markTeamTaskCompletionViewedMutation","fetchHintMutation","skippedTasksCount","solvedPrivateTasksCount","isMaximumSkippedTasksLimitExceeded","areTherePrivateTasksToSolve","isAllowToSkipTask","isThereNextAvailablePrivateTask","unsolvedTeamTasks","invalidateQueriesAfterAnswer","isMissionStoreFetching","unlockDay","isCorrect","setTimeout","answerTask","answerResult","inventories","currentTask","isNextPrivateTaskAvailable","switchToNextTask","skipped","isPrevPrivateTaskAvailable","switchToPrevTask","markTeamTaskCompletionViewed","fetchHint","Answer","answerContainer","answerButton","answerButtonIcon","correctButtonIcon","answerInput","correctAnswerInput","DailyInventoryItems","availableInventoryItems","inventoryInfo","inventoryTitle","inventoryName","Day","format","dayMission","headerActions","helpButton","getTextFromStatus","dayStatus","useLocation","logTotalSpentTimeRequest","post","object","amount_s","useTimeTrackingStore","isTrackingEnabled","setIsTrackingEnabled","refetchInterval","TRACKING_TIME_AMOUNT_SECONDS","refetchOnMount","task_id","logTaskSpentTimeRequest","SvgRoundArrow","TaskResource","Text","Ar","urlButton","Vr","imageWrapper","slice","Url","Video","videoId","split","pop","videoWrapper","videoIframe","frameBorder","allow","allowFullScreen","Task","originalTask","taskText","teamTaskText","hint","isAnswerAllowed","TaskTime","taskButton","taskButtonIcon","prevTaskButton","nextTaskButton","missionContent","missionFooter","SvgCompleted","location","VrScene","lazy","vrTaskContainer","fallback","goBack","closeButtonIcon","arTaskContainer","arTaskFrameContainer","arTaskFrame","process","handleNext","undefined","markFinalPageViewedMutation","isQuestionnaireStoreFetching","feedbackForm","markFinalPageViewed","useQuestionnaireStore","rateButton","Install","install","installContent","iconImg","LogoImg","NotFound","ProtectedRoute","TimeTracker","TotalTime","includes","listen","display","App","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","setupInterceptors","interceptors","request","use","requestConfig","originalRequest","getRefreshToken","tokens","shouldStoreTokens","isTokensStoredInCookies","createBrowserHistory","defaults","baseURL","extend","localeData","localizedFormat","dayjsPluginUTC","parseToLocal","ReactDOM","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","contentType","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","filenameFromUrl","responseType","imageUrl","Spinner","spinner","hiddenSpinner","rings","ring","ring1","ring2","ring3","ring4"],"mappings":"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","file":"static/js/main.bb226c47.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageResource_image__3-2vY\",\"placeholder\":\"ImageResource_placeholder__27rQq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressContainer\":\"Progress_progressContainer__2BKbK\",\"progress\":\"Progress_progress__-ageR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactButton\":\"Contact_contactButton__Suogb\",\"contactFooter\":\"Contact_contactFooter__11-xf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskText\":\"Task_taskText__3LsLN\",\"teamTaskText\":\"Task_teamTaskText__3wpT2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ReceivedInventories_title__2wEnx\",\"message\":\"ReceivedInventories_message__1w4IV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"accordion\":\"Accordion_accordion__359XQ\",\"accordionPanel\":\"Accordion_accordionPanel__gexjr\",\"mission\":\"Accordion_mission__1WpcN\",\"collapsed\":\"Accordion_collapsed__3MNub\",\"header\":\"Accordion_header__9wOqy\",\"headerLeft\":\"Accordion_headerLeft__2EFSc\",\"status\":\"Accordion_status__hFjY_\",\"icon\":\"Accordion_icon__mFPRb\",\"checkedIcon\":\"Accordion_checkedIcon__2Dsmg\",\"uncheckedIcon\":\"Accordion_uncheckedIcon__1-MlZ\",\"collapsedUncheckedIcon\":\"Accordion_collapsedUncheckedIcon__1zgsG\",\"title\":\"Accordion_title__UdhiQ\",\"hidden\":\"Accordion_hidden__3lGPL\",\"arrowIcon\":\"Accordion_arrowIcon__1ZKRQ\",\"collapsedArrowIcon\":\"Accordion_collapsedArrowIcon__zkVsz\",\"content\":\"Accordion_content__DFumj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Label_label__-Q2Ec\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Login_text__12Ijz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentAvatar\":\"Avatar_currentAvatar__3WT4v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarList\":\"AvatarSelector_avatarList__TRGdY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"personIcon\":\"Personalize_personIcon__1OdHj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teamIcon\":\"TeamComposition_teamIcon__3wWXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageText\":\"SroryScreen_pageText__1i3w6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rateButton\":\"FinalPage_rateButton__3fon5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"screen\":\"Screen_screen__2uJH5\",\"headerContainer\":\"Screen_headerContainer__3aY5G\",\"header\":\"Screen_header__3xIOM\",\"backIcon\":\"Screen_backIcon__1ZUXs\",\"contentContainer\":\"Screen_contentContainer__1OTd9\",\"content\":\"Screen_content__2dtTO\",\"footerContainer\":\"Screen_footerContainer__1oCNZ\",\"footer\":\"Screen_footer__31-vm\",\"footerCentered\":\"Screen_footerCentered__1QxIS\",\"withoutHeader\":\"Screen_withoutHeader__5Apxr\",\"footerWithGradient\":\"Screen_footerWithGradient__3vBty\",\"footerWithActions\":\"Screen_footerWithActions__184kk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3aH9W\",\"hiddenSpinner\":\"Spinner_hiddenSpinner__11yS6\",\"rings\":\"Spinner_rings__3SHlZ\",\"ring\":\"Spinner_ring__20ERF\",\"ringAnimation\":\"Spinner_ringAnimation__2ZvCu\",\"ring1\":\"Spinner_ring1__1hz37\",\"ring2\":\"Spinner_ring2__1tsve\",\"ring3\":\"Spinner_ring3__1R5sb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Mission_header__10j8s\",\"headerActions\":\"Mission_headerActions__3zhqv\",\"taskButton\":\"Mission_taskButton__1j7S1\",\"taskButtonIcon\":\"Mission_taskButtonIcon__1NF2t\",\"prevTaskButton\":\"Mission_prevTaskButton__-Zmqq\",\"missionContent\":\"Mission_missionContent__28wio\",\"missionFooter\":\"Mission_missionFooter__MPduP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inventory\":\"Inventory_inventory__f4P-p\",\"checkedIcon\":\"Inventory_checkedIcon__33YaI\",\"inventoryImageUsed\":\"Inventory_inventoryImageUsed__39tC7\",\"small\":\"Inventory_small__1lz41\",\"large\":\"Inventory_large__2E6xZ\",\"smallImage\":\"Inventory_smallImage__1eaBU\",\"largeImage\":\"Inventory_largeImage__uNorE\"};","export enum Routes {\n  Game = '/game',\n  Home = '/game/home',\n  Profile = '/game/profile',\n  ProfileChangeAvatar = '/game/profile/change_avatar',\n  ProfileTeam = '/game/profile/team',\n  Contact = '/game/contact',\n  OnboardingPersonalize = '/game/onboarding/personalize',\n  OnboardingTeam = '/game/onboarding/team',\n  OnboardingCheckIn = '/game/onboarding/checkin',\n  OnboardingMainStory = '/game/onboarding/main_story',\n  Mission = '/game/mission',\n  MissionCompleted = '/game/mission_completed',\n  MissionStory = '/game/mission_story',\n  VrTask = '/game/vr_task',\n  ArTask = '/game/ar_task',\n  InventoryDetails = '/game/inventory_details',\n  ReceivedInventories = '/game/received_inventories',\n  FinalStory = '/game/finishing/final_story',\n  FinalPage = '/game/finishing/final_page',\n  FinalEvent = '/game/finishing/final_event',\n  Login = '/game/login',\n  Signup = '/game/signup',\n}\n\nexport const routesToTimeTrack = [\n  Routes.Home,\n  Routes.Profile,\n  Routes.ProfileChangeAvatar,\n  Routes.ProfileTeam,\n  Routes.Contact,\n  Routes.OnboardingPersonalize,\n  Routes.OnboardingTeam,\n  Routes.OnboardingCheckIn,\n  Routes.OnboardingMainStory,\n  Routes.Mission,\n  Routes.MissionCompleted,\n  Routes.MissionStory,\n  Routes.VrTask,\n  Routes.ArTask,\n  Routes.InventoryDetails,\n  Routes.ReceivedInventories,\n  Routes.FinalStory,\n  Routes.FinalPage,\n  Routes.FinalEvent,\n];\n","import React, {createContext, FC, useState} from 'react';\r\n\r\ninterface AvatarContextProps {\r\n  readonly addAvatar: (avatarUrl: string, avatarData: string) => void;\r\n  readonly avatars: Map<string, string>;\r\n}\r\n\r\nexport const AvatarContext = createContext<AvatarContextProps>({\r\n  addAvatar: (avatarUrl: string, avatarData: string) => {},\r\n  avatars: new Map(),\r\n});\r\n\r\n\r\nexport const AvatarContextProvider: FC = ({children}) => {\r\n  const [avatars, setAvatars] = useState<Map<string, string>>(new Map());\r\n\r\n  const addAvatar = (avatarUrl: string, avatarData: string) => {\r\n    setAvatars(prev => {\r\n      return new Map(prev.set(avatarUrl, avatarData));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <AvatarContext.Provider value={{\r\n      addAvatar,\r\n      avatars,\r\n    }}\r\n    >\r\n      {children}\r\n    </AvatarContext.Provider>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport {Router} from 'react-router-dom';\r\nimport {QueryClient, QueryClientProvider} from 'react-query';\r\nimport {History} from 'history';\r\nimport {AvatarContextProvider} from '../contexts/AvatarContext';\r\n\r\nconst queryClient = new QueryClient();\r\n\r\ninterface AppProvidersProps {\r\n  history: History;\r\n}\r\n\r\nexport const AppProviders: FC<AppProvidersProps> = ({history, children}) => (\r\n  <Router history={history}>\r\n    <QueryClientProvider client={queryClient}>\r\n      <AvatarContextProvider>\r\n        {children}\r\n      </AvatarContextProvider>\r\n    </QueryClientProvider>\r\n  </Router>\r\n);\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 1.41L12.59 0 7 5.59 1.41 0 0 1.41 5.59 7 0 12.59 1.41 14 7 8.41 12.59 14 14 12.59 8.41 7 14 1.41z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.897bf03a.svg\";\nexport { ForwardRef as ReactComponent };","import React, {FC} from 'react';\r\nimport {Link as RouterLink} from 'react-router-dom';\r\n\r\ninterface LinkProps {\r\n  to: string;\r\n}\r\n\r\nexport const Link: FC<LinkProps> = ({children, to}) => (\r\n  <RouterLink to={to}>\r\n    {children}\r\n  </RouterLink>\r\n);\r\n","import React, {FC, MouseEventHandler} from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './Button.module.scss';\r\n\r\nexport enum ButtonTypes {\r\n  Main,\r\n  Secondary,\r\n  Dark,\r\n}\r\n\r\ninterface ButtonProps {\r\n  readonly title: string;\r\n  readonly onClick?: MouseEventHandler<HTMLButtonElement>;\r\n  readonly type: ButtonTypes;\r\n  readonly additionalClasses?: string;\r\n}\r\n\r\nexport const Button: FC<ButtonProps> = ({title, onClick, type, additionalClasses}) => {\r\n  return (\r\n    <button\r\n      className={classNames(styles.button, additionalClasses, {\r\n        [styles.main]: type === ButtonTypes.Main,\r\n        [styles.secondary]: type === ButtonTypes.Secondary,\r\n        [styles.dark]: type === ButtonTypes.Dark\r\n      })}\r\n      onClick={onClick}\r\n    >\r\n      {title}\r\n    </button>\r\n  );\r\n};\r\n","import React, {FC, ReactNode} from 'react';\r\nimport classNames from 'classnames';\r\nimport {ReactComponent as CloseIcon} from '../images/close.svg';\r\nimport styles from './Title.module.scss';\r\n\r\ninterface TitleProps {\r\n  readonly title: string;\r\n  readonly icon?: ReactNode;\r\n  readonly onClose?: () => void;\r\n  readonly additionalClasses?: string;\r\n}\r\n\r\nexport const Title: FC<TitleProps> = ({\r\n  title,\r\n  icon: Icon,\r\n  onClose,\r\n  additionalClasses,\r\n}) => {\r\n  return (\r\n    <div className={classNames(styles.titleContainer, additionalClasses)}>\r\n      {Icon && (\r\n        <div className={styles.icon}>{Icon}</div>\r\n      )}\r\n      <div className={styles.title}>{title}</div>\r\n      {!!onClose && (\r\n        <button className={styles.closeButton} onClick={onClose}>\r\n          <CloseIcon className={styles.closeIcon}/>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBackArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16V7z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBackArrow);\nexport default __webpack_public_path__ + \"static/media/back-arrow.3e5ad7d5.svg\";\nexport { ForwardRef as ReactComponent };","import React, {ChangeEvent, ChangeEventHandler, FC, useEffect, useState} from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './Checkbox.module.scss';\r\n\r\ninterface CheckboxProps {\r\n  name?: string;\r\n  checked?: boolean;\r\n  onChange?: ChangeEventHandler<HTMLInputElement>;\r\n  isValid?: boolean;\r\n  additionalClasses?: string;\r\n}\r\n\r\nexport const Checkbox: FC<CheckboxProps> = ({\r\n  children,\r\n  name,\r\n  checked,\r\n  onChange,\r\n  isValid = true,\r\n  additionalClasses,\r\n}) => {\r\n  const [hasErrors, setHasErrors] = useState(!isValid);\r\n\r\n  useEffect(() => setHasErrors(!isValid), [isValid]);\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    !!onChange && onChange(event);\r\n    setHasErrors(false);\r\n  };\r\n\r\n  return (\r\n    <label\r\n      className={classNames(styles.checkboxContainer, additionalClasses)}\r\n      htmlFor={`id_${name}`}\r\n    >\r\n      <input\r\n        className={styles.nativeCheckbox}\r\n        type=\"checkbox\"\r\n        id={`id_${name}`}\r\n        name={name}\r\n        checked={checked}\r\n        onChange={handleChange}\r\n      />\r\n      <span\r\n        className={classNames(styles.checkbox, {\r\n          [styles.hasErrors]: hasErrors,\r\n        })}\r\n      />\r\n      <span className={styles.label}>{children}</span>\r\n    </label>\r\n  );\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoginIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 10,\n    viewBox: \"0 0 20 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5416 3.33333C9.85831 1.39167 8.00831 0 5.83331 0C3.07498 0 0.833313 2.24167 0.833313 5C0.833313 7.75833 3.07498 10 5.83331 10C8.00831 10 9.85831 8.60833 10.5416 6.66667H14.1666V10H17.5V6.66667H19.1666V3.33333H10.5416ZM5.83331 6.66667C4.91665 6.66667 4.16665 5.91667 4.16665 5C4.16665 4.08333 4.91665 3.33333 5.83331 3.33333C6.74998 3.33333 7.49998 4.08333 7.49998 5C7.49998 5.91667 6.74998 6.66667 5.83331 6.66667Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoginIcon);\nexport default __webpack_public_path__ + \"static/media/login-icon.9448850e.svg\";\nexport { ForwardRef as ReactComponent };","import React, {FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport classNames from 'classnames';\nimport {Routes} from '../app/routes';\nimport {ReactComponent as BackArrowIcon} from '../images/back-arrow.svg';\nimport {Spinner} from './Spinner.component';\nimport styles from './Screen.module.scss';\n\ninterface ScreenCompositionProps {\n  Header: FC<HeaderProps>;\n  Content: FC<ContentProps>;\n  Footer: FC<FooterProps>;\n}\n\ninterface ScreenProps {\n  readonly withoutHeader?: boolean;\n  readonly footerWithGradient?: boolean;\n  readonly footerWithActions?: boolean;\n  readonly isFetching?: boolean;\n}\n\ninterface HeaderProps {\n  readonly backTo?: Routes;\n  readonly onBack?: () => void;\n}\n\ninterface ContentProps {\n  readonly additionalClasses?: string;\n}\n\ninterface FooterProps {\n  readonly centered?: boolean;\n  readonly additionalClasses?: string;\n}\n\nexport const Screen: FC<ScreenProps> & ScreenCompositionProps = ({\n  children,\n  withoutHeader = false,\n  footerWithGradient = false,\n  footerWithActions = false,\n  isFetching = false,\n}) => {\n  return (\n    <div className={classNames(\n      styles.screen, {\n        [styles.withoutHeader] : withoutHeader,\n        [styles.footerWithGradient] : footerWithGradient,\n        [styles.footerWithActions] : footerWithActions,\n      })}\n    >\n      {children}\n      <Spinner isLoading={isFetching}/>\n    </div>\n  );\n};\n\nconst Header: FC<HeaderProps> = ({backTo, onBack, children}) => {\n  const history = useHistory();\n  const goBack = () => {\n    !!onBack && onBack();\n    !!backTo && history.push(backTo);\n  };\n\n  return (\n    <div className={styles.headerContainer}>\n      <div className={styles.header}>\n        {(backTo || onBack) && (\n          <BackArrowIcon className={styles.backIcon} onClick={goBack}/>\n        )}\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst Content: FC<ContentProps> = ({\n  children,\n  additionalClasses,\n}) => {\n  return (\n    <div className={styles.contentContainer}>\n      <div className={classNames(styles.content, additionalClasses)}>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst Footer: FC<FooterProps> = ({\n  children,\n  centered = false,\n  additionalClasses,\n}) => {\n  return (\n    <div className={styles.footerContainer}>\n      <div className={classNames(\n        styles.footer,\n        additionalClasses,\n        {\n          [styles.footerCentered]: centered,\n        })}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nScreen.Header = Header;\nScreen.Content = Content;\nScreen.Footer = Footer;\n","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './Message.module.scss';\r\n\r\nexport enum MessageType {\r\n  error,\r\n  warning,\r\n  info,\r\n}\r\n\r\ninterface MessageProps {\r\n  readonly type: MessageType;\r\n}\r\n\r\nexport const Message: FC<MessageProps> = ({type, children}) => {\r\n  return (\r\n    <div className={classNames(styles.message, {\r\n      [styles.error]: type === MessageType.error,\r\n      [styles.warning]: type === MessageType.warning,\r\n      [styles.info]: type === MessageType.info,\r\n    })}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import Cookies from 'js-cookie';\nimport CryptoJS from 'crypto-js';\nimport {AuthModel} from '../api/auth.types';\n\nconst ACCESS_TOKEN_KEY = 'access_token';\nconst REFRESH_TOKEN_KEY = 'refresh_token';\nconst USER_ID_KEY = 'user_id';\nconst DAYS_TO_STORE_TOKEN = 5;\n\nexport const storeTokens = (authInfo: AuthModel, shouldStore: boolean): void => {\n  const encryptedAccessToken = CryptoJS.AES.encrypt(authInfo.accessToken, ACCESS_TOKEN_KEY).toString();\n  const encryptedRefreshToken = CryptoJS.AES.encrypt(authInfo.refreshToken, REFRESH_TOKEN_KEY).toString();\n  if (shouldStore) {\n    Cookies.set(\n      ACCESS_TOKEN_KEY, encryptedAccessToken,\n      {expires: DAYS_TO_STORE_TOKEN}\n    );\n    Cookies.set(\n      REFRESH_TOKEN_KEY, encryptedRefreshToken,\n      {expires: DAYS_TO_STORE_TOKEN}\n    );\n    try {\n      if (authInfo.userId) {\n        window.localStorage.setItem(USER_ID_KEY, authInfo.userId);\n      }\n    } catch (error) {/* no op */\n    }\n  } else {\n    try {\n      window.sessionStorage.setItem(ACCESS_TOKEN_KEY, encryptedAccessToken);\n      window.sessionStorage.setItem(REFRESH_TOKEN_KEY, encryptedRefreshToken);\n      if (authInfo.userId) {\n        window.sessionStorage.setItem(USER_ID_KEY, authInfo.userId);\n      }\n    } catch (error) {/* no op */\n    }\n  }\n};\n\nexport const getAccessToken = (): string | null => {\n  let token: string | undefined | null = null;\n\n  try {\n    token = Cookies.get(ACCESS_TOKEN_KEY);\n\n    if (!token) {\n      token = window.sessionStorage.getItem(ACCESS_TOKEN_KEY);\n    }\n  } catch (error) {/* no op */\n  }\n\n  return token ? CryptoJS.AES.decrypt(token, ACCESS_TOKEN_KEY).toString(CryptoJS.enc.Utf8) : null;\n};\n\nexport const getRefreshToken = (): string | null => {\n  let token: string | undefined | null = null;\n\n  try {\n    token = Cookies.get(REFRESH_TOKEN_KEY);\n\n    if (!token) {\n      token = window.sessionStorage.getItem(REFRESH_TOKEN_KEY);\n    }\n  } catch (error) {/* no op */\n  }\n\n  return token ? CryptoJS.AES.decrypt(token, REFRESH_TOKEN_KEY).toString(CryptoJS.enc.Utf8) : null;\n};\n\nexport const getUserId = (): string | null => {\n  let id = window.localStorage.getItem(USER_ID_KEY);\n  if (!id) {\n    id = window.sessionStorage.getItem(USER_ID_KEY);\n  }\n\n  return id;\n};\n\nexport const isTokensStoredInCookies = (): boolean => {\n  let token: string | undefined | null = null;\n\n  try {\n    token = Cookies.get(ACCESS_TOKEN_KEY);\n  } catch (error) {/* no op */\n  }\n\n  return !!token;\n};\n\nexport const clearTokens = (): void => {\n  window.sessionStorage.removeItem(ACCESS_TOKEN_KEY);\n  window.sessionStorage.removeItem(REFRESH_TOKEN_KEY);\n  Cookies.remove(ACCESS_TOKEN_KEY);\n  Cookies.remove(REFRESH_TOKEN_KEY);\n};\n","const SIGNUP_SUCCESS_KEY = 'is-registered';\r\n\r\nexport const storeSignupSuccess = () => {\r\n  try {\r\n    window.localStorage.setItem(SIGNUP_SUCCESS_KEY, 'true');\r\n  } catch (error) {\r\n    // no op\r\n  }\r\n};\r\n\r\nexport const isSignedUp = () => {\r\n  return window.localStorage.getItem(SIGNUP_SUCCESS_KEY) === 'true';\r\n};\r\n","import axios from 'axios';\r\nimport {AuthErrorModel, AuthModel, Credential} from './auth.types';\r\n\r\nexport const loginRequest = (credential: Credential) =>\r\n  axios.get('/login', {\r\n    headers: {\r\n      'Authorization': `Basic ${btoa(`${credential.email.trim()}:${credential.password}`)}`\r\n    }\r\n  })\r\n    .then(({data}) => authModelMapper(data))\r\n    .catch(error => {\r\n      throw authErrorMapper(error.response.data);\r\n    });\r\n\r\nexport const signupRequest = (credential: Credential) =>\r\n  axios.get('/signup', {\r\n    headers: {\r\n      'Authorization': `Basic ${btoa(`${credential.email.trim()}:${credential.password.trim()}`)}`\r\n    }\r\n  })\r\n    .then(({data}) => authModelMapper(data))\r\n    .catch(error => {\r\n      throw authErrorMapper(error.response.data);\r\n    });\r\n\r\nexport const refreshTokenRequest = (accessToken: string | null, refreshToken: string | null) =>\r\n  axios.get('token-refresh', {\r\n    headers: {\r\n      'x-access-token': accessToken,\r\n      'x-refresh-token': refreshToken,\r\n    },\r\n  })\r\n    .then(({data}) => authModelMapper(data));\r\n\r\nexport const authModelMapper = (data: any): AuthModel => ({\r\n  accessToken: data['access-token'],\r\n  refreshToken: data['refresh-token'],\r\n  userId: data['public-id'],\r\n});\r\n\r\nconst authErrorMapper = (data: any): AuthErrorModel => ({\r\n  message: data['message'],\r\n  errorCode: data['error_code'],\r\n});\r\n","import {useState} from 'react';\r\nimport {useMutation} from 'react-query';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {storeTokens} from '../../lib/token';\r\nimport {storeSignupSuccess} from '../../lib/storage';\r\nimport {Routes} from '../../app/routes';\r\nimport {loginRequest, signupRequest} from '../../api/Auth.api';\r\nimport {AuthError, AuthErrorModel, AuthModel, Credential, LoginInfo, SignupInfo} from '../../api/auth.types';\r\n\r\ninterface AuthStore {\r\n  readonly login: (loginInfo: LoginInfo) => void;\r\n  readonly signup: (signupInfo: SignupInfo) => void;\r\n  readonly errors: Array<AuthError>;\r\n  readonly isAuthStoreFetching: boolean;\r\n}\r\n\r\nexport const useAuthStore = (): AuthStore => {\r\n  const history = useHistory();\r\n  const [errors, setErrors] = useState<Array<AuthError>>([]);\r\n\r\n  const loginMutation = useMutation<AuthModel, AuthErrorModel, Credential>(loginRequest, {\r\n    onError: error => {\r\n      setErrors([getErrorFromErrorCode(error.errorCode)]);\r\n    },\r\n  });\r\n\r\n  const signupMutation = useMutation<AuthModel, AuthErrorModel, Credential>(signupRequest, {\r\n    onError: error => {\r\n      setErrors([getErrorFromErrorCode(error.errorCode)]);\r\n    },\r\n  });\r\n\r\n  const tryLogin = (loginInfo: LoginInfo): void => {\r\n    setErrors([]);\r\n    const validationErrors = validateCredential(loginInfo.credential);\r\n    if (validationErrors.length === 0) {\r\n      loginMutation.mutate(loginInfo.credential, {\r\n        onSuccess: (loginData) => {\r\n          storeTokens(loginData, loginInfo.isRememberChecked);\r\n          history.push(Routes.Game);\r\n        }\r\n      });\r\n    } else {\r\n      setErrors(validationErrors);\r\n    }\r\n  };\r\n\r\n  const trySignup = (signupInfo: SignupInfo): void => {\r\n    setErrors([]);\r\n    const validationErrors = validateCredential(signupInfo.credential);\r\n\r\n    if (!signupInfo.isPolicyChecked) {\r\n      validationErrors.push({field: 'policy', message: 'Read and agree with privacy policy before sign in'});\r\n    }\r\n\r\n    if (validationErrors.length === 0) {\r\n      signupMutation.mutate(signupInfo.credential, {\r\n        onSuccess: (loginData) => {\r\n          storeTokens(loginData, signupInfo.isRememberChecked);\r\n          storeSignupSuccess();\r\n          history.push(Routes.Game);\r\n        },\r\n      });\r\n    } else {\r\n      setErrors(validationErrors);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isAuthStoreFetching: loginMutation.isLoading || signupMutation.isLoading,\r\n    login: tryLogin,\r\n    signup: trySignup,\r\n    errors,\r\n  };\r\n};\r\n\r\nconst validateCredential = (credential: Credential): Array<AuthError> => {\r\n  const errors: Array<AuthError> = [];\r\n\r\n  const email = credential.email.trim();\r\n  if (email.length === 0) {\r\n    errors.push({field: 'email', message: 'Please enter email'});\r\n  } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n    errors.push({field: 'email', message: 'Please enter a valid email address'});\r\n  }\r\n\r\n  const password = credential.password.trim();\r\n  if (password.length === 0) {\r\n    errors.push({\r\n      field: 'password',\r\n      message: 'Please enter password'\r\n    });\r\n  } else if (password.length < 8) {\r\n    errors.push({\r\n      field: 'password',\r\n      message: 'Password must contain at least 8 characters.'\r\n    });\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst getErrorFromErrorCode = (errorCode: number): AuthError => {\r\n  switch (errorCode) {\r\n    case 2:\r\n      return {\r\n        field: 'email',\r\n        message: 'Your email is not included in the list of participants. If you want to learn more about the game and how to participate, please visit https://promo.page',\r\n      };\r\n    case 3:\r\n      return {\r\n        field: 'email',\r\n        message: 'Please sing up',\r\n      };\r\n    case 4:\r\n      return {\r\n        field: 'password',\r\n        message: 'Incorrect password',\r\n      };\r\n    case 5:\r\n      return {\r\n        field: 'email',\r\n        message: 'Already signed up. Please login',\r\n      };\r\n    default:\r\n      return {\r\n        field: 'email',\r\n        message: 'Something wrong',\r\n      };\r\n  }\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEyeClosed(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 7C14.76 7 17 9.24 17 12C17 12.65 16.87 13.26 16.64 13.83L19.56 16.75C21.07 15.49 22.26 13.86 22.99 12C21.26 7.61 16.99 4.5 11.99 4.5C10.59 4.5 9.25 4.75 8.01 5.2L10.17 7.36C10.74 7.13 11.35 7 12 7ZM2 4.27L4.28 6.55L4.74 7.01C3.08 8.3 1.78 10.02 1 12C2.73 16.39 7 19.5 12 19.5C13.55 19.5 15.03 19.2 16.38 18.66L16.8 19.08L19.73 22L21 20.73L3.27 3L2 4.27ZM7.53 9.8L9.08 11.35C9.03 11.56 9 11.78 9 12C9 13.66 10.34 15 12 15C12.22 15 12.44 14.97 12.65 14.92L14.2 16.47C13.53 16.8 12.79 17 12 17C9.24 17 7 14.76 7 12C7 11.21 7.2 10.47 7.53 9.8ZM11.84 9.02L14.99 12.17L15.01 12.01C15.01 10.35 13.67 9.01 12.01 9.01L11.84 9.02Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEyeClosed);\nexport default __webpack_public_path__ + \"static/media/eye_closed.10ba7874.svg\";\nexport { ForwardRef as ReactComponent };","import React, {FC} from 'react';\r\nimport styles from './Label.module.scss';\r\n\r\ninterface LabelProps {\r\n  label: string;\r\n  htmlFor?: string;\r\n}\r\n\r\nexport const Label: FC<LabelProps> = ({label, htmlFor}) => {\r\n  return <label className={styles.label} htmlFor={htmlFor}>{label}</label>;\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgEyeOpened(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 17C9.24 17 7 14.76 7 12C7 9.24 9.24 7 12 7C14.76 7 17 9.24 17 12C17 14.76 14.76 17 12 17ZM12 9C10.34 9 9 10.34 9 12C9 13.66 10.34 15 12 15C13.66 15 15 13.66 15 12C15 10.34 13.66 9 12 9Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEyeOpened);\nexport default __webpack_public_path__ + \"static/media/eye_opened.3ace6423.svg\";\nexport { ForwardRef as ReactComponent };","import {Dayjs} from 'dayjs';\r\n\r\nexport interface GameState {\r\n  readonly gameName: string;\r\n  readonly avatarUrl: string;\r\n  readonly isProfileCreated: boolean;\r\n  readonly isBotConnected: boolean;\r\n  readonly isMainStoryViewed: boolean;\r\n  readonly isFinalStoryViewed: boolean;\r\n  readonly isFinalPageViewed: boolean;\r\n  readonly nickname: string;\r\n  readonly email: string;\r\n  readonly isNickNameSet: boolean;\r\n  readonly linkToBot: string;\r\n  readonly linkToHelp: string;\r\n  readonly currentDayNumber: number;\r\n  readonly days: Array<DayInfo>;\r\n  readonly finalEventStartTime: Dayjs;\r\n}\r\n\r\nexport enum DayStatus {\r\n  NotStarted,\r\n  Solved,\r\n  InProgress,\r\n  Future,\r\n}\r\n\r\nexport interface DayInfo {\r\n  readonly isDailyStoryViewed: boolean;\r\n  readonly isPasscodeEntered: boolean;\r\n  readonly status: DayStatus;\r\n  readonly startTime: Dayjs;\r\n  readonly dayNumber: number;\r\n  readonly tasks: Array<TaskInfo>;\r\n  readonly totalTasks: number;\r\n  readonly isTeamTaskSolved: boolean; // TODO: consider to remove as unused\r\n  readonly isTeamTaskCompletionViewed: boolean;\r\n  readonly inventoryItems: Array<InventoryItem>;\r\n}\r\n\r\nexport interface InventoryItem {\r\n  readonly isAvailable: boolean;\r\n  readonly isUsed: boolean;\r\n  readonly name: string;\r\n  readonly resource: string;\r\n}\r\n\r\nexport enum TaskType {\r\n  Vr = 'vr_gallery',\r\n  Ar = 'ar_video_on_marker',\r\n  Image = 'image',\r\n  Text = 'text',\r\n  TextAndImage = 'text_and_image',\r\n  Url = 'text_url',\r\n  Video = 'video',\r\n}\r\n\r\nexport interface TaskInfo {\r\n  readonly id: number;\r\n  readonly type: TaskType;\r\n  readonly isTeamTask: boolean;\r\n  readonly areHintsAvailable: boolean;\r\n  readonly hints: Array<any>;\r\n  readonly hintsTotal: number;\r\n  readonly hintsUsed: number;\r\n  readonly resources: Array<string>;\r\n  readonly isSkipped: boolean;\r\n  readonly isSolved: boolean;\r\n  readonly text: string;\r\n}\r\n\r\ninterface SelfPatchBase {\r\n  readonly key: string;\r\n}\r\n\r\nexport interface SelfPatchModel extends SelfPatchBase {\r\n  readonly value: string | boolean;\r\n}\r\n\r\nexport interface SelfPatchPasswordModel extends SelfPatchBase{\r\n  readonly value: {\r\n    old: string,\r\n    new: string,\r\n  };\r\n}\r\n","import React, {\r\n  ChangeEvent,\r\n  ChangeEventHandler,\r\n  FC,\r\n  FocusEvent,\r\n  FocusEventHandler,\r\n  ReactNode,\r\n  Ref,\r\n  useState\r\n} from 'react';\r\nimport classNames from 'classnames';\r\nimport {Label} from './Label.component';\r\nimport {ReactComponent as ShowPasswordIcon} from '../images/eye_closed.svg';\r\nimport {ReactComponent as HidePasswordIcon} from '../images/eye_opened.svg';\r\nimport styles from './TextInput.module.scss';\r\n\r\ninterface TextInputProps {\r\n  value?: string;\r\n  inputRef?: Ref<HTMLInputElement>;\r\n  onChange?: ChangeEventHandler<HTMLInputElement>;\r\n  onBlur?: FocusEventHandler<HTMLInputElement>;\r\n  type?: 'text' | 'password';\r\n  placeholder?: string;\r\n  disabled?: boolean;\r\n  label?: string;\r\n  name?: string;\r\n  isValid?: boolean;\r\n  addonAfter?: ReactNode;\r\n  additionalClasses?: string;\r\n}\r\n\r\nexport const TextInput: FC<TextInputProps> = ({\r\n  type = 'text',\r\n  inputRef,\r\n  value,\r\n  onChange,\r\n  onBlur,\r\n  placeholder,\r\n  label,\r\n  name,\r\n  isValid = true,\r\n  disabled = false,\r\n  addonAfter,\r\n  additionalClasses,\r\n}) => {\r\n  const [isPasswordVisible, setIsPasswordVisible] = useState(false);\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    !!onChange && onChange(event);\r\n  };\r\n\r\n  const handleBlur = (event: FocusEvent<HTMLInputElement>) => {\r\n    !!onBlur && onBlur(event);\r\n  };\r\n\r\n  const PasswordIcon = isPasswordVisible ? HidePasswordIcon : ShowPasswordIcon;\r\n\r\n  return (\r\n    <>\r\n      {label && (\r\n        <Label htmlFor={`id_${name}`} label={label}/>\r\n      )}\r\n      <div className={classNames(styles.inputContainer, additionalClasses)}>\r\n        <input\r\n          className={classNames(\r\n            styles.textInput,\r\n            {\r\n              [styles.hasErrors]: !isValid,\r\n              [styles.disabled]: disabled,\r\n              [styles.password]: type === 'password',\r\n            },\r\n          )}\r\n          ref={inputRef}\r\n          value={value}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n          type={isPasswordVisible ? 'text' : type}\r\n          placeholder={placeholder}\r\n          disabled={disabled}\r\n          id={`id_${name}`}\r\n        />\r\n        {type === 'password' && (\r\n          <PasswordIcon\r\n            onClick={() => setIsPasswordVisible(prev => !prev)}\r\n            className={styles.passwordIcon}\r\n          />\r\n        )}\r\n        {addonAfter && (\r\n          <div className={styles.addonAfter}>\r\n            {addonAfter}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, {ChangeEvent, FC, useCallback} from 'react';\r\nimport {Message, MessageType} from '../../common/Message.component';\r\nimport {TextInput} from '../../common/TextInput.component';\r\nimport {AuthError} from '../../api/auth.types';\r\n\r\ninterface AuthProps {\r\n  readonly errors: Array<AuthError>;\r\n  readonly email: string;\r\n  readonly onEmailChange: (email: string) => void;\r\n  readonly password: string;\r\n  readonly onPasswordChange: (password: string) => void;\r\n}\r\n\r\nexport const Auth: FC<AuthProps> = ({\r\n  errors,\r\n  email,\r\n  onEmailChange,\r\n  password,\r\n  onPasswordChange,\r\n}) => {\r\n  const handleChangeEmail = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n    onEmailChange(event.target.value);\r\n  }, [onEmailChange]);\r\n\r\n  const handleChangePassword = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n    onPasswordChange(event.target.value);\r\n  }, [onPasswordChange]);\r\n\r\n  return <>\r\n    {errors.length > 0 && (\r\n      <Message type={MessageType.error}>\r\n        {errors.map(({message}, index) => <span key={index}>{message}</span>)}\r\n      </Message>\r\n    )}\r\n    <TextInput\r\n      value={email}\r\n      onChange={handleChangeEmail}\r\n      label=\"email\"\r\n      name=\"email\"\r\n      isValid={!errors.find(({field}) => field === 'email')}\r\n      additionalClasses=\"verticalSpace\"\r\n    />\r\n    <TextInput\r\n      value={password}\r\n      onChange={handleChangePassword}\r\n      type=\"password\"\r\n      label=\"password\"\r\n      name=\"password\"\r\n      isValid={!errors.find(({field}) => field === 'password')}\r\n      additionalClasses=\"verticalSpace\"\r\n    />\r\n  </>;\r\n};\r\n","import React, {ChangeEvent, FC, useCallback, useState} from 'react';\nimport {Routes} from '../../app/routes';\nimport {Link} from '../../common/Link.component';\nimport {Title} from '../../common/Title.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {Checkbox} from '../../common/Checkbox.component';\nimport {Screen} from '../../common/Screen.component';\nimport {ReactComponent as LoginIcon} from '../../images/login-icon.svg';\nimport {useAuthStore} from './Auth.store';\nimport {Auth} from './Auth.component';\nimport styles from './Login.module.scss';\n\nexport const Login: FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isRememberChecked, setIsRememberChecked] = useState(false);\n  const {login, errors, isAuthStoreFetching} = useAuthStore();\n\n  const handleChangeEmail = (email: string): void => setEmail(email);\n  const handleChangePassword = (password: string): void => setPassword(password);\n\n  const handleLogin = useCallback(() => {\n    login({\n      credential: {email, password},\n      isRememberChecked,\n    });\n  }, [email, isRememberChecked, login, password]);\n\n  return (\n    <Screen footerWithGradient isFetching={isAuthStoreFetching}>\n      <Screen.Header>\n        <Title title=\"Log In\" icon={<LoginIcon/>}/>\n      </Screen.Header>\n      <Screen.Content>\n        <Auth\n          errors={errors}\n          email={email}\n          onEmailChange={handleChangeEmail}\n          password={password}\n          onPasswordChange={handleChangePassword}\n        />\n        <Checkbox\n          checked={isRememberChecked}\n          onChange={(event: ChangeEvent<HTMLInputElement>) => setIsRememberChecked(event.target.checked)}\n          name=\"remember\"\n          additionalClasses=\"verticalSpace\"\n        >\n          Remember me on this device\n        </Checkbox>\n        <p className={styles.text}>\n          If you forgot your password please contact admin@questmission.com\n        </p>\n        <Link to={Routes.Signup}>Don&apos;t have an account yet?</Link>\n      </Screen.Content>\n      <Screen.Footer centered>\n        <Button title=\"Login\" onClick={handleLogin} type={ButtonTypes.Main}/>\n      </Screen.Footer>\n    </Screen>\n  );\n};\n","import React, {ChangeEvent, FC, useCallback, useState} from 'react';\nimport {Routes} from '../../app/routes';\nimport {Title} from '../../common/Title.component';\nimport {Screen} from '../../common/Screen.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {Checkbox} from '../../common/Checkbox.component';\nimport {Link} from '../../common/Link.component';\nimport {Auth} from './Auth.component';\nimport {useAuthStore} from './Auth.store';\nimport {ReactComponent as LoginIcon} from '../../images/login-icon.svg';\nimport styles from './Signup.module.scss';\n\nexport const Signup: FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isPolicyChecked, setIsPolicyChecked] = useState(false);\n  const [isRememberChecked, setIsRememberChecked] = useState(false);\n  const {signup, errors, isAuthStoreFetching} = useAuthStore();\n\n  const handleChangeEmail = (email: string): void => setEmail(email);\n  const handleChangePassword = (password: string): void => setPassword(password);\n\n  const handleSignup = useCallback(() => {\n    signup({credential: {email, password}, isPolicyChecked, isRememberChecked});\n  }, [email, isPolicyChecked, isRememberChecked, password, signup]);\n\n  return (\n    <Screen footerWithGradient isFetching={isAuthStoreFetching}>\n      <Screen.Header>\n        <Title title=\"Sign Up\" icon={<LoginIcon/>}/>\n      </Screen.Header>\n      <Screen.Content>\n        <Auth\n          errors={errors}\n          email={email}\n          onEmailChange={handleChangeEmail}\n          password={password}\n          onPasswordChange={handleChangePassword}\n        />\n        <Link to={Routes.Login}>Already have an account?</Link>\n        <div className={styles.additionalInfo}>\n          <Checkbox\n            checked={isPolicyChecked}\n            onChange={(event: ChangeEvent<HTMLInputElement>) => setIsPolicyChecked(event.target.checked)}\n            name=\"policy\"\n            isValid={!errors.find(({field}) => field === 'policy')}\n            additionalClasses={styles.info}\n          >\n            Agree with <a href=\"https://questmission.com/privacy-policy\">Privacy Policy</a>\n          </Checkbox>\n          <Checkbox\n            checked={isRememberChecked}\n            onChange={(event: ChangeEvent<HTMLInputElement>) => setIsRememberChecked(event.target.checked)}\n            name=\"remember\"\n            additionalClasses={styles.info}\n          >\n            Remember me on this device\n          </Checkbox>\n        </div>\n      </Screen.Content>\n      <Screen.Footer centered>\n        <Button title=\"Sign Up\" onClick={handleSignup} type={ButtonTypes.Main}/>\n      </Screen.Footer>\n    </Screen>\n  );\n};\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport {\n  DayInfo,\n  DayStatus,\n  GameState,\n  InventoryItem,\n  SelfPatchModel,\n  SelfPatchPasswordModel,\n  TaskInfo\n} from './game.types';\n\nexport const selfRequest = () =>\n  axios.get('/self')\n    .then(({data}) => gameStateMapper(data))\n    .catch(error => {\n      throw error.response.data;\n    });\n\nexport const patchSelf = ({key, value}: SelfPatchModel) => {\n  const valueKey = typeof value === 'boolean' ? 'value_bool' : 'value_str';\n  return axios.patch('/self', {\n    key,\n    [valueKey]: value,\n  })\n    .catch(error => {\n      throw error.response.data;\n    });\n};\n\nexport const patchPasswordRequest = ({key, value}: SelfPatchPasswordModel) => {\n  return axios.patch('/self', {\n    key,\n    'value_str_old': value.old,\n    'value_str': value.new,\n  })\n    .catch(error => {\n      throw error.response.data;\n    });\n};\n\nexport const finalQuestionnaireRequest = () =>\n  axios.get('/games/self/final-questionaire')\n    .then(({data}) => data['questionnaire_url'])\n    .catch(error => {\n      throw error.response.data;\n    });\n\nexport const finalPageViewedRequest = () => {\n  return axios.patch('/self', {\n    key: 'final_page_viewed',\n    value_bool: true,\n  })\n    .catch(error => {\n      throw error.response.data;\n    });\n};\n\n\nconst gameStateMapper = (data: any): GameState => ({\n  gameName: data['game_name'],\n  avatarUrl: data['avatar'],\n  isProfileCreated: data['profile_set'],\n  isBotConnected: data['bot_connected'],\n  isMainStoryViewed: data['main_story_viewed'],\n  isFinalStoryViewed: data['final_story_viewed'],\n  isFinalPageViewed: data['final_page_viewed'],\n  nickname: data['nickname'],\n  email: data['email'],\n  isNickNameSet: data['nickname_set'],\n  linkToHelp: data['assistant_url'],\n  linkToBot: data['bot_chat_url'],\n  currentDayNumber: data['day_number'],\n  finalEventStartTime: data['final_event_start_time'] && dayjs(data['final_event_start_time']),\n  days: !data['days'] ? [] : data['days'].map((day: any, index: number): DayInfo => ({\n    isDailyStoryViewed: day['day_story_viewed'],\n    isPasscodeEntered: day['passcode_entered'],\n    status: getDayStatus(day, index + 1, data['day_number']),\n    startTime: day['begin_daytime'] && dayjs(day['begin_daytime']),\n    dayNumber: index + 1,\n    totalTasks: day['total_tasks'],\n    isTeamTaskSolved: day['team_task_solved'],\n    isTeamTaskCompletionViewed: day['team_task_completion_viewed'],\n    inventoryItems: !day['inventory_items'] ? [] : day['inventory_items'].map((inventory: any): InventoryItem => ({\n      isAvailable: inventory['available'],\n      isUsed: day['team_task_solved'],\n      name: inventory['name'],\n      resource: inventory['resource'],\n    })),\n    tasks: !day['tasks'] ? [] : day['tasks'].map((task: any): TaskInfo => (({\n      id: task['id'],\n      type: task['content_type'],\n      isTeamTask: task['is_team_mission'],\n      areHintsAvailable: task['wrong_answer_attempts'] > 0 && task['hints_total_number'] > task['hints_used'],\n      hints: task['hints'],\n      hintsTotal: task['hints_total_number'],\n      hintsUsed: task['hints_used'],\n      resources: task['resources'],\n      isSkipped: task['skipped'],\n      isSolved: task['solved'],\n      text: task['text'],\n    }))),\n  })),\n});\n\nconst getDayStatus = (day: any, dayNumber: number, currentDay: number): DayStatus => {\n  const beginDayTime = !day['begin_daytime'] ? null : dayjs(day['begin_daytime']);\n\n  if (currentDay === 0 && dayNumber === 1) {\n    return DayStatus.NotStarted;\n  } else if (beginDayTime && dayjs() < beginDayTime) {\n    return DayStatus.NotStarted;\n  } else if (day['team_task_solved'] && currentDay === dayNumber) {\n    const areAllPersonalTasksSolved = !day['tasks'] ? false : day['tasks'].every((task: any) => task['solved']);\n    return areAllPersonalTasksSolved ? DayStatus.Solved : DayStatus.InProgress;\n  } else if (currentDay === dayNumber) {\n    return DayStatus.InProgress;\n  } else if (currentDay < dayNumber) {\n    return DayStatus.Future;\n  } else {\n    return DayStatus.Solved;\n  }\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPerson(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 7A3.332 3.332 0 107 .333 3.332 3.332 0 107 7zm0 1.667C4.775 8.667.333 9.783.333 12v1.667h13.334V12c0-2.217-4.442-3.333-6.667-3.333z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerson);\nexport default __webpack_public_path__ + \"static/media/person.8aed27a6.svg\";\nexport { ForwardRef as ReactComponent };","import {useQuery} from 'react-query';\r\nimport dayjs from 'dayjs';\r\nimport {selfRequest} from '../api/Game.api';\r\nimport {DayInfo, DayStatus, GameState, InventoryItem} from '../api/game.types';\r\n\r\ninterface GameStore {\r\n  readonly isGameStoreFetching: boolean;\r\n  readonly gameState: GameState;\r\n  readonly currentDay: DayInfo;\r\n  readonly areAllTasksSolved: boolean;\r\n  readonly allInventoryItems: Array<InventoryItem>;\r\n}\r\n\r\nconst initialGameState: GameState = {\r\n  gameName: '',\r\n  avatarUrl: '',\r\n  isProfileCreated: false,\r\n  isBotConnected: false,\r\n  isMainStoryViewed: false,\r\n  isFinalStoryViewed: false,\r\n  isFinalPageViewed: false,\r\n  nickname: '',\r\n  email: '',\r\n  isNickNameSet: false,\r\n  linkToBot: '',\r\n  linkToHelp: '',\r\n  days: [],\r\n  currentDayNumber: 0,\r\n  finalEventStartTime: dayjs(),\r\n};\r\n\r\nconst initialDay: DayInfo = {\r\n  isDailyStoryViewed: false,\r\n  isPasscodeEntered: false,\r\n  status: DayStatus.NotStarted,\r\n  startTime: dayjs(),\r\n  dayNumber: 0,\r\n  tasks: [],\r\n  inventoryItems: [],\r\n  totalTasks: 0,\r\n  isTeamTaskSolved: false,\r\n  isTeamTaskCompletionViewed: false,\r\n};\r\n\r\nexport const useGameStore = (): GameStore => {\r\n  const {data, isFetching} = useQuery<GameState>('game', selfRequest, {\r\n    staleTime: 30 * 1000,\r\n  });\r\n\r\n  return {\r\n    isGameStoreFetching: isFetching,\r\n    gameState: data || initialGameState,\r\n    currentDay: !data ? initialDay : data.days[data.currentDayNumber === 0 ? 0 : data.currentDayNumber - 1],\r\n    areAllTasksSolved: !data ? false : data.days.every(({status}) => status === DayStatus.Solved),\r\n    allInventoryItems: !data ? [] : data.days.reduce<Array<InventoryItem>>(\r\n      (acc, dayInfo) => [...acc, ...dayInfo.inventoryItems.filter(({isAvailable}) => isAvailable)],\r\n      []\r\n    ),\r\n  };\r\n};\r\n","import React, {FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Routes} from '../app/routes';\nimport {useGameStore} from './Game.store';\nimport {Screen} from '../common/Screen.component';\n\nexport const Game: FC = () => {\n  const history = useHistory();\n  const {gameState, isGameStoreFetching} = useGameStore();\n\n  if (isGameStoreFetching) {\n    return (\n      <Screen isFetching={true} withoutHeader>\n        <Screen.Content/>\n      </Screen>\n    );\n  }\n\n  if (!gameState.isProfileCreated) {\n    history.push(Routes.OnboardingPersonalize);\n    return null;\n  }\n\n  if (!gameState.isBotConnected) {\n    history.push(Routes.OnboardingTeam);\n    return null;\n  }\n\n  if (!gameState.isMainStoryViewed) {\n    history.push(Routes.OnboardingMainStory);\n    return null;\n  }\n\n  history.push(Routes.Home);\n\n  return null;\n};\n","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './AvatarIcon.module.scss';\r\n\r\nexport enum AvatarIconTypes {\r\n  Round,\r\n  RoundBig,\r\n  Square,\r\n}\r\n\r\ninterface AvatarIconProps {\r\n  readonly image?: string;\r\n  readonly type: AvatarIconTypes;\r\n  readonly onClick?: () => void;\r\n  readonly additionalClasses?: string;\r\n}\r\n\r\nexport const AvatarIcon: FC<AvatarIconProps> = ({image, type, onClick, additionalClasses}) => {\r\n  if (!image) {\r\n    return (\r\n      <span\r\n        className={classNames(styles.avatarIcon, additionalClasses, {\r\n          [styles.round]: type === AvatarIconTypes.Round,\r\n          [styles.roundBig]: type === AvatarIconTypes.RoundBig,\r\n          [styles.square]: type === AvatarIconTypes.Square,\r\n        })}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <img\r\n      src={image}\r\n      alt=\"\"\r\n      onClick={onClick}\r\n      className={classNames(styles.avatar, additionalClasses, {\r\n        [styles.round]: type === AvatarIconTypes.Round,\r\n        [styles.square]: type === AvatarIconTypes.Square,\r\n      })}\r\n    />\r\n  );\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgTeam(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 10\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 5.625c1.358 0 2.558.325 3.533.75.9.4 1.467 1.3 1.467 2.275V10H5V8.658a2.47 2.47 0 011.467-2.275A8.7 8.7 0 0110 5.625zm-6.667.208C4.25 5.833 5 5.083 5 4.167 5 3.25 4.25 2.5 3.333 2.5c-.916 0-1.666.75-1.666 1.667 0 .916.75 1.666 1.666 1.666zm.942.917a5.819 5.819 0 00-.942-.083c-.825 0-1.608.175-2.316.483A1.676 1.676 0 000 8.692V10h3.75V8.658c0-.691.192-1.341.525-1.908zm12.392-.917c.916 0 1.666-.75 1.666-1.666 0-.917-.75-1.667-1.666-1.667C15.75 2.5 15 3.25 15 4.167c0 .916.75 1.666 1.667 1.666zM20 8.692c0-.675-.4-1.275-1.017-1.542a5.792 5.792 0 00-2.316-.483c-.325 0-.634.033-.942.083a3.75 3.75 0 01.525 1.908V10H20V8.692zM10 0c1.383 0 2.5 1.117 2.5 2.5S11.383 5 10 5a2.497 2.497 0 01-2.5-2.5C7.5 1.117 8.617 0 10 0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTeam);\nexport default __webpack_public_path__ + \"static/media/team.76bd3245.svg\";\nexport { ForwardRef as ReactComponent };","import {useContext} from 'react';\r\nimport {useQuery} from 'react-query';\r\nimport {getAvatarRequest} from '../../api/Resources.api';\r\nimport {AvatarContext} from '../../contexts/AvatarContext';\r\n\r\nexport interface AvatarStore {\r\n  readonly isAvatarStoreFetching: boolean;\r\n  readonly avatar?: string;\r\n}\r\n\r\nexport const useAvatarStore = (avatarUrl: string): AvatarStore => {\r\n  const {addAvatar, avatars} = useContext(AvatarContext);\r\n  const {isFetching} = useQuery(\r\n    ['avatar', avatarUrl],\r\n    () => getAvatarRequest(avatarUrl),\r\n    {\r\n      staleTime: Infinity,\r\n      enabled: !!avatarUrl,\r\n      onSuccess: (data) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(data);\r\n\r\n        reader.onload = function() {\r\n          if (reader.result && typeof reader.result === 'string') {\r\n            addAvatar(avatarUrl, reader.result);\r\n          }\r\n        };\r\n      },\r\n    }\r\n  );\r\n\r\n  return {\r\n    isAvatarStoreFetching: isFetching,\r\n    avatar: avatars.get(avatarUrl),\r\n  };\r\n};\r\n","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport {AvatarIcon, AvatarIconTypes} from '../../common/AvatarIcon.component';\r\nimport {useAvatarStore} from '../onboarding/Avatar.store';\r\nimport styles from './Avatar.module.scss';\r\n\r\ninterface AvatarProps {\r\n  readonly avatarUrl: string;\r\n  readonly type: AvatarIconTypes;\r\n  readonly isSelected?: boolean;\r\n  readonly onClick?: () => void;\r\n}\r\n\r\nexport const Avatar: FC<AvatarProps> = ({avatarUrl, type, isSelected = false, onClick}) => {\r\n  const {isAvatarStoreFetching, avatar} = useAvatarStore(avatarUrl);\r\n\r\n  return (\r\n    <AvatarIcon\r\n      image={avatar}\r\n      onClick={onClick}\r\n      type={type}\r\n      additionalClasses={classNames({\r\n        [styles.currentAvatar]: !isAvatarStoreFetching && isSelected,\r\n      })}\r\n    />\r\n  );\r\n};\r\n","import {useMutation, useQuery, useQueryClient} from 'react-query';\r\nimport {getAvatars} from '../../api/Resources.api';\r\nimport {patchSelf} from '../../api/Game.api';\r\nimport {useGameStore} from '../Game.store';\r\n\r\ninterface AvatarListStore {\r\n  readonly avatarUrlList: Array<string>;\r\n  readonly currentAvatar: string;\r\n  readonly changeAvatar: (avatar: string) => void;\r\n  readonly isAvatarListStoreFetching: boolean;\r\n}\r\n\r\nexport const useAvatarListStore = (): AvatarListStore => {\r\n  const queryClient = useQueryClient();\r\n  const {gameState, isGameStoreFetching} = useGameStore();\r\n  const {data, isFetching} = useQuery<Array<string>>('avatars', getAvatars, {staleTime: Infinity});\r\n  const selfMutation = useMutation(patchSelf, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('game');\r\n      queryClient.invalidateQueries('teamPlayers');\r\n    },\r\n  });\r\n\r\n  const tryChangeAvatar = (avatar: string): void => {\r\n    selfMutation.mutate({key: 'avatar', value: avatar});\r\n  };\r\n\r\n  return {\r\n    isAvatarListStoreFetching: isGameStoreFetching || isFetching || selfMutation.isLoading,\r\n    avatarUrlList: data || [],\r\n    currentAvatar: gameState.avatarUrl,\r\n    changeAvatar: tryChangeAvatar,\r\n  };\r\n};\r\n","import React, {FC} from 'react';\nimport {AvatarIconTypes} from '../../common/AvatarIcon.component';\nimport {Avatar} from '../common/Avatar.component';\nimport {useAvatarListStore} from './AvatarListStore';\nimport styles from './AvatarSelector.module.scss';\n\ninterface AvatarSelectorProps {\n}\n\nexport const AvatarSelector: FC<AvatarSelectorProps> = () => {\n  const {avatarUrlList, currentAvatar, changeAvatar} = useAvatarListStore();\n\n  return (\n    <div className={styles.avatarList}>\n      {avatarUrlList.map((avatarUrl, index) => (\n        <Avatar\n          key={index}\n          avatarUrl={avatarUrl}\n          type={AvatarIconTypes.Square}\n          isSelected={currentAvatar === avatarUrl}\n          onClick={() => changeAvatar(avatarUrl)}\n        />\n      ))}\n    </div>\n  );\n};\n","import {useState} from 'react';\r\nimport {useMutation, useQueryClient} from 'react-query';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {useGameStore} from '../Game.store';\r\nimport {patchPasswordRequest, patchSelf} from '../../api/Game.api';\r\nimport {useAvatarStore} from './Avatar.store';\r\n\r\nexport type ProfileErrorKey = 'nickname' | 'oldPassword' | 'newPassword';\r\n\r\nexport interface ProfileError {\r\n  readonly field: ProfileErrorKey;\r\n  readonly message: string;\r\n}\r\n\r\nexport interface ProfileStore {\r\n  readonly isProfileStoreFetching: boolean;\r\n  readonly email: string;\r\n  readonly nickname: string;\r\n  readonly changeNickname: (nickname: string) => void;\r\n  readonly avatar?: string;\r\n  readonly changePassword: (oldPassword: string, newPassword: string, onSuccess: () => void) => void;\r\n  readonly markProfileCreated: () => void;\r\n  readonly passwordWasChanged: boolean;\r\n  readonly error: ProfileError | null;\r\n}\r\n\r\nexport const useProfileStore = (): ProfileStore => {\r\n  const queryClient = useQueryClient();\r\n  const history = useHistory();\r\n  const [passwordWasChanged, setPasswordWasChanged] = useState(false);\r\n  const {gameState, isGameStoreFetching} = useGameStore();\r\n  const {avatar, isAvatarStoreFetching} = useAvatarStore(gameState.avatarUrl);\r\n  const selfMutation = useMutation(patchSelf, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('game');\r\n      queryClient.invalidateQueries('teamPlayers');\r\n    },\r\n  });\r\n  const passwordMutation = useMutation(patchPasswordRequest, {\r\n    onSuccess: () => {\r\n      setPasswordWasChanged(true);\r\n      queryClient.invalidateQueries('game');\r\n    },\r\n    onError: () => {\r\n      setError({\r\n        field: 'oldPassword',\r\n        message: 'Incorrect password',\r\n      });\r\n    },\r\n  });\r\n  const [error, setError] = useState<ProfileError | null>(null);\r\n\r\n  const tryChangeNickname = (nickname: string): void => {\r\n    const newNickname = nickname.trim();\r\n    setError(null);\r\n    if (newNickname.length === 0) {\r\n      setError({\r\n        field: 'nickname',\r\n        message: 'Please enter username',\r\n      });\r\n    } else if (newNickname.length > 30) {\r\n      setError({\r\n        field: 'nickname',\r\n        message: 'Username must be less than 30 characters',\r\n      });\r\n    } else {\r\n      selfMutation.mutate({key: 'nickname', value: newNickname});\r\n    }\r\n  };\r\n\r\n  const markProfileCreated = (): void => {\r\n    selfMutation.mutateAsync({key: 'profile_set', value: true})\r\n      .then(() => {\r\n        history.push(Routes.Game);\r\n      });\r\n  };\r\n\r\n  const tryChangePassword = (oldPassword: string, newPassword: string, onSuccess: () => void): void => {\r\n    setError(null);\r\n\r\n    if (oldPassword.length < 8) {\r\n      setError({\r\n        field: 'oldPassword',\r\n        message: 'Password must contain at least 8 characters.',\r\n      });\r\n      return;\r\n    }\r\n\r\n    const updatedPassword = newPassword.trim();\r\n    if (updatedPassword.length === 0) {\r\n      setError({\r\n        field: 'newPassword',\r\n        message: 'Password should not be empty',\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (updatedPassword.length < 8) {\r\n      setError({\r\n        field: 'newPassword',\r\n        message: 'Password must contain at least 8 characters.',\r\n      });\r\n      return;\r\n    }\r\n\r\n    passwordMutation.mutateAsync({\r\n      key: 'password', value: {\r\n        old: oldPassword,\r\n        new: updatedPassword,\r\n      }\r\n    }).then( () => onSuccess());\r\n  };\r\n\r\n  return {\r\n    isProfileStoreFetching: isGameStoreFetching || isAvatarStoreFetching || selfMutation.isLoading || passwordMutation.isLoading,\r\n    email: gameState.email,\r\n    nickname: gameState.nickname,\r\n    changeNickname: tryChangeNickname,\r\n    avatar,\r\n    markProfileCreated,\r\n    changePassword: tryChangePassword,\r\n    passwordWasChanged,\r\n    error,\r\n  };\r\n};\r\n","import React, {ChangeEvent, FC, FormEvent, useEffect, useRef, useState} from 'react';\nimport {Screen} from '../../common/Screen.component';\nimport {TextInput} from '../../common/TextInput.component';\nimport {Label} from '../../common/Label.component';\nimport {Title} from '../../common/Title.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {Message, MessageType} from '../../common/Message.component';\nimport {ReactComponent as PersonIcon} from '../../images/person.svg';\nimport {AvatarSelector} from './AvatarSelector.component';\nimport {useProfileStore} from './Profile.store';\nimport {useAvatarListStore} from './AvatarListStore';\nimport styles from './Personalize.module.scss';\n\nexport const Personalize: FC = () => {\n  const ref = useRef<HTMLInputElement>(null);\n  const {nickname, changeNickname, markProfileCreated, error, isProfileStoreFetching} = useProfileStore();\n  const {isAvatarListStoreFetching} = useAvatarListStore();\n  const [currentNickname, setCurrentNickname] = useState(nickname);\n\n  useEffect(() => {\n    setCurrentNickname(nickname);\n  }, [nickname]);\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setCurrentNickname(event.target.value);\n  };\n\n  const handleChangeNickname = () => {\n    changeNickname(currentNickname);\n  };\n\n  const submitChangeNickname = (event: FormEvent) => {\n    event.preventDefault();\n    handleChangeNickname();\n    if (ref && ref.current) {\n      ref.current.blur();\n    }\n  };\n\n  const handleContinue = () => {\n    markProfileCreated();\n  };\n\n  return (\n    <Screen footerWithGradient isFetching={isProfileStoreFetching || isAvatarListStoreFetching}>\n      <Screen.Header>\n        <Title title=\"Personalize\" icon={<PersonIcon className={styles.personIcon}/>}/>\n      </Screen.Header>\n      <Screen.Content>\n        {!!error && (\n          <Message type={MessageType.error}>{error.message}</Message>\n        )}\n        <form onSubmit={submitChangeNickname}>\n          <TextInput\n            value={currentNickname}\n            inputRef={ref}\n            onChange={handleChange}\n            onBlur={handleChangeNickname}\n            isValid={error?.field !== 'nickname'}\n            label=\"Username\"\n            name=\"nickname\"\n            additionalClasses=\"verticalSpace\"\n          />\n        </form>\n        <Label label=\"Avatar\"/>\n        <AvatarSelector/>\n      </Screen.Content>\n      <Screen.Footer centered>\n        <Button title=\"Continue\" onClick={handleContinue} type={ButtonTypes.Main}/>\n      </Screen.Footer>\n    </Screen>\n  );\n};\n","var _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 88 88\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 88,\n    height: 88,\n    rx: 44,\n    fill: \"#FFDE89\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M58.666 25.667H29.334c-2.016 0-3.648 1.65-3.648 3.666l-.018 33L33 55h25.666a3.677 3.677 0 003.667-3.667v-22a3.677 3.677 0 00-3.666-3.666zm-3.666 22H33V44h22v3.667zm0-5.5H33V38.5h22v3.667zm0-5.5H33V33h22v3.667z\",\n    fill: \"#1D2360\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckin);\nexport default __webpack_public_path__ + \"static/media/checkin.cb7626ef.svg\";\nexport { ForwardRef as ReactComponent };","import React, {ChangeEvent, FC, FormEvent, useRef} from 'react';\nimport {TeamPlayer} from '../../api/team.types';\nimport {TextInput} from '../../common/TextInput.component';\nimport {AvatarIconTypes} from '../../common/AvatarIcon.component';\nimport {Message, MessageType} from '../../common/Message.component';\nimport {TeamError} from './Team.store';\nimport {Avatar} from './Avatar.component';\nimport styles from './Team.module.scss';\n\ninterface TeamProps {\n  readonly currentTeamName: string;\n  readonly changeTeamName: (name: string) => void;\n  readonly setCurrentTeamName: (name: string) => void;\n  readonly teamPlayers: Array<TeamPlayer>;\n  readonly isCurrentUserCaptain: boolean;\n  readonly error: TeamError | null;\n}\n\nexport const Team: FC<TeamProps> = ({\n  currentTeamName,\n  changeTeamName,\n  setCurrentTeamName,\n  teamPlayers,\n  isCurrentUserCaptain,\n  error,\n}) => {\n  const ref = useRef<HTMLInputElement>(null);\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setCurrentTeamName(event.target.value);\n  };\n\n  const handleBlur = () => {\n    changeTeamName(currentTeamName);\n  };\n\n  const formSubmit = (event: FormEvent) => {\n    event.preventDefault();\n    changeTeamName(currentTeamName);\n    if (ref && ref.current) {\n      ref.current.blur();\n    }\n  };\n\n  return (\n    <div>\n      {!!error && (\n        <Message type={MessageType.error}>{error.message}</Message>\n      )}\n      <form onSubmit={formSubmit}>\n        <TextInput\n          inputRef={ref}\n          value={currentTeamName}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          disabled={!isCurrentUserCaptain}\n          isValid={error?.field !== 'teamName'}\n          label=\"Team Name\"\n          name=\"teamName\"\n          additionalClasses=\"verticalSpace\"\n        />\n      </form>\n      {\n        teamPlayers.map(({id, isCaptain, nickname, avatarUrl, email}) => (\n          <div key={id} className={styles.player}>\n            <Avatar avatarUrl={avatarUrl} type={AvatarIconTypes.Round}/>\n            <div className={styles.playerInfo}>\n              <div className={styles.nickname}>{`${nickname}${isCaptain ? ' - Captain' : ''}`}</div>\n              <div className={styles.email}>{email}</div>\n            </div>\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n","import axios from 'axios';\r\nimport {TeamInfo, Team, TeamPatchModel, TeamPlayer, DayInfo} from './team.types';\r\n\r\nexport const getTeamInfoRequest = () =>\r\n  axios.get('/teams/self')\r\n    .then(({data}) => teamInfoMapper(data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n\r\nconst teamInfoMapper = (teamInfoData: any): TeamInfo => {\r\n  return {\r\n    name: teamInfoData['name'],\r\n    days: !teamInfoData['days'] ? [] : teamInfoData['days'].map(\r\n      (dayInfo: any): DayInfo => ({\r\n        isTeamMissionSolved: dayInfo['daily_mission_solved'],\r\n        totalTasks: dayInfo['total_tasks'],\r\n        totalTasksSolved: dayInfo['total_tasks_solved'],\r\n      })\r\n    ),\r\n  };\r\n};\r\n\r\nexport const getTeamRequest = () =>\r\n  axios.get('/teams/self/players')\r\n    .then(({data}) => teamMapper(data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n\r\nconst teamMapper = (teamData: any): Team => {\r\n  const captain = teamData['capitan'];\r\n  const captainId = !captain ? null : captain['public-id'];\r\n  return {\r\n    captainId,\r\n    players: teamData.players.map((player: any): TeamPlayer => ({\r\n      id: player['public-id'],\r\n      isCaptain: player['public-id'] === captainId,\r\n      nickname: player['nickname'],\r\n      avatarUrl: player['avatar'],\r\n      email: player['email'],\r\n      chatUrl: player['chat_url'],\r\n    }))\r\n  };\r\n};\r\n\r\nexport const patchTeamRequest = (patchModel: TeamPatchModel) => {\r\n  return axios.patch('/teams/self', {\r\n    key: patchModel.key,\r\n    'value_str': patchModel.value,\r\n  })\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n","import {useState} from 'react';\nimport {useMutation, useQuery, useQueryClient} from 'react-query';\nimport {getUserId} from '../../lib/token';\nimport {getTeamInfoRequest, getTeamRequest, patchTeamRequest} from '../../api/Team.api';\nimport {Team, TeamInfo, TeamPlayer} from '../../api/team.types';\nimport {useGameStore} from '../Game.store';\n\nexport type TeamErrorKey = 'teamName';\n\nexport interface TeamError {\n  readonly field: TeamErrorKey;\n  readonly message: string;\n}\n\nexport interface TeamStore {\n  readonly teamName: string;\n  readonly progress: number;\n  readonly changeTeamName: (name: string) => void;\n  readonly validateTeamName: (name: string) => Promise<string>;\n  readonly teamPlayers: Array<TeamPlayer>;\n  readonly isCurrentUserCaptain: boolean;\n  readonly isTeamStoreFetching: boolean;\n  readonly error: TeamError | null;\n}\n\nexport const useTeamStore = (): TeamStore => {\n  const queryClient = useQueryClient();\n  const {gameState, isGameStoreFetching} = useGameStore();\n  const [error, setError] = useState<TeamError | null>(null);\n  const {\n    data: teamInfo,\n    isFetching: isTeamFetching,\n  } = useQuery<TeamInfo>('team', getTeamInfoRequest, {\n    staleTime: 30 * 1000,\n  });\n  const {\n    data: team,\n    isFetching: isTeamPlayersFetching,\n  } = useQuery<Team>('teamPlayers', getTeamRequest, {\n    staleTime: Infinity,\n  });\n  const patchTeamMutation = useMutation(patchTeamRequest, {\n    onSuccess: () => queryClient.invalidateQueries('team'),\n  });\n\n  const validateTeamName = (name: string): Promise<string> => {\n    const newName = name.trim();\n    let error: TeamError | null = null;\n\n    if (newName.length === 0) {\n      error = {\n        field: 'teamName',\n        message: 'Team name should not be empty',\n      };\n    }\n    if (newName.length > 30) {\n      error = {\n        field: 'teamName',\n        message: 'Team name must be less than 30 characters',\n      };\n    }\n\n    return new Promise<string>((resolve, reject) => {\n      if (!error) {\n        resolve(newName);\n      } else {\n        reject(error);\n      }\n    });\n  };\n\n  const tryChangeName = (name: string): void => {\n    const newName = name.trim();\n    validateTeamName(newName)\n      .then(value => {\n        setError(null);\n        patchTeamMutation.mutate({key: 'name', value});\n      })\n      .catch(error => {\n        setError(error);\n      });\n  };\n\n  return {\n    isTeamStoreFetching: isTeamFetching || isTeamPlayersFetching || isGameStoreFetching || patchTeamMutation.isLoading,\n    teamName: teamInfo?.name || '',\n    progress: !teamInfo\n      ? 0\n      : getProgress(teamInfo, gameState.currentDayNumber - 1),\n    changeTeamName: tryChangeName,\n    validateTeamName,\n    teamPlayers: team ? team.players : [],\n    isCurrentUserCaptain: team && team.captainId ? team.captainId === getUserId() : true,\n    error,\n  };\n};\n\nconst getProgress = (teamInfo: TeamInfo, currentDayNumber: number): number => {\n  const currentDayInfo = teamInfo.days[currentDayNumber];\n\n  if (currentDayInfo) {\n    return Math.floor(currentDayInfo.totalTasksSolved / currentDayInfo.totalTasks * 100);\n  }\n\n  return 0;\n};\n","import React, {FC, useEffect, useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Routes} from '../../app/routes';\nimport {Screen} from '../../common/Screen.component';\nimport {Title} from '../../common/Title.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {Message, MessageType} from '../../common/Message.component';\nimport {ReactComponent as TeamIcon} from '../../images/team.svg';\nimport {Team} from '../common/Team.component';\nimport {useTeamStore} from '../common/Team.store';\nimport styles from './TeamComposition.module.scss';\n\nexport const TeamComposition: FC = () => {\n  const history = useHistory();\n  const {teamName, changeTeamName, validateTeamName, teamPlayers, isCurrentUserCaptain, error, isTeamStoreFetching} = useTeamStore();\n  const [currentTeamName, setCurrentTeamName] = useState('');\n\n  useEffect(() => {\n    setCurrentTeamName(teamName);\n  }, [teamName]);\n\n  const handleContinue = () => {\n    validateTeamName(currentTeamName)\n      .then(() => {\n        history.push(Routes.OnboardingCheckIn);\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <Screen footerWithGradient isFetching={isTeamStoreFetching}>\n      <Screen.Header>\n        <Title title=\"Meet the team!\" icon={<TeamIcon className={styles.teamIcon}/>}/>\n      </Screen.Header>\n      <Screen.Content>\n        <Message type={MessageType.warning}>\n          Welcome, Awesome One. Meet your team of great people. Get in touch with them, via any appropriate means (just\n          please do not use smoke signals as they take waaay too long and pollution is real btw!). And, first things\n          first: come up with a cool, smart, fun name for your team! Success is created. Together!\n        </Message>\n        <Team\n          currentTeamName={currentTeamName}\n          changeTeamName={changeTeamName}\n          setCurrentTeamName={setCurrentTeamName}\n          teamPlayers={teamPlayers}\n          isCurrentUserCaptain={isCurrentUserCaptain}\n          error={error}\n        />\n      </Screen.Content>\n      <Screen.Footer centered>\n        <Button title=\"Continue\" onClick={handleContinue} type={ButtonTypes.Main}/>\n      </Screen.Footer>\n    </Screen>\n  );\n};\n","import React, {FC, ReactNode} from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './Panel.module.scss';\r\n\r\ninterface PanelProps {\r\n  readonly mainText?: string;\r\n  readonly additionalText?: string;\r\n  readonly additionalClasses?: string;\r\n  readonly icon?: ReactNode;\r\n}\r\n\r\nexport const Panel: FC<PanelProps> = ({\r\n  mainText,\r\n  additionalText,\r\n  additionalClasses,\r\n  icon: Icon,\r\n}) => {\r\n  return (\r\n    <div className={classNames(styles.content, additionalClasses)}>\r\n      {Icon && (\r\n        <span className={styles.icon}>{Icon}</span>\r\n      )}\r\n      {mainText && (\r\n        <h2 className={styles.title}>{mainText}</h2>\r\n      )}\r\n      {mainText && (\r\n        <p className={styles.text}>{additionalText}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import {useMutation, useQuery, useQueryClient} from 'react-query';\nimport {useHistory} from 'react-router-dom';\nimport {Routes} from '../../app/routes';\nimport {FinalEventPage, Story} from '../../api/story.types';\nimport {DayStatus} from '../../api/game.types';\nimport {\n  dailyStoryViewedRequest,\n  finalStoryViewedRequest,\n  getDailyStoryRequest,\n  getFinalStoryRequest,\n  getFinalEventRequest,\n  getMainStoryRequest,\n  mainStoryViewedRequest\n} from '../../api/Story.api';\nimport {useGameStore} from '../Game.store';\n\nexport enum StoryType {\n  Main,\n  Daily,\n  Final,\n  FinalEvent,\n}\n\ninterface StoryStore {\n  readonly isStoryStoreFetching: boolean;\n  readonly mainStory: Story | null;\n  readonly dailyStory: Story | null;\n  readonly finalStory: Story | null;\n  readonly finalEvent: FinalEventPage | null;\n  readonly markMainDailyStoryViewed: () => void;\n  readonly markDailyStoryViewed: () => void;\n  readonly markFinalViewed: () => void;\n}\n\nexport const useStoryStore = (type: StoryType, dayNumber?: number): StoryStore => {\n  const queryClient = useQueryClient();\n  const history = useHistory();\n  const {currentDay} = useGameStore();\n  const {\n    data: mainStory,\n    isFetching: isMainStoryFetching,\n  } = useQuery<Story>('main-story', getMainStoryRequest, {\n    staleTime: Infinity,\n    enabled: type === StoryType.Main,\n  });\n  const {\n    data: dailyStory,\n    isFetching: isDailyStoryFetching,\n  } = useQuery<Story>(\n    ['daily-story', dayNumber],\n    () => getDailyStoryRequest(dayNumber),\n    {\n      staleTime: Infinity,\n      enabled: type === StoryType.Daily,\n    });\n  const {\n    data: finalStory,\n    isFetching: isFinalStoryFetching,\n  } = useQuery<Story>('final-story', getFinalStoryRequest, {\n    staleTime: Infinity,\n    enabled: type === StoryType.Final,\n  });\n  const {\n    data: finalEvent,\n    isFetching: isFinalEventFetching,\n  } = useQuery<FinalEventPage>('final-event', getFinalEventRequest, {\n    staleTime: Infinity,\n    enabled: type === StoryType.FinalEvent,\n  });\n  const markMainStoryViewedMutation = useMutation(mainStoryViewedRequest, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('game');\n      history.push(Routes.Home);\n    },\n  });\n  const markDailyStoryViewedMutation = useMutation(dailyStoryViewedRequest, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('game');\n      queryClient.invalidateQueries(['daily-story', currentDay.dayNumber]);\n      history.push(Routes.Mission);\n    },\n  });\n  const markFinalStoryViewedMutation = useMutation(finalStoryViewedRequest, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('game');\n      queryClient.invalidateQueries('final-story');\n      history.push(Routes.Home);\n    },\n  });\n\n  const markMainDailyStoryViewed = (): void => {\n    markMainStoryViewedMutation.mutate();\n  };\n\n  const markDailyStoryViewed = (): void => {\n    if (currentDay.dayNumber === dayNumber && currentDay.status !== DayStatus.Solved) {\n      markDailyStoryViewedMutation.mutate(currentDay.dayNumber);\n    } else {\n      history.push(Routes.Home);\n    }\n  };\n\n  const markFinalViewed = (): void => {\n    markFinalStoryViewedMutation.mutate();\n  };\n\n  return {\n    isStoryStoreFetching: isMainStoryFetching || isDailyStoryFetching || isFinalStoryFetching || isFinalEventFetching\n      || markMainStoryViewedMutation.isLoading || markDailyStoryViewedMutation.isLoading\n      || markFinalStoryViewedMutation.isLoading,\n    mainStory: mainStory || null,\n    dailyStory: dailyStory || null,\n    finalStory: finalStory || null,\n    finalEvent: finalEvent || null,\n    markMainDailyStoryViewed,\n    markDailyStoryViewed,\n    markFinalViewed,\n  };\n};\n","import React, {FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Screen} from '../../common/Screen.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {Panel} from '../../common/Panel.components';\nimport {Routes} from '../../app/routes';\nimport {useGameStore} from '../Game.store';\nimport {ReactComponent as CheckinIcon} from '../../images/checkin.svg';\n\nexport const Checkin: FC = () => {\n  const history = useHistory();\n  const {gameState, isGameStoreFetching} = useGameStore();\n\n  const handleContinue = () => {\n    if (gameState.isBotConnected) {\n      history.push(Routes.Game);\n    } else {\n      window.open(gameState.linkToBot);\n    }\n  };\n\n  return (\n    <Screen footerWithGradient isFetching={isGameStoreFetching}>\n      <Screen.Content>\n        <Panel\n          icon={<CheckinIcon/>}\n          mainText=\"Check In\"\n          additionalText=\"Your journey has begun. Your first mission - should you choose to accept it - is to inform Mission HQ that you are ALL IN.\"\n        />\n      </Screen.Content>\n      <Screen.Footer centered>\n        <Button\n          title={gameState.isBotConnected ? 'Continue' : 'Check-in here'}\n          onClick={handleContinue}\n          type={ButtonTypes.Main}\n        />\n      </Screen.Footer>\n    </Screen>\n  );\n};\n","import axios from 'axios';\r\nimport {FinalEventPage, Story, StoryPage, StoryResponse} from './story.types';\r\n\r\nexport const getMainStoryRequest = () =>\r\n  axios.get<StoryResponse>('/games/self/main-story')\r\n    .then(({data}) => storyMapper(data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n\r\nexport const getDailyStoryRequest = (dayNumber?: number) => {\r\n  if (dayNumber) {\r\n    return axios.get(`/games/self/daily-story/${dayNumber}`)\r\n      .then(({data}) => storyMapper(data))\r\n      .catch(error => {\r\n        throw error.response.data;\r\n      });\r\n  } else {\r\n    return axios.get('/games/self/daily-story')\r\n      .then(({data}) => storyMapper(data))\r\n      .catch(error => {\r\n        throw error.response.data;\r\n      });\r\n  }\r\n};\r\n\r\nexport const getFinalStoryRequest = () =>\r\n  axios.get('/games/self/final-story')\r\n    .then(({data}) => storyMapper(data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n\r\nexport const getFinalEventRequest = () =>\r\n  axios.get('/games/self/final-event')\r\n    .then(({data}) => finalEventMapper(data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n\r\nconst storyMapper = (response: StoryResponse): Story => ({\r\n  pages: response.pages.map(({text, resource_url}): StoryPage => ({\r\n    text,\r\n    resource: resource_url,\r\n  })),\r\n});\r\n\r\nconst finalEventMapper = (data: any): FinalEventPage => ({\r\n  text: data['text'],\r\n  resource: data['resource_url'],\r\n  externalLink: data['external_link_url'],\r\n});\r\n\r\nexport const mainStoryViewedRequest = () => {\r\n  return axios.patch('/self', {\r\n    key: 'viewed_main_story',\r\n    value_bool: true,\r\n  })\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n\r\nexport const dailyStoryViewedRequest = (dayNumber: number) => {\r\n  return axios.patch(`/self/day/${dayNumber}`, {\r\n    key: 'day_story_viewed',\r\n    value_bool: true,\r\n  })\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n\r\nexport const finalStoryViewedRequest = () => {\r\n  return axios.patch('/self', {\r\n    key: 'final_story_viewed',\r\n    value_bool: true,\r\n  })\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGt(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 6 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.667 0l-.94.94L3.78 4 .727 7.06l.94.94 4-4-4-4z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGt);\nexport default __webpack_public_path__ + \"static/media/gt.3d4e9846.svg\";\nexport { ForwardRef as ReactComponent };","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport {Button, ButtonTypes} from './Button.component';\r\nimport styles from './CarouselControls.module.scss';\r\n\r\ninterface CarouselControlsProps<Type = any> {\r\n  readonly items: Array<Type>;\r\n  readonly activeIndex: number;\r\n  readonly setActiveIndex: (index: number) => void;\r\n  readonly onLastItem: () => void;\r\n  readonly nextItemButtonTitle: string;\r\n  readonly lastItemButtonTitle: string;\r\n}\r\n\r\nexport const CarouselControls: FC<CarouselControlsProps> = ({\r\n  items,\r\n  activeIndex,\r\n  setActiveIndex,\r\n  onLastItem,\r\n  nextItemButtonTitle,\r\n  lastItemButtonTitle,\r\n}) => {\r\n  return (\r\n    <div className={styles.carouselControls}>\r\n      <div className={styles.carouselDots}>\r\n        {items.length > 1 &&\r\n        items.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className={classNames(styles.carouselDot, {\r\n              [styles.activeDot]: activeIndex === index,\r\n            })}\r\n            onClick={() => setActiveIndex(index)}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className={styles.carouselButtons}>\r\n        <Button\r\n          title={activeIndex === items.length - 1 ? lastItemButtonTitle : nextItemButtonTitle}\r\n          type={ButtonTypes.Main}\r\n          onClick={onLastItem}\r\n          additionalClasses={styles.carouselButton}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport {useResourceStore} from '../mission/Resource.store';\r\nimport styles from './ImageResource.module.scss';\r\n\r\ninterface ImageResourceProps {\r\n  readonly url: string;\r\n  readonly additionalClasses?: string;\r\n}\r\n\r\nexport const ImageResource: FC<ImageResourceProps> = ({url, additionalClasses}) => {\r\n  const {isFetching, resourceUrl} = useResourceStore(url);\r\n\r\n  if (isFetching || !resourceUrl) {\r\n    return <div className={classNames(styles.placeholder, additionalClasses)}/>;\r\n  }\r\n\r\n  return (\r\n    <img src={resourceUrl} className={classNames(styles.image, additionalClasses)} alt=\"\"/>\r\n  );\r\n};\r\n","import {useState} from 'react';\r\nimport {useQuery} from 'react-query';\r\nimport {getImageRequest} from '../../api/Resources.api';\r\n\r\n\r\ninterface ResourceStore {\r\n  readonly isFetching: boolean;\r\n  readonly resourceUrl: string | null;\r\n}\r\n\r\nexport const useResourceStore = (url: string): ResourceStore => {\r\n  const [resourceUrl, setResourceUrl] = useState<string | null>(null);\r\n  const {isFetching} = useQuery(\r\n    ['resourceUrl', url],\r\n    () => getImageRequest(url),\r\n    {\r\n      refetchOnWindowFocus: false,\r\n      enabled: !!url,\r\n      onSuccess: (data) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(data);\r\n\r\n        reader.onload = function() {\r\n          if (reader.result && typeof reader.result === 'string') {\r\n            setResourceUrl(reader.result);\r\n          }\r\n        };\r\n      },\r\n    }\r\n  );\r\n\r\n  return {\r\n    isFetching,\r\n    resourceUrl,\r\n  };\r\n};\r\n","import React, {FC, useState} from 'react';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {CarouselControls} from '../../common/CarouselControls.component';\r\nimport {ImageResource} from './ImageResource.component';\r\nimport {StoryPage} from '../../api/story.types';\r\nimport styles from './SroryScreen.module.scss';\r\n\r\ninterface StoryScreenProps {\r\n  readonly pages: Array<StoryPage>;\r\n  readonly isFetching: boolean;\r\n  readonly onStart: () => void;\r\n  readonly onClose?: () => void;\r\n}\r\n\r\nexport const StoryScreen: FC<StoryScreenProps> = ({\r\n  pages,\r\n  isFetching,\r\n  onStart,\r\n  onClose,\r\n                                                  }) => {\r\n  const [active, setActive] = useState(0);\r\n\r\n  const handleNext = () => {\r\n    if (active < pages.length - 1) {\r\n      setActive(prev => prev + 1);\r\n    } else {\r\n      onStart && onStart();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Screen withoutHeader footerWithGradient isFetching={isFetching}>\r\n      <Screen.Content>\r\n        <Title title=\"Hello, Agent!\" onClose={onClose}/>\r\n        {\r\n          pages.map((page, index) => (\r\n            <StoryPageItem key={index} page={page} hidden={index !== active}/>\r\n          ))\r\n        }\r\n      </Screen.Content>\r\n      <Screen.Footer centered>\r\n        <CarouselControls\r\n          items={pages}\r\n          activeIndex={active}\r\n          setActiveIndex={setActive}\r\n          onLastItem={handleNext}\r\n          nextItemButtonTitle=\"Next\"\r\n          lastItemButtonTitle=\"Start\"\r\n        />\r\n      </Screen.Footer>\r\n    </Screen>\r\n  );\r\n};\r\n\r\ninterface StoryPageItemProps {\r\n  readonly page: StoryPage;\r\n  readonly hidden: boolean;\r\n}\r\n\r\nconst StoryPageItem: FC<StoryPageItemProps> = ({page, hidden}) => {\r\n  if (hidden) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {page.resource && <ImageResource url={page.resource}/>}\r\n      <div className={styles.pageText}>\r\n        {page.text}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {StoryType, useStoryStore} from '../common/Story.store';\r\nimport {StoryScreen} from '../common/StoryScreen.component';\r\nimport {Routes} from '../../app/routes';\r\n\r\nexport const MainStory: FC = () => {\r\n  const history = useHistory();\r\n  const {mainStory, markMainDailyStoryViewed, isStoryStoreFetching} = useStoryStore(StoryType.Main);\r\n\r\n  const handleStart = () => {\r\n    markMainDailyStoryViewed();\r\n  };\r\n\r\n  return (\r\n    <StoryScreen\r\n      pages={!mainStory ? [] : mainStory.pages}\r\n      isFetching={isStoryStoreFetching}\r\n      onStart={handleStart}\r\n      onClose={() => history.push(Routes.Home)}\r\n    />\r\n  );\r\n};\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChecked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zM8 15l-5-5 1.41-1.41L8 12.17l7.59-7.59L17 6l-9 9z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChecked);\nexport default __webpack_public_path__ + \"static/media/checked.fa85e1ea.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUnchecked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUnchecked);\nexport default __webpack_public_path__ + \"static/media/unchecked.a4b66e34.svg\";\nexport { ForwardRef as ReactComponent };","import React, {FC, ReactNode, useState} from 'react';\r\nimport classNames from 'classnames';\r\nimport {ReactComponent as ArrowIcon} from '../images/gt.svg';\r\nimport {ReactComponent as CheckedIcon} from '../images/checked.svg';\r\nimport {ReactComponent as UnCheckedIcon} from '../images/unchecked.svg';\r\nimport styles from './Accordion.module.scss';\r\n\r\ninterface AccordionCompositionProps {\r\n  Panel: typeof AccordionPanel;\r\n}\r\n\r\ninterface AccordionProps {\r\n}\r\n\r\nexport const Accordion: FC<AccordionProps> & AccordionCompositionProps = ({\r\n  children,\r\n}) => {\r\n  return (\r\n    <div className={styles.accordion}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport enum AccordionPanelTypes {\r\n  Default,\r\n  Mission,\r\n}\r\n\r\ninterface AccordionPanelProps {\r\n  readonly title: string;\r\n  readonly isExpandedByDefault?: boolean;\r\n  readonly icon?: ReactNode;\r\n  readonly status?: string;\r\n  readonly checked?: boolean;\r\n  readonly type?: AccordionPanelTypes;\r\n}\r\n\r\nexport const AccordionPanel: FC<AccordionPanelProps> = ({\r\n  title,\r\n  isExpandedByDefault = false,\r\n  icon: Icon,\r\n  status,\r\n  checked,\r\n  type = AccordionPanelTypes.Default,\r\n  children,\r\n}) => {\r\n  const [isCollapsed, setIsCollapsed] = useState(!isExpandedByDefault);\r\n  const togglePanel = () => setIsCollapsed(prev => !prev);\r\n\r\n  return (\r\n    <div className={classNames(styles.accordionPanel, {\r\n      [styles.mission]: type === AccordionPanelTypes.Mission,\r\n      [styles.collapsed]: isCollapsed,\r\n    })}\r\n    >\r\n      <div className={styles.header} onClick={togglePanel}>\r\n        <div className={styles.headerLeft}>\r\n          {Icon ? (\r\n            <span className={styles.icon}>{Icon}</span>\r\n          ) : (\r\n            checked\r\n              ? (<CheckedIcon className={styles.checkedIcon}/>)\r\n              : (<UnCheckedIcon className={classNames(styles.uncheckedIcon, {\r\n                [styles.collapsedUncheckedIcon]: isCollapsed,\r\n              })}/>)\r\n          )}\r\n          <span className={styles.title}>{title}</span>\r\n        </div>\r\n        <div className={styles.headerRight}>\r\n          {status && (\r\n            <span className={styles.status}>{status}</span>\r\n          )}\r\n          <ArrowIcon className={classNames(styles.arrowIcon, {\r\n            [styles.collapsedArrowIcon]: isCollapsed,\r\n          })}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={classNames(styles.content, {\r\n        [styles.hidden]: isCollapsed,\r\n      })}\r\n      >{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nAccordion.Panel = AccordionPanel;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLockFilled(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 21\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14 7h-1V5c0-2.76-2.24-5-5-5S3 2.24 3 5v2H2C.9 7 0 7.9 0 9v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H4.9V5c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLockFilled);\nexport default __webpack_public_path__ + \"static/media/lock_filled.4cc91915.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgContact(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 88 88\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 88,\n    height: 88,\n    rx: 44,\n    fill: \"#FFDE89\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M42.166 47.666h-3.667c0-9.111 7.389-16.5 16.5-16.5v3.667c-7.095 0-12.833 5.739-12.833 12.834zm12.833-5.5V38.5c-5.06 0-9.166 4.106-9.166 9.166h3.666c0-3.043 2.457-5.5 5.5-5.5zM34.833 29.334a3.654 3.654 0 00-3.667-3.666 3.654 3.654 0 00-3.667 3.666A3.654 3.654 0 0031.166 33a3.654 3.654 0 003.667-3.667zm8.158.917h-3.667a5.481 5.481 0 01-5.408 4.583h-5.5a2.746 2.746 0 00-2.75 2.75v4.584h11v-4.144c3.41-1.082 5.958-4.088 6.325-7.773zm13.842 22.916a3.654 3.654 0 003.666-3.666 3.654 3.654 0 00-3.666-3.667 3.654 3.654 0 00-3.667 3.667 3.654 3.654 0 003.667 3.666zM59.583 55h-5.5a5.48 5.48 0 01-5.409-4.584h-3.666c.366 3.686 2.915 6.692 6.325 7.774v4.143h11V57.75a2.746 2.746 0 00-2.75-2.75z\",\n    fill: \"#1D2360\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgContact);\nexport default __webpack_public_path__ + \"static/media/contact.839d8302.svg\";\nexport { ForwardRef as ReactComponent };","import React, {ChangeEvent, FC, FormEvent, useEffect, useRef, useState} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {TextInput} from '../../common/TextInput.component';\r\nimport {Message, MessageType} from '../../common/Message.component';\r\nimport {Routes} from '../../app/routes';\r\nimport {ProfileError, ProfileErrorKey, useProfileStore} from '../onboarding/Profile.store';\r\nimport {AvatarIcon, AvatarIconTypes} from '../../common/AvatarIcon.component';\r\nimport {Button, ButtonTypes} from '../../common/Button.component';\r\nimport {Accordion} from '../../common/Accordion.component';\r\nimport {ReactComponent as LockIcon} from '../../images/lock_filled.svg';\r\nimport styles from './Profile.module.scss';\r\n\r\nexport const Profile: FC = () => {\r\n  const history = useHistory();\r\n  const ref = useRef<HTMLInputElement>(null);\r\n  const {nickname, changeNickname, email, avatar, changePassword, error, passwordWasChanged, isProfileStoreFetching} = useProfileStore();\r\n  const [currentNickname, setCurrentNickname] = useState(nickname);\r\n  const [oldPassword, setOldPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n\r\n  useEffect(() => {\r\n    setCurrentNickname(nickname);\r\n  }, [nickname]);\r\n\r\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    setCurrentNickname(event.target.value);\r\n  };\r\n\r\n  const handleChangeNickname = () => {\r\n    if (nickname !== currentNickname) {\r\n      changeNickname(currentNickname);\r\n    }\r\n  };\r\n\r\n  const submitChangeNickname = (event: FormEvent) => {\r\n    event.preventDefault();\r\n    handleChangeNickname();\r\n    if (ref && ref.current) {\r\n      ref.current.blur();\r\n    }\r\n  };\r\n\r\n  const submitPasswordChange = (event: FormEvent) => {\r\n    event.preventDefault();\r\n    handleChangePassword();\r\n  };\r\n\r\n  const handleChangePassword = () => {\r\n    changePassword(oldPassword, newPassword, () => {\r\n      setOldPassword('');\r\n      setNewPassword('');\r\n    });\r\n  };\r\n\r\n  const isValid = (error: ProfileError | null, key: ProfileErrorKey): boolean => {\r\n    return !error || error.field !== key;\r\n  };\r\n\r\n  return (\r\n    <Screen isFetching={isProfileStoreFetching}>\r\n      <Screen.Header backTo={Routes.Home}>\r\n        <Title title=\"Profile\"/>\r\n      </Screen.Header>\r\n      <Screen.Content>\r\n        {!!error && error.field === 'nickname' && (\r\n          <Message type={MessageType.error}>{error.message}</Message>\r\n        )}\r\n        {passwordWasChanged && (\r\n          <Message type={MessageType.warning}>Password was changed successfully!</Message>\r\n        )}\r\n        <div className={styles.profileAvatarContainer}>\r\n          <AvatarIcon\r\n            type={AvatarIconTypes.Round}\r\n            image={avatar}\r\n            additionalClasses={styles.profileAvatar}\r\n          />\r\n          <Button\r\n            title=\"Change Avatar\"\r\n            onClick={() => history.push(Routes.ProfileChangeAvatar)}\r\n            type={ButtonTypes.Dark}\r\n          />\r\n        </div>\r\n        <TextInput\r\n          value={email}\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          disabled\r\n          additionalClasses=\"verticalSpace\"\r\n        />\r\n        <form onSubmit={submitChangeNickname}>\r\n          <TextInput\r\n            value={currentNickname}\r\n            onChange={handleChange}\r\n            onBlur={handleChangeNickname}\r\n            inputRef={ref}\r\n            label=\"Username\"\r\n            name=\"nickname\"\r\n            isValid={isValid(error, 'nickname')}\r\n            additionalClasses=\"verticalSpace\"\r\n          />\r\n        </form>\r\n        <Accordion>\r\n          <Accordion.Panel title=\"Change password\" icon={<LockIcon className={styles.passwordIcon}/>} key={0}>\r\n            {!!error && (error.field === 'oldPassword' || error.field === 'newPassword') && (\r\n              <Message type={MessageType.error}>{error.message}</Message>\r\n            )}\r\n            <form onSubmit={submitPasswordChange}>\r\n              <TextInput\r\n                value={oldPassword}\r\n                onChange={(event) => setOldPassword(event.target.value)}\r\n                type=\"password\"\r\n                label=\"Old Password\"\r\n                name=\"oldPassword\"\r\n                isValid={isValid(error, 'oldPassword')}\r\n                additionalClasses=\"verticalSpace\"\r\n              />\r\n              <TextInput\r\n                value={newPassword}\r\n                onChange={(event) => setNewPassword(event.target.value)}\r\n                type=\"password\"\r\n                label=\"New Password\"\r\n                name=\"newPassword\"\r\n                isValid={isValid(error, 'newPassword')}\r\n                additionalClasses=\"verticalSpace\"\r\n              />\r\n              <div className={styles.changeButton}>\r\n                <Button\r\n                  title=\"Change\"\r\n                  onClick={handleChangePassword}\r\n                  type={ButtonTypes.Main}\r\n                />\r\n              </div>\r\n            </form>\r\n          </Accordion.Panel>\r\n        </Accordion>\r\n      </Screen.Content>\r\n    </Screen>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {Routes} from '../../app/routes';\r\nimport {AvatarSelector} from '../onboarding/AvatarSelector.component';\r\nimport {useAvatarListStore} from '../onboarding/AvatarListStore';\r\n\r\nexport const ChangeAvatar: FC = () => {\r\n  const {isAvatarListStoreFetching} = useAvatarListStore();\r\n  return (\r\n    <Screen isFetching={isAvatarListStoreFetching}>\r\n      <Screen.Header backTo={Routes.Profile}>\r\n        <Title title=\"Change Avatar\"/>\r\n      </Screen.Header>\r\n      <Screen.Content>\r\n        <AvatarSelector/>\r\n      </Screen.Content>\r\n    </Screen>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './Progress.module.scss';\r\n\r\ninterface ProgressProps {\r\n  readonly progress: number;\r\n  readonly additionalClasses?: string;\r\n}\r\n\r\nexport const Progress: FC<ProgressProps> = ({progress, additionalClasses}) => {\r\n  return (\r\n    <div className={classNames(styles.progressContainer, additionalClasses)}>\r\n      <div style={{'width': `${(alignedProgress(progress))}%`}} className={styles.progress}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst alignedProgress = (progress: number): number => {\r\n  if (progress < 0) {\r\n    return 0;\r\n  }\r\n\r\n  if (100 < progress) {\r\n    return 100;\r\n  }\r\n\r\n  return progress;\r\n};\r\n","import React, {FC, useEffect, useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Routes} from '../../app/routes';\nimport {Screen} from '../../common/Screen.component';\nimport {Title} from '../../common/Title.component';\nimport {Progress} from '../../common/Progress.component';\nimport {Team} from '../common/Team.component';\nimport {useTeamStore} from '../common/Team.store';\n\nexport const TeamProfile: FC = () => {\n  const history = useHistory();\n  const {teamName, changeTeamName, validateTeamName, teamPlayers, isCurrentUserCaptain, error, progress, isTeamStoreFetching} = useTeamStore();\n  const [currentTeamName, setCurrentTeamName] = useState('');\n\n  useEffect(() => {\n    setCurrentTeamName(teamName);\n  }, [teamName]);\n\n  const handleBack = () => {\n    validateTeamName(currentTeamName)\n      .then(() => {\n        history.push(Routes.Home);\n      })\n      .catch(() => {});\n  };\n\n  return (\n    <Screen isFetching={isTeamStoreFetching}>\n      <Screen.Header onBack={handleBack}>\n        <Title title=\"Team\"/>\n      </Screen.Header>\n      <Screen.Content>\n        <Progress progress={progress} additionalClasses=\"verticalSpace\"/>\n        <Team\n          currentTeamName={currentTeamName}\n          changeTeamName={changeTeamName}\n          setCurrentTeamName={setCurrentTeamName}\n          teamPlayers={teamPlayers}\n          isCurrentUserCaptain={isCurrentUserCaptain}\n          error={error}\n        />\n      </Screen.Content>\n    </Screen>\n  );\n};\n","import React, {FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport classNames from 'classnames';\nimport {Routes} from '../../app/routes';\nimport {InventoryItem} from '../../api/game.types';\nimport {ReactComponent as CheckedIcon} from '../../images/checked.svg';\nimport {ImageResource} from './ImageResource.component';\nimport styles from './Inventory.module.scss';\n\nexport enum InventorySize {\n  Small,\n  Large,\n}\n\ninterface InventoryProps {\n  readonly inventory: InventoryItem;\n  readonly size: InventorySize;\n}\n\nexport const Inventory: FC<InventoryProps> = ({inventory, size}) => {\n  const history = useHistory();\n\n  return (\n    <div\n      className={classNames(\n        styles.inventory,\n        {\n          [styles.used]: inventory.isUsed,\n          [styles.small]: size === InventorySize.Small,\n          [styles.large]: size === InventorySize.Large,\n        }\n      )}\n      onClick={() => history.push({\n        pathname: Routes.InventoryDetails,\n        state: {inventory},\n      })}\n    >\n      <ImageResource\n        url={inventory.resource}\n        additionalClasses={classNames(\n          styles.inventoryImage,\n          {\n            [styles.inventoryImageUsed]: inventory.isUsed,\n            [styles.smallImage]: size === InventorySize.Small,\n            [styles.largeImage]: size === InventorySize.Large,\n          }\n        )}\n      />\n      {inventory.isUsed && <CheckedIcon className={styles.checkedIcon}/>}\n    </div>\n  );\n};\n","import React, {FC} from 'react';\r\nimport {Routes} from '../../app/routes';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {Panel} from '../../common/Panel.components';\r\nimport {Button, ButtonTypes} from '../../common/Button.component';\r\nimport {ReactComponent as ContactIcon} from '../../images/contact.svg';\r\nimport {useGameStore} from '../Game.store';\r\nimport styles from './Contact.module.scss';\r\n\r\nexport const Contact: FC = () => {\r\n  const {gameState, isGameStoreFetching} = useGameStore();\r\n\r\n  return (\r\n    <Screen footerWithActions isFetching={isGameStoreFetching}>\r\n      <Screen.Header backTo={Routes.Home}>\r\n        <Title title=\"Contact\"/>\r\n      </Screen.Header>\r\n      <Screen.Content>\r\n        <Panel\r\n          icon={<ContactIcon/>}\r\n          mainText=\"Need help?\"\r\n          additionalText=\"Sherlock got his Watson, you have us - Help Force One! Here to serve you. Need a live hint or somethings gone rogue contact our live top agents @HelpForce1. ps. use contact HQ only when instructed.\"\r\n        />\r\n      </Screen.Content>\r\n      <Screen.Footer additionalClasses={styles.contactFooter}>\r\n        <Button\r\n          title=\"Live HelpForce1\"\r\n          type={ButtonTypes.Secondary}\r\n          additionalClasses={styles.contactButton}\r\n          onClick={() => {\r\n            window.open(gameState.linkToHelp);\r\n          }}\r\n        />\r\n        <Button\r\n          title=\"Contact HQ\"\r\n          type={ButtonTypes.Main}\r\n          onClick={() => {\r\n            window.open(gameState.linkToBot);\r\n          }}\r\n        />\r\n      </Screen.Footer>\r\n    </Screen>\r\n  );\r\n};\r\n","import {useState} from 'react';\nimport {useQuery} from 'react-query';\nimport {\n  logTaskSpentTimeRequest,\n  logTotalSpentTimeRequest,\n  TRACKING_TIME_AMOUNT_SECONDS\n} from '../../api/TimeTracking.api';\n\nexport enum TrackingType {\n  TotalTime,\n  TaskTime,\n}\n\ninterface TimeTrackingStore {\n  readonly isTrackingEnabled: boolean;\n  readonly setIsTrackingEnabled: (isEnabled: boolean) => void;\n}\n\nexport const useTimeTrackingStore = (type: TrackingType, taskId?: number): TimeTrackingStore => {\n  const [isTrackingEnabled, setIsTrackingEnabled] = useState(false);\n  useQuery('total-time', logTotalSpentTimeRequest, {\n    refetchInterval: TRACKING_TIME_AMOUNT_SECONDS * 1000,\n    refetchOnMount: false,\n    staleTime: Infinity,\n    enabled: false, //type === TrackingType.TotalTime && isTrackingEnabled,\n  });\n  useQuery(['task-time', taskId], () => logTaskSpentTimeRequest(taskId), {\n    refetchInterval: TRACKING_TIME_AMOUNT_SECONDS * 1000,\n    refetchOnMount: false,\n    staleTime: Infinity,\n    enabled: false,//type === TrackingType.TaskTime && isTrackingEnabled,\n  });\n\n  return {\n    isTrackingEnabled,\n    setIsTrackingEnabled,\n  };\n};\n","import React, {FC} from 'react';\nimport {InventoryItem} from '../../api/game.types';\nimport {Inventory, InventorySize} from '../common/Inventory.component';\nimport styles from './InventoryList.module.scss';\n\nconst MAX_PLACEHOLDERS = 4;\n\ninterface InventoryListProps {\n  readonly inventoryItems: Array<InventoryItem>;\n}\n\nexport const InventoryList: FC<InventoryListProps> = ({inventoryItems}) => {\n  const placeholders = [];\n  for (let i = 0; i < MAX_PLACEHOLDERS - inventoryItems.length; i++) {\n    placeholders.push(<div key={i} className={styles.inventoryPlaceholder}/>);\n  }\n\n  if (inventoryItems.length === 0) {\n    return (\n      <div className={styles.inventoryList}>\n        <div className={styles.noInventoryMessage}>\n          You dont have any inventory yet\n        </div>\n        <div className={styles.inventoryItems}>\n          {placeholders}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.inventoryList}>\n      <div className={styles.inventoryWrapper}>\n        <div className={styles.inventoryItems}>\n          {\n            inventoryItems.map((inventory, index) => (\n              <div key={index} className={styles.inventoryItem}>\n                <Inventory inventory={inventory} size={InventorySize.Large}/>\n              </div>\n            ))\n          }\n          {\n            placeholders.length > 0 && (\n              <>\n                {placeholders}\n              </>\n            )\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, {FC} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {Progress} from '../../common/Progress.component';\r\nimport {useTeamStore} from '../common/Team.store';\r\nimport {ReactComponent as GtIcon} from '../../images/gt.svg';\r\nimport styles from './GameInfo.module.scss';\r\n\r\nexport const GameInfo: FC = () => {\r\n  const history = useHistory();\r\n  const {teamName, teamPlayers, progress} = useTeamStore();\r\n\r\n  return (\r\n    <div className={styles.gameInfo}>\r\n      <div className={styles.teamInfo}>\r\n        <div className={styles.teamName}>Team: {teamName}</div>\r\n        <div className={styles.teamMembers} onClick={() => history.push(Routes.ProfileTeam)}>\r\n          {teamPlayers.length} members\r\n          <GtIcon className={styles.gtIcon}/>\r\n        </div>\r\n      </div>\r\n      <div className={styles.gameProgress}>\r\n        <Progress progress={progress}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import axios from 'axios';\r\nimport {AnswerResponse, AnswerTaskModel, GetHintModel, Hint, SkipTaskModel, UnlockDayModel} from './mission.types';\r\n\r\nexport const unlockDayRequest = ({dayNumber, answer}: UnlockDayModel) => {\r\n  return axios.patch<{correct: boolean}>(`/self/day/${dayNumber}`, {\r\n    key: 'passcode',\r\n    value_str: answer,\r\n  })\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n\r\nconst answerResponseMapper = (data: any): AnswerResponse => ({\r\n  correct: data['correct'],\r\n  inventoryItems: data['new_inventory_items'],\r\n});\r\n\r\nexport const answerTaskRequest = ({dayNumber, taskId, answer}: AnswerTaskModel) => {\r\n  return axios.patch(`/self/days/${dayNumber}/tasks/${taskId}`, {\r\n    key: 'answer',\r\n    value_str: answer,\r\n  })\r\n    .then(({data}) => answerResponseMapper(data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n\r\nexport const skipTaskRequest = ({dayNumber, taskId}: SkipTaskModel) => {\r\n  return axios.patch<{skipped: boolean}>(`/self/days/${dayNumber}/tasks/${taskId}`, {\r\n    key: 'skipped',\r\n    value_bool: true,\r\n  })\r\n    .then(({data}) => data)\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n\r\nexport const teamTaskCompletionViewedRequest = (dayNumber: number) => {\r\n  return axios.patch(`/self/day/${dayNumber}`, {\r\n    key: 'team_task_completion_viewed',\r\n    value_bool: true,\r\n  })\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n};\r\n\r\nexport const getHintRequest = ({dayNumber, taskId, hintNumber}: GetHintModel) =>\r\n  axios.get<Hint>(`/self/days/${dayNumber}/tasks/${taskId}/hints/${hintNumber}`)\r\n    .then(({data}) => (data))\r\n    .catch(error => {\r\n      throw error.response.data;\r\n    });\r\n","import {useEffect, useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {useMutation, useQueryClient} from 'react-query';\nimport {\n  answerTaskRequest,\n  getHintRequest,\n  skipTaskRequest,\n  teamTaskCompletionViewedRequest,\n  unlockDayRequest\n} from '../../api/Mission.api';\nimport {TaskInfo} from '../../api/game.types';\nimport {Routes} from '../../app/routes';\nimport {useGameStore} from '../Game.store';\n\nconst ANSWER_RESULT_DELAY = 3000;\nconst MAX_NUMBER_OF_SKIPPED_TASKS = 1;\n\nconst CORRECT_ANSWERS = [\n  'Correct',\n  'Super Correct!',\n  'Well done!',\n  'You are right',\n  'Awesome! Fine job you did!',\n];\n\nconst WRONG_ANSWERS = [\n  'Incorrect',\n  'Think more time',\n  'Not right',\n  'Wrong answer',\n  'Absolutely wrong',\n];\n\nconst getRandomMessage = (messages: Array<string>): string => {\n  const randomIndex = Math.floor(Math.random() * messages.length);\n  return messages[randomIndex];\n};\n\ninterface MissionStore {\n  readonly isMissionStoreFetching: boolean;\n  readonly answer: string;\n  readonly setAnswer: (answer: string) => void;\n  readonly unlockDay: (dayNumber: number, answer: string) => void;\n  readonly unlockResult: AnswerResult | null;\n  readonly answerTask: (dayNumber: number, task: TaskInfo, answer: string) => void;\n  readonly answerTaskResult: AnswerResult | null;\n  readonly currentTask: TaskInfo | null;\n  readonly isNextPrivateTaskAvailable: boolean;\n  readonly switchToNextTask: () => void;\n  readonly isPrevPrivateTaskAvailable: boolean;\n  readonly switchToPrevTask: () => void;\n  readonly markTeamTaskCompletionViewed: () => void;\n  readonly fetchHint: (dayNumber: number, taskId: number, hintNumber: number) => void;\n}\n\nexport interface AnswerResult {\n  readonly isCorrect: boolean;\n  readonly message: string;\n}\n\nexport const useMissionStore = (): MissionStore => {\n  const queryClient = useQueryClient();\n  const [answer, setAnswer] = useState('');\n  const history = useHistory();\n  const {currentDay, isGameStoreFetching} = useGameStore();\n  const [unsolvedPrivateTasks, setUnsolvedPrivateTasks] = useState<Array<TaskInfo>>([]);\n  const [teamTask, setTeamTask] = useState<TaskInfo | null>(null);\n  const [currentTaskIndex, setCurrentTaskIndex] = useState(0);\n  const [unlockResult, setUnlockResult] = useState<AnswerResult | null>(null);\n  const [answerTaskResult, setAnswerTaskResult] = useState<AnswerResult | null>(null);\n\n  const unlockDayMutation = useMutation(unlockDayRequest);\n  const answerTaskMutation = useMutation(answerTaskRequest);\n  const skipTaskMutation = useMutation(skipTaskRequest);\n  const markTeamTaskCompletionViewedMutation = useMutation(teamTaskCompletionViewedRequest, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('game');\n    },\n  });\n  const fetchHintMutation = useMutation(getHintRequest, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('game');\n    },\n  });\n\n  const skippedTasksCount = unsolvedPrivateTasks.filter(({isSkipped}) => isSkipped).length;\n  const solvedPrivateTasksCount = currentDay.tasks.filter(({isSolved, isTeamTask}) => isSolved && !isTeamTask).length;\n\n  const isMaximumSkippedTasksLimitExceeded = MAX_NUMBER_OF_SKIPPED_TASKS <= skippedTasksCount;\n  const areTherePrivateTasksToSolve = 0 !== currentDay.totalTasks - solvedPrivateTasksCount - unsolvedPrivateTasks.length - 1; // 1 is for team-task\n\n  const isAllowToSkipTask = !isMaximumSkippedTasksLimitExceeded && areTherePrivateTasksToSolve;\n  const isThereNextAvailablePrivateTask = currentTaskIndex < unsolvedPrivateTasks.length - 1;\n\n  useEffect(() => {\n    setUnsolvedPrivateTasks(\n      currentDay.tasks\n        .filter(({isSolved, isTeamTask}) => !isSolved && !isTeamTask)\n    );\n    const unsolvedTeamTasks = currentDay.tasks\n      .filter(({isSolved, isTeamTask}) => !isSolved && isTeamTask);\n    if (unsolvedTeamTasks.length > 0) {\n      setTeamTask(unsolvedTeamTasks[0]);\n    }\n  }, [currentDay]);\n\n  const tryUnlockDay = (dayNumber: number, answer: string): void => {\n    if (unlockDayMutation.isLoading) {\n      return;\n    }\n\n    unlockDayMutation.mutateAsync({dayNumber, answer})\n      .then(({data}) => data)\n      .then(({correct: isCorrect}) => {\n        setUnlockResult({\n          isCorrect,\n          message: isCorrect ? getRandomMessage(CORRECT_ANSWERS) : getRandomMessage(WRONG_ANSWERS),\n        });\n        return isCorrect;\n      })\n      .then(isCorrect => {\n        setTimeout(() => {\n          if (isCorrect) {\n            queryClient.invalidateQueries('game');\n            history.push(Routes.Mission);\n          } else {\n            setUnlockResult(null);\n          }\n        }, ANSWER_RESULT_DELAY);\n      });\n  };\n\n  const invalidateQueriesAfterAnswer = () => {\n    queryClient.invalidateQueries('game');\n    queryClient.invalidateQueries('team');\n  };\n\n  const tryAnswerTask = (dayNumber: number, task: TaskInfo, answer: string): void => {\n    if (answer.trim().length === 0 || answerTaskMutation.isLoading) {\n      return;\n    }\n\n    answerTaskMutation.mutateAsync({dayNumber, taskId: task.id, answer})\n      .then((answerResult) => {\n        setAnswerTaskResult({\n          isCorrect: answerResult.correct,\n          message: answerResult.correct ? getRandomMessage(CORRECT_ANSWERS) : getRandomMessage(WRONG_ANSWERS),\n        });\n        if (!answerResult.correct) {\n          invalidateQueriesAfterAnswer();\n        }\n        return answerResult;\n      })\n      .then(answerResult => {\n        setTimeout(() => {\n          if (answerResult.correct) {\n            invalidateQueriesAfterAnswer();\n            if (answerResult.inventoryItems.length > 0) {\n              history.push({\n                pathname: Routes.ReceivedInventories,\n                state: {\n                  inventories: answerResult.inventoryItems,\n                },\n              });\n              return;\n            }\n            setCurrentTaskIndex(0);\n            if (task.isTeamTask) {\n              history.push(Routes.Home);\n            }\n          }\n          setAnswerTaskResult(null);\n          setAnswer('');\n        }, ANSWER_RESULT_DELAY);\n      });\n  };\n\n  const switchToNextTask = (): void => {\n    if (!isMaximumSkippedTasksLimitExceeded) {\n      skipTaskMutation.mutateAsync({dayNumber: currentDay.dayNumber, taskId: unsolvedPrivateTasks[currentTaskIndex].id})\n        .then(({skipped}) => {\n          if (skipped) {\n            queryClient.invalidateQueries('game');\n            setCurrentTaskIndex(prev => prev + 1);\n          }\n        });\n    } else {\n      setCurrentTaskIndex(prev => prev + 1);\n    }\n    setAnswer('');\n    setAnswerTaskResult(null);\n  };\n\n  const switchToPrevTask = (): void => {\n    setCurrentTaskIndex(prev => prev - 1);\n    setAnswer('');\n    setAnswerTaskResult(null);\n  };\n\n  const markTeamTaskCompletionViewed = (): void => {\n    markTeamTaskCompletionViewedMutation.mutateAsync(currentDay.dayNumber)\n      .then(() => {\n        history.push(Routes.Home);\n      });\n  };\n\n  const tryFetchHint = (dayNumber: number, taskId: number, hintNumber: number): void => {\n    if (fetchHintMutation.isLoading) {\n      return;\n    }\n\n    fetchHintMutation.mutate({dayNumber, taskId, hintNumber});\n  };\n\n  return {\n    isMissionStoreFetching: isGameStoreFetching || unlockDayMutation.isLoading || answerTaskMutation.isLoading\n      || skipTaskMutation.isLoading || markTeamTaskCompletionViewedMutation.isLoading || fetchHintMutation.isLoading,\n    answer,\n    setAnswer,\n    unlockDay: tryUnlockDay,\n    unlockResult,\n    answerTask: tryAnswerTask,\n    answerTaskResult,\n    currentTask: unsolvedPrivateTasks[currentTaskIndex] || teamTask,\n    isNextPrivateTaskAvailable: isAllowToSkipTask || isThereNextAvailablePrivateTask,\n    switchToNextTask,\n    isPrevPrivateTaskAvailable: unsolvedPrivateTasks.length > 1 && currentTaskIndex !== 0,\n    switchToPrevTask,\n    markTeamTaskCompletionViewed,\n    fetchHint: tryFetchHint,\n  };\n};\n","import React, {ChangeEvent, FC, FormEvent, useRef} from 'react';\nimport classNames from 'classnames';\nimport {ReactComponent as CheckedIcon} from '../images/checked.svg';\nimport {Message, MessageType} from './Message.component';\nimport {AnswerResult} from '../pages/home/Mission.store';\nimport {TextInput} from './TextInput.component';\nimport styles from './Answer.module.scss';\n\ninterface AnswerProps {\n  readonly answer: string;\n  readonly onChange: (event: ChangeEvent<HTMLInputElement>) => void;\n  readonly placeholder?: string;\n  readonly onSubmit: () => void;\n  readonly answerResult: AnswerResult | null;\n}\n\nexport const Answer: FC<AnswerProps> = ({\n  answer,\n  onChange,\n  onSubmit,\n  placeholder,\n  answerResult,\n}) => {\n  const ref = useRef<HTMLInputElement>(null);\n\n  const handleSubmit = (event: FormEvent) => {\n    event.preventDefault();\n    onSubmit && onSubmit();\n    if (ref && ref.current) {\n      ref.current.blur();\n    }\n  };\n\n  return (\n    <div className={styles.answerContainer}>\n      {!!answerResult && (\n        <Message type={answerResult.isCorrect ? MessageType.warning : MessageType.error}>\n          {answerResult.message}\n        </Message>\n      )}\n      <form onSubmit={handleSubmit}>\n        <TextInput\n          value={answer}\n          onChange={onChange}\n          placeholder={placeholder}\n          inputRef={ref}\n          addonAfter={(\n            <button className={styles.answerButton} onClick={onSubmit} type=\"submit\">\n              <CheckedIcon className={classNames(styles.answerButtonIcon, {\n                [styles.correctButtonIcon]: !!answerResult && answerResult.isCorrect,\n              })}\n              />\n            </button>\n          )}\n          additionalClasses={classNames(styles.answerInput, {\n            [styles.correctAnswerInput]: !!answerResult && answerResult.isCorrect,\n          })}\n        />\n      </form>\n    </div>\n  );\n};\n","import React, {FC} from 'react';\nimport {InventoryItem} from '../../api/game.types';\nimport {Inventory, InventorySize} from '../common/Inventory.component';\nimport styles from './DailyInventoryItems.module.scss';\n\nexport interface DailyInventoryItemsProps {\n  readonly inventoryItems: Array<InventoryItem>;\n}\n\nexport const DailyInventoryItems: FC<DailyInventoryItemsProps> = ({inventoryItems}) => {\n  const availableInventoryItems = inventoryItems.filter(({isAvailable}) => isAvailable);\n\n  if (availableInventoryItems.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className={styles.inventoryItems}>\n      {\n        availableInventoryItems.map((inventory, index) => (\n          <div key={index} className={styles.inventory}>\n            <Inventory inventory={inventory} size={InventorySize.Small}/>\n            <div className={styles.inventoryInfo}>\n              <div className={styles.inventoryTitle}>Personal Item</div>\n              <div className={styles.inventoryName}>{inventory.name}</div>\n            </div>\n          </div>\n        ))\n      }\n    </div>\n  );\n};\n","import React, {ChangeEvent, FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Routes} from '../../app/routes';\nimport {DayInfo, DayStatus} from '../../api/game.types';\nimport {Answer} from '../../common/Answer.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {DailyInventoryItems} from './DailyInventoryItems.component';\nimport {useMissionStore} from './Mission.store';\nimport styles from './Day.module.scss';\n\ninterface DayProps {\n  readonly day: DayInfo;\n}\n\nexport const Day: FC<DayProps> = ({day}) => {\n  const history = useHistory();\n  const {answer, setAnswer, unlockDay, unlockResult} = useMissionStore();\n\n  if (day.status === DayStatus.Solved) {\n    return (\n      <div>\n        <DailyInventoryItems inventoryItems={day.inventoryItems}/>\n        <div className=\"centerContent\">\n          <Button\n            title=\"Continue\"\n            onClick={() => history.push({\n              pathname: Routes.MissionStory,\n              state: {dayNumber: day.dayNumber},\n            })}\n            type={ButtonTypes.Main}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  if (day.status === DayStatus.NotStarted) {\n    return (\n      <div className=\"centerContent\">\n        <Button\n          title={`Starts at ${day.startTime.format('lll')}`}\n          type={ButtonTypes.Secondary}\n        />\n      </div>\n    );\n  }\n\n  if (day.isPasscodeEntered) {\n    return (\n      <div className={styles.dayMission}>\n        <DailyInventoryItems inventoryItems={day.inventoryItems}/>\n        <div className=\"centerContent\">\n          <Button\n            title=\"Continue\"\n            type={ButtonTypes.Main}\n            onClick={() => history.push(Routes.Mission)}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Answer\n      answer={answer}\n      onChange={(event: ChangeEvent<HTMLInputElement>) => setAnswer(event.target.value)}\n      onSubmit={() => unlockDay(day.dayNumber, answer)}\n      answerResult={unlockResult}\n      placeholder=\"Type passcode...\"\n    />\n  );\n};\n","import React, {FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport {Routes} from '../../app/routes';\nimport {DayStatus} from '../../api/game.types';\nimport {Screen} from '../../common/Screen.component';\nimport {Title} from '../../common/Title.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {AvatarIcon, AvatarIconTypes} from '../../common/AvatarIcon.component';\nimport {Accordion, AccordionPanelTypes} from '../../common/Accordion.component';\nimport {InventoryList} from './InventoryList.component';\nimport {GameInfo} from './GameInfo.components';\nimport {useProfileStore} from '../onboarding/Profile.store';\nimport {useGameStore} from '../Game.store';\nimport {useMissionStore} from './Mission.store';\nimport {Day} from './Day.component';\nimport styles from './Home.module.scss';\n\nexport const Home: FC = () => {\n  const history = useHistory();\n  const {avatar, isProfileStoreFetching} = useProfileStore();\n  const {gameState, currentDay, areAllTasksSolved, allInventoryItems, isGameStoreFetching} = useGameStore();\n  const {isMissionStoreFetching} = useMissionStore();\n  const {gameName, days} = gameState;\n  const isFetching = isGameStoreFetching || isProfileStoreFetching || isMissionStoreFetching;\n\n  if (!isFetching && currentDay.status === DayStatus.Solved && !currentDay.isTeamTaskCompletionViewed) {\n    history.push(Routes.MissionCompleted);\n    return null;\n  }\n\n  if (!isFetching && areAllTasksSolved) {\n    if (!gameState.isFinalStoryViewed) {\n      history.push(Routes.FinalStory);\n      return null;\n    }\n\n    // Temporarily hide Final Page\n    // if (!gameState.isFinalPageViewed) {\n    //   history.push(Routes.FinalPage);\n    //   return null;\n    // }\n  }\n\n  return (\n    <Screen isFetching={isFetching}>\n      <Screen.Header>\n        <div className={styles.header}>\n          <Title title={gameName} additionalClasses={styles.gameName}/>\n          <div className={styles.headerActions}>\n            <Button\n              title=\"Help\"\n              onClick={() => history.push(Routes.Contact)}\n              type={ButtonTypes.Dark}\n              additionalClasses={styles.helpButton}\n            />\n            <AvatarIcon\n              type={AvatarIconTypes.Round}\n              onClick={() => history.push(Routes.Profile)}\n              image={avatar}\n            />\n          </div>\n        </div>\n      </Screen.Header>\n      <Screen.Content>\n        <InventoryList inventoryItems={allInventoryItems}/>\n        <Accordion>\n          <Accordion.Panel title=\"Check In\" key={0} checked={gameState.isBotConnected}>\n            <div className=\"centerContent\">\n              <Button\n                title=\"Continue\"\n                onClick={() => history.push(Routes.OnboardingCheckIn)}\n                type={ButtonTypes.Main}\n              />\n            </div>\n          </Accordion.Panel>\n          <Accordion.Panel title=\"Learn the story\" key={1} checked={gameState.isMainStoryViewed}>\n            <div className=\"centerContent\">\n              <Button\n                title=\"Continue\"\n                onClick={() => history.push(Routes.OnboardingMainStory)}\n                type={ButtonTypes.Main}\n              />\n            </div>\n          </Accordion.Panel>\n          {\n            days\n              .filter(day => day.status !== DayStatus.Future)\n              .map((day, index) => {\n                return (\n                  <Accordion.Panel\n                    title={`Mission ${index + 1}`}\n                    key={index}\n                    status={getTextFromStatus(day.status)}\n                    type={\n                      (day.status === DayStatus.InProgress || day.status === DayStatus.NotStarted)\n                      ? AccordionPanelTypes.Mission\n                      : AccordionPanelTypes.Default\n                    }\n                    isExpandedByDefault={day.status === DayStatus.InProgress || day.status === DayStatus.NotStarted}\n                    checked={day.status === DayStatus.Solved}\n                  >\n                    <Day day={day}/>\n                  </Accordion.Panel>\n                );\n              })\n          }\n          {areAllTasksSolved && (\n            <>\n              <Accordion.Panel title=\"Learn the final story\" checked={gameState.isFinalStoryViewed}>\n                <div className=\"centerContent\">\n                  <Button\n                    title=\"Continue\"\n                    onClick={() => history.push(Routes.FinalStory)}\n                    type={ButtonTypes.Main}\n                  />\n                </div>\n              </Accordion.Panel>\n              <Accordion.Panel\n                title=\"Final Mission\"\n                checked={false}\n                isExpandedByDefault\n                type={AccordionPanelTypes.Mission}\n              >\n                <div className=\"centerContent\">\n                  {dayjs() < gameState.finalEventStartTime\n                    ? (\n                      <Button\n                        title={`Starts at ${gameState.finalEventStartTime.format('lll')}`}\n                        type={ButtonTypes.Secondary}\n                      />\n                    )\n                    : (\n                      <Button\n                        title=\"Enter backdoor\"\n                        onClick={() => history.push(Routes.FinalEvent)}\n                        type={ButtonTypes.Main}\n                      />\n                    )}\n                </div>\n              </Accordion.Panel>\n            </>\n          )}\n        </Accordion>\n      </Screen.Content>\n      <Screen.Footer>\n        <GameInfo/>\n      </Screen.Footer>\n    </Screen>\n  );\n};\n\nconst getTextFromStatus = (dayStatus: DayStatus) => {\n  switch (dayStatus) {\n    case DayStatus.Solved:\n      return 'Completed';\n    case DayStatus.InProgress:\n      return 'In progress';\n    default:\n      return;\n  }\n};\n","import React, {FC} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {InventoryItem} from '../../api/game.types';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {ImageResource} from '../common/ImageResource.component';\r\n\r\nexport const InventoryDetails: FC = () => {\r\n  const location = useLocation<{inventory: InventoryItem}>();\r\n  const inventory = location.state.inventory;\r\n\r\n  return (\r\n    <Screen>\r\n      <Screen.Header backTo={Routes.Home}>\r\n        <Title title=\"Personal Item\"/>\r\n      </Screen.Header>\r\n      <Screen.Content>\r\n        <ImageResource url={inventory.resource} additionalClasses=\"verticalSpace\"/>\r\n        <div>{inventory.name}</div>\r\n      </Screen.Content>\r\n    </Screen>\r\n  );\r\n};\r\n","import axios from 'axios';\n\nexport const TRACKING_TIME_AMOUNT_SECONDS = 3;\n\nexport const logTotalSpentTimeRequest = () => {\n  return axios.post('/self/log-spent-time', {\n    object: 'total',\n    amount_s: TRACKING_TIME_AMOUNT_SECONDS,\n  })\n    .catch(error => {\n      throw error.response.data;\n    });\n};\n\nexport const logTaskSpentTimeRequest = (taskId?: number) => {\n  return axios.post('/self/log-spent-time', {\n    object: 'task',\n    task_id: taskId,\n    amount_s: TRACKING_TIME_AMOUNT_SECONDS,\n  })\n    .catch(error => {\n      throw error.response.data;\n    });\n};\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRoundArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 21 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.4 3.6C15.55 1.99 13.15 1 10.5 1 5.85 1 1.92 4.03.54 8.22L2.9 9a8.002 8.002 0 017.6-5.5c1.95 0 3.73.72 5.12 1.88L12 9h9V0l-3.6 3.6z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRoundArrow);\nexport default __webpack_public_path__ + \"static/media/round-arrow.d0303471.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCompleted(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 88 88\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 88,\n    height: 88,\n    rx: 44,\n    fill: \"#FFDE89\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44 25.667c-10.12 0-18.334 8.213-18.334 18.333s8.213 18.333 18.333 18.333S62.333 54.12 62.333 44s-8.214-18.333-18.334-18.333zm-3.667 27.5L31.166 44l2.585-2.585 6.582 6.563 13.915-13.915 2.585 2.604-16.5 16.5z\",\n    fill: \"#1D2360\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCompleted);\nexport default __webpack_public_path__ + \"static/media/completed.9e40811f.svg\";\nexport { ForwardRef as ReactComponent };","import React, {FC} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Routes} from '../../app/routes';\nimport {TaskType} from '../../api/game.types';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {ImageResource} from '../common/ImageResource.component';\nimport styles from './TaskResource.module.scss';\n\ninterface TaskResourceProps {\n  readonly type: TaskType;\n  readonly resources: Array<string>;\n}\n\nexport const TaskResource: FC<TaskResourceProps> = ({type, resources}) => {\n  const history = useHistory();\n\n  if (type === TaskType.Text) {\n    return null;\n  }\n\n  if (type === TaskType.Ar) {\n    return (\n      <div className={styles.urlButton}>\n        <Button\n          title=\"Go to AR\"\n          type={ButtonTypes.Main}\n          onClick={() => {\n            history.push({\n              pathname: Routes.ArTask,\n              state: {\n                resources,\n              }\n            });\n          }}\n        />\n      </div>\n    );\n  }\n\n  if (type === TaskType.Vr) {\n    return (\n      <>\n        {resources[0] && (\n          <div className={styles.imageWrapper}>\n            <ImageResource url={resources[0]}/>\n          </div>\n        )}\n        <div className={styles.urlButton}>\n          <Button\n            title=\"Go to VR\"\n            type={ButtonTypes.Main}\n            onClick={() => {\n              history.push({\n                pathname: Routes.VrTask,\n                state: {\n                  resources: resources.slice(1),\n                }\n              });\n            }}\n          />\n        </div>\n      </>\n    );\n  }\n\n  if (type === TaskType.Url) {\n    return (\n      <div className={styles.urlButton}>\n        <Button\n          title=\"Go to site\"\n          type={ButtonTypes.Main}\n          onClick={() => {\n            window.open(resources[0]);\n          }}\n        />\n      </div>\n    );\n  }\n\n  if (type === TaskType.Video) {\n    const videoId = resources[0].split('/').pop();\n    return (\n      <div className={styles.videoWrapper}>\n        <iframe\n          src={`https://player.vimeo.com/video/${videoId}?color=ef2200&byline=0`}\n          title=\"video\"\n          className={styles.videoIframe}\n          frameBorder={0}\n          allow=\"fullscreen\"\n          allowFullScreen\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.imageWrapper}>\n      <ImageResource url={resources[0]}/>\n    </div>\n  );\n};\n\n\n","import React, {FC} from 'react';\nimport {TaskInfo, TaskType} from '../../api/game.types';\nimport {Message, MessageType} from '../../common/Message.component';\nimport {TaskResource} from './TaskResource.component';\nimport styles from './Task.module.scss';\n\ninterface TaskProps {\n  readonly task: TaskInfo | null;\n}\n\nexport const Task: FC<TaskProps> = ({task: originalTask}) => {\n  // const task = originalTask;\n  const task = {\n    ...originalTask,\n    type: TaskType.Ar,\n    resources: [],\n    hints: [],\n  };\n  return (\n    <div>\n      {task && !!task.text && (\n        <div className={styles.taskText}>\n          {task.text}\n        </div>\n      )}\n      {task && <TaskResource type={task.type} resources={task.resources}/>}\n      {task && task.isTeamTask && (\n        <div className={styles.teamTaskText}>\n          1+1+1+...+1 and the job is mostly done. Now, who has one? If only you knew someone...\n        </div>\n      )}\n      {\n        task && task.hints.map((hint, index) => (\n          <Message key={index} type={MessageType.info}>\n            {hint}\n          </Message>\n        ))\n      }\n    </div>\n  );\n};\n","import React, {ChangeEvent, FC, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport classNames from 'classnames';\nimport {Routes} from '../../app/routes';\nimport {DayStatus} from '../../api/game.types';\nimport {Screen} from '../../common/Screen.component';\nimport {Title} from '../../common/Title.component';\nimport {Answer} from '../../common/Answer.component';\nimport {Button, ButtonTypes} from '../../common/Button.component';\nimport {TrackingType, useTimeTrackingStore} from '../common/TimeTracking.store';\nimport {ReactComponent as ArrowIcon} from '../../images/round-arrow.svg';\nimport {useGameStore} from '../Game.store';\nimport {Task} from './Task.component';\nimport {useMissionStore} from '../home/Mission.store';\nimport {useTeamStore} from '../common/Team.store';\nimport styles from './Mission.module.scss';\n\nexport const Mission: FC = () => {\n  const history = useHistory();\n  const {currentDay, isGameStoreFetching} = useGameStore();\n  const {isCurrentUserCaptain, isTeamStoreFetching} = useTeamStore();\n  const {\n    answer,\n    setAnswer,\n    currentTask,\n    isNextPrivateTaskAvailable,\n    isPrevPrivateTaskAvailable,\n    switchToPrevTask,\n    switchToNextTask,\n    answerTaskResult,\n    answerTask,\n    fetchHint,\n    isMissionStoreFetching,\n  } = useMissionStore();\n\n  const isFetching = isGameStoreFetching || isTeamStoreFetching || isMissionStoreFetching;\n  const isAnswerAllowed = !currentTask?.isTeamTask || isCurrentUserCaptain;\n\n  const {isTrackingEnabled, setIsTrackingEnabled} = useTimeTrackingStore(TrackingType.TaskTime, currentTask?.id);\n\n  useEffect(() => {\n    if (!isTrackingEnabled) {\n      setIsTrackingEnabled(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (!isFetching && currentDay.status === DayStatus.Solved) {\n    history.push(Routes.Home);\n    return null;\n  }\n\n  if (!isFetching && !currentDay.isDailyStoryViewed) {\n    history.push({\n      pathname: Routes.MissionStory,\n      state: {dayNumber: currentDay.dayNumber},\n    });\n    return null;\n  }\n\n  const handleAnswerTask = () => {\n    if (currentTask) {\n      answerTask(currentDay.dayNumber, currentTask, answer);\n    }\n  };\n\n  return (\n    <Screen\n      isFetching={isFetching}\n      footerWithGradient={isAnswerAllowed}\n    >\n      <Screen.Header backTo={Routes.Home}>\n        <div className={styles.header}>\n          <Title title={`Mission ${currentDay.dayNumber}`}/>\n          <div className={styles.headerActions}>\n            {currentTask?.areHintsAvailable && (\n              <Button\n                title=\"Hint\"\n                type={ButtonTypes.Dark}\n                onClick={() => fetchHint(currentDay.dayNumber, currentTask.id, currentTask.hints.length)}\n              />\n            )}\n            {isPrevPrivateTaskAvailable && (\n              <button className={styles.taskButton} onClick={() => {switchToPrevTask();}}>\n                <ArrowIcon className={classNames(styles.taskButtonIcon, styles.prevTaskButton)}/>\n              </button>\n            )}\n            {isNextPrivateTaskAvailable && (\n              <button className={styles.taskButton} onClick={() => {switchToNextTask();}}>\n                <ArrowIcon className={classNames(styles.taskButtonIcon, styles.nextTaskButton)}/>\n              </button>\n            )}\n          </div>\n        </div>\n      </Screen.Header>\n      <Screen.Content additionalClasses={styles.missionContent}>\n        <Task task={currentTask}/>\n      </Screen.Content>\n      {!isFetching && !isAnswerAllowed\n        ? null\n        : (\n          <Screen.Footer centered additionalClasses={styles.missionFooter}>\n            <Answer\n              answer={answer}\n              onChange={(event: ChangeEvent<HTMLInputElement>) => setAnswer(event.target.value)}\n              onSubmit={handleAnswerTask}\n              answerResult={answerTaskResult}\n              placeholder=\"Type your answer...\"\n            />\n          </Screen.Footer>\n        )}\n    </Screen>\n  );\n};\n","import React from 'react';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Panel} from '../../common/Panel.components';\r\nimport {ReactComponent as CompletedIcon} from '../../images/completed.svg';\r\nimport {Button, ButtonTypes} from '../../common/Button.component';\r\nimport {useMissionStore} from '../home/Mission.store';\r\n\r\nexport const MissionCompleted = () => {\r\n  const {markTeamTaskCompletionViewed, isMissionStoreFetching} = useMissionStore();\r\n\r\n  const handleContinue = () => {\r\n    markTeamTaskCompletionViewed();\r\n  };\r\n\r\n  return (\r\n    <Screen footerWithGradient isFetching={isMissionStoreFetching}>\r\n      <Screen.Content>\r\n        <Panel\r\n          icon={<CompletedIcon/>}\r\n          mainText=\"Daily mission completed!\"\r\n        />\r\n      </Screen.Content>\r\n      <Screen.Footer centered>\r\n        <Button\r\n          title=\"Continue\"\r\n          onClick={handleContinue}\r\n          type={ButtonTypes.Main}\r\n        />\r\n      </Screen.Footer>\r\n    </Screen>\r\n  );\r\n};\r\n\r\n","import React, {FC} from 'react';\r\nimport {useHistory, useLocation} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {StoryType, useStoryStore} from '../common/Story.store';\r\nimport {StoryScreen} from '../common/StoryScreen.component';\r\n\r\nexport const MissionStory: FC = () => {\r\n  const history = useHistory();\r\n  const location = useLocation<{dayNumber: number}>();\r\n  const {dailyStory, markDailyStoryViewed, isStoryStoreFetching} = useStoryStore(StoryType.Daily, location.state.dayNumber);\r\n\r\n  const handleStart = () => {\r\n    markDailyStoryViewed();\r\n  };\r\n\r\n  return (\r\n    <StoryScreen\r\n      pages={!dailyStory ? [] : dailyStory.pages}\r\n      isFetching={isStoryStoreFetching}\r\n      onStart={handleStart}\r\n      onClose={() => {history.push(Routes.Home);}}\r\n    />\r\n  );\r\n};\r\n","import React, {FC, lazy, Suspense} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport {Spinner} from '../../common/Spinner.component';\nimport {ReactComponent as CloseIcon} from '../../images/close.svg';\nimport styles from './VrTask.module.scss';\n\nconst VrScene = lazy(() => import('./VrScene.component'));\n\nexport const VrTask: FC = () => {\n  const history = useHistory();\n\n  return (\n    <div className={styles.vrTaskContainer}>\n      <Suspense fallback={<Spinner isLoading={true}/>}>\n        <button className={styles.closeButton} onClick={() => history.goBack()}>\n          <CloseIcon className={styles.closeButtonIcon}/>\n        </button>\n        <VrScene/>\n      </Suspense>\n    </div>\n  );\n};\n","import React, {FC} from 'react';\nimport styles from './ArTask.module.scss';\n\nconst hdConstraints = {\n  audio: false,\n  video: {\n    facingMode: 'environment',\n    width: window.screen.width,\n    height: window.screen.height,\n  }\n};\n\nexport const ArTask: FC = () => {\n  // const videoRef = useRef<HTMLVideoElement | null>(null);\n  // const contentRef = useRef<HTMLIFrameElement | null>(null);\n  //\n  // useEffect(() => {\n  //   const script = document.createElement('script');\n  //\n  //   script.src = '../../xr/ar/artoolkit.api';\n  //   script.async = true;\n  //\n  //   document.body.appendChild(script);\n  //\n  //   return () => {\n  //     document.body.removeChild(script);\n  //   };\n  // }, []);\n\n  // useEffect(() => {\n  //   // @ts-ignore\n  //   navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n  //   if (navigator.getUserMedia) {\n  //     navigator.getUserMedia(\n  //       hdConstraints,\n  //       successCallback,\n  //       () => console.log('error'),\n  //     );\n  //   }\n  //\n  //   const videoElement = videoRef.current;\n  //\n  //   return () => {\n  //     if (videoElement) {\n  //       const stream = videoElement.srcObject;\n  //       if (stream && stream instanceof MediaStream) {\n  //         const tracks = stream.getTracks();\n  //         tracks.forEach(track => track.stop());\n  //       }\n  //     }\n  //   };\n  // });\n  //\n  // const successCallback: NavigatorUserMediaSuccessCallback = (stream): void => {\n  //   startAR(videoRef.current, contentRef.current, stream);\n  // };\n\n  const videoSrc = 'https://player.vimeo.com/video/311983548';\n\n  return (\n    <div className={styles.arTaskContainer}>\n      ArTask 222\n      <div className={styles.arTaskFrameContainer}>\n        <iframe\n          className={styles.arTaskFrame}\n          title=\"vr-task\"\n          src={`${process.env.PUBLIC_URL}/ar_task/video.html?videoSrc=${videoSrc}`}\n        />\n      </div>\n      {/*<video className={styles.video} ref={videoRef}/>*/}\n      {/*<iframe*/}\n      {/*  style={{*/}\n      {/*    visibility: 'hidden',*/}\n      {/*    width: '300px',*/}\n      {/*    height: '300px',*/}\n      {/*  }}*/}\n      {/*  ref={contentRef}*/}\n      {/*  title=\"video_content\"*/}\n      {/*  src=\"https://player.vimeo.com/video/253989945?color=ef0800&title=0&byline=0&portrait=0\"*/}\n      {/*  allow=\"autoplay; fullscreen; picture-in-picture\"*/}\n      {/*  allowFullScreen*/}\n      {/*/>*/}\n    </div>\n  );\n};\n","import React, {FC, useState} from 'react';\r\nimport {useHistory, useLocation} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {InventoryItem} from '../../api/game.types';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Button, ButtonTypes} from '../../common/Button.component';\r\nimport {CarouselControls} from '../../common/CarouselControls.component';\r\nimport {ImageResource} from '../common/ImageResource.component';\r\nimport styles from './ReceivedInventories.module.scss';\r\n\r\nexport const ReceivedInventories: FC = () => {\r\n  const history = useHistory();\r\n  const [active, setActive] = useState(0);\r\n  const location = useLocation<{ inventories: Array<InventoryItem> }>();\r\n  const inventories = location.state.inventories;\r\n\r\n  const handleNext = () => {\r\n    if (active < inventories.length - 1) {\r\n      setActive(prev => prev + 1);\r\n    } else {\r\n      history.push(Routes.Mission);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Screen withoutHeader footerWithGradient={inventories.length === 1}>\r\n      <Screen.Content>\r\n        <div className={styles.title}>\r\n          Congrats!\r\n        </div>\r\n        <div className={styles.message}>\r\n          You have just unlocked the secret to the universe. That or just an item. Either way, keep it handy, useful it\r\n          will be.\r\n        </div>\r\n        <ImageResource url={inventories[active].resource} additionalClasses=\"verticalSpace\"/>\r\n        {inventories[active].name && <div>{inventories[active].name}</div>}\r\n      </Screen.Content>\r\n      <Screen.Footer centered>\r\n        {inventories.length > 1\r\n          ? (\r\n            <CarouselControls\r\n              items={inventories}\r\n              activeIndex={active}\r\n              setActiveIndex={setActive}\r\n              onLastItem={handleNext}\r\n              nextItemButtonTitle=\"Next\"\r\n              lastItemButtonTitle=\"Continue\"\r\n            />)\r\n          : (\r\n            <Button\r\n              title=\"Continue\"\r\n              type={ButtonTypes.Main}\r\n              onClick={handleNext}\r\n            />\r\n          )}\r\n      </Screen.Footer>\r\n    </Screen>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {StoryType, useStoryStore} from '../common/Story.store';\r\nimport {useGameStore} from '../Game.store';\r\nimport {StoryScreen} from '../common/StoryScreen.component';\r\n\r\nexport const FinalStory: FC = () => {\r\n  const history = useHistory();\r\n  const {gameState} = useGameStore();\r\n  const {finalStory, markFinalViewed, isStoryStoreFetching} = useStoryStore(StoryType.Final);\r\n\r\n  const handleStart = () => {\r\n    markFinalViewed();\r\n  };\r\n\r\n  return (\r\n    <StoryScreen\r\n      pages={!finalStory ? [] : finalStory.pages}\r\n      isFetching={isStoryStoreFetching}\r\n      onStart={handleStart}\r\n      onClose={gameState.isFinalStoryViewed ? () => history.push(Routes.Home) : undefined}\r\n    />\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Panel} from '../../common/Panel.components';\r\nimport {Button, ButtonTypes} from '../../common/Button.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {ReactComponent as CompletedIcon} from '../../images/completed.svg';\r\nimport {useQuestionnaireStore} from './Questionnaire.store';\r\nimport styles from './FinalPage.module.scss';\r\n\r\nexport const FinalPage: FC = () => {\r\n  const {feedbackForm, markFinalPageViewed, isQuestionnaireStoreFetching} = useQuestionnaireStore();\r\n\r\n  return (\r\n    <Screen footerWithActions isFetching={isQuestionnaireStoreFetching}>\r\n      <Screen.Header>\r\n        <Title title=\"\" onClose={markFinalPageViewed}/>\r\n      </Screen.Header>\r\n      <Screen.Content>\r\n        <Panel\r\n          icon={<CompletedIcon/>}\r\n          mainText=\"Mission completed!\"\r\n          additionalText=\"Today you made a piece of history. Together you are unstoppable and can create legends. Thank you! How was it for you? Fill out the form below to let us know about your experience with the quest.\"\r\n        />\r\n      </Screen.Content>\r\n      <Screen.Footer>\r\n        <Button\r\n          title=\"Rate experience\"\r\n          type={ButtonTypes.Secondary}\r\n          additionalClasses={styles.rateButton}\r\n          onClick={() => {\r\n            window.open(feedbackForm);\r\n          }}\r\n        />\r\n      </Screen.Footer>\r\n    </Screen>\r\n  );\r\n};\r\n","import {useMutation, useQuery, useQueryClient} from 'react-query';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {Routes} from '../../app/routes';\r\nimport {finalPageViewedRequest, finalQuestionnaireRequest} from '../../api/Game.api';\r\n\r\ninterface QuestionnaireStore {\r\n  readonly isQuestionnaireStoreFetching: boolean;\r\n  readonly feedbackForm: string;\r\n  readonly markFinalPageViewed: () => void;\r\n}\r\n\r\nexport const useQuestionnaireStore = (): QuestionnaireStore => {\r\n  const history = useHistory();\r\n  const queryClient = useQueryClient();\r\n  const {data, isFetching} = useQuery<string>('final-questionnaire', finalQuestionnaireRequest, {\r\n    staleTime: Infinity,\r\n  });\r\n  const markFinalPageViewedMutation = useMutation(finalPageViewedRequest, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('game');\r\n      history.push(Routes.Home);\r\n    },\r\n  });\r\n\r\n  const markFinalPageViewed = () => {\r\n    markFinalPageViewedMutation.mutate();\r\n  };\r\n\r\n  return {\r\n    isQuestionnaireStoreFetching: isFetching,\r\n    feedbackForm: data || '',\r\n    markFinalPageViewed\r\n  };\r\n};\r\n","import React from 'react';\r\nimport {Routes} from '../../app/routes';\r\nimport {StoryType, useStoryStore} from '../common/Story.store';\r\nimport {Screen} from '../../common/Screen.component';\r\nimport {Title} from '../../common/Title.component';\r\nimport {ImageResource} from '../common/ImageResource.component';\r\nimport {Button, ButtonTypes} from '../../common/Button.component';\r\n\r\nexport const FinalEvent = () => {\r\n  const {finalEvent, isStoryStoreFetching} = useStoryStore(StoryType.FinalEvent);\r\n\r\n  if (!finalEvent) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Screen isFetching={isStoryStoreFetching}>\r\n      <Screen.Header backTo={Routes.Home}>\r\n        <Title title=\"Final Mission\"/>\r\n      </Screen.Header>\r\n      <Screen.Content>\r\n        <div className=\"verticalSpace\">\r\n          {finalEvent.text}\r\n        </div>\r\n        <ImageResource url={finalEvent.resource} additionalClasses=\"verticalSpace\"/>\r\n        <div className=\"centerContent\">\r\n          <Button\r\n            title=\"Go to details\"\r\n            type={ButtonTypes.Main}\r\n            onClick={() => window.open(finalEvent?.externalLink)}\r\n          />\r\n        </div>\r\n      </Screen.Content>\r\n    </Screen>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo512.3c37cbc3.png\";","import React, {FC} from 'react';\r\nimport LogoImg from '../images/logo512.png';\r\nimport styles from './Install.module.scss';\r\n\r\nexport const Install: FC = () => {\r\n  return (\r\n    <div className={styles.install}>\r\n      <div className={styles.installContent}>\r\n        <div className={styles.icon}>\r\n          <img className={styles.iconImg} src={LogoImg} alt=\"\"/>\r\n        </div>\r\n        <h1 className={styles.title}>Youre just two taps away.</h1>\r\n        <div>\r\n          <p>For the best experience add the app to your home screen.</p>\r\n          <h3>For iOS users:</h3>\r\n          <ol>\r\n            <li>Open this website in Safari.</li>\r\n            <li>Tap the Share button.</li>\r\n            <li>Scroll down and tap Add to Home Screen.</li>\r\n            <li>Tap add button in the top right corner.</li>\r\n            <li>Done, the app is on your home screen!</li>\r\n          </ol>\r\n          <h3>For Android users:</h3>\r\n          <ol>\r\n            <li>Open this website in Chrome.</li>\r\n            <li>Tap menu (3 dots)</li>\r\n            <li>Tap Install app</li>\r\n            <li>Done, the app is on your home screen!</li>\r\n            <br/>\r\n            <p>(Alternatively, wait for a few seconds for the installation pop-up to come up on the bottom of\r\n              the screen\r\n              and tap there)\r\n            </p>\r\n          </ol>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\n\r\nexport const NotFound: FC = () => {\r\n  return (\r\n    <div>\r\n      <h1>Not Found</h1>\r\n    </div>\r\n  );\r\n};\r\n","import React, {FC} from 'react';\r\nimport {RouteProps} from 'react-router';\r\nimport {Redirect, Route } from 'react-router-dom';\r\nimport {getAccessToken} from '../lib/token';\r\nimport {isSignedUp} from '../lib/storage';\r\nimport {Routes} from './routes';\r\n\r\nexport const ProtectedRoute: FC<RouteProps> = (props) => {\r\n  if (getAccessToken()) {\r\n    return <Route {...props}/>;\r\n  } else {\r\n    return <Redirect to={isSignedUp() ? Routes.Login : Routes.Signup}/>;\r\n  }\r\n};\r\n","import React, {FC, useEffect} from 'react';\nimport {useLocation} from 'react-router-dom';\nimport {History} from 'history';\nimport {Routes, routesToTimeTrack} from './routes';\nimport {getAccessToken} from '../lib/token';\nimport {TrackingType, useTimeTrackingStore} from '../pages/common/TimeTracking.store';\n\ninterface TimeTrackerProps {\n  history: History;\n}\n\nexport const TimeTracker: FC<TimeTrackerProps> = ({history}) => {\n  const {pathname} = useLocation();\n  const {isTrackingEnabled, setIsTrackingEnabled} = useTimeTrackingStore(TrackingType.TotalTime);\n\n  useEffect(() => {\n    if (!isTrackingEnabled && routesToTimeTrack.includes(pathname as Routes)) {\n      setIsTrackingEnabled(!!getAccessToken());\n    }\n\n    return history.listen((location) => {\n      if (!isTrackingEnabled && routesToTimeTrack.includes(location.pathname as Routes)) {\n        setIsTrackingEnabled(!!getAccessToken());\n      }\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pathname]);\n\n  return (\n    <div style={{display: 'hidden'}}/>\n  );\n};\n","import React, {FC} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport {History} from 'history';\nimport {AppProviders} from './AppProviders.component';\nimport {Login} from '../pages/auth/Login.component';\nimport {Signup} from '../pages/auth/Signup.component';\nimport {Game} from '../pages/Game.component';\nimport {Personalize} from '../pages/onboarding/Personalize.components';\nimport {TeamComposition} from '../pages/onboarding/TeamComposition.component';\nimport {Checkin} from '../pages/onboarding/Checkin.component';\nimport {MainStory} from '../pages/onboarding/MainStory.component';\nimport {Profile} from '../pages/profile/Profile.component';\nimport {ChangeAvatar} from '../pages/profile/ChangeAvatar.component';\nimport {TeamProfile} from '../pages/profile/TeamProfile.component';\nimport {Contact} from '../pages/contact/Contact.component';\nimport {Home} from '../pages/home/Home.component';\nimport {InventoryDetails} from '../pages/home/InventoryDetails.component';\nimport {Mission} from '../pages/mission/Mission.component';\nimport {MissionCompleted} from '../pages/mission/MissionCompleted.component';\nimport {MissionStory} from '../pages/mission/MissionStory.component';\nimport {VrTask} from '../pages/mission/VrTask.component';\nimport {ArTask} from '../pages/mission/ArTask.component';\nimport {ReceivedInventories} from '../pages/mission/ReceivedInventories.component';\nimport {FinalStory} from '../pages/finishing/FinalStory.component';\nimport {FinalPage} from '../pages/finishing/FinalPage.component';\nimport {FinalEvent} from '../pages/finishing/FinalEvent.component';\nimport {Install} from '../pages/Install.component';\nimport {NotFound} from '../pages/NotFound.component';\nimport {Routes} from './routes';\nimport {ProtectedRoute} from './ProtectedRoute';\nimport {TimeTracker} from './TimeTracker.component';\n\ninterface AppProps {\n  history: History;\n}\n\nexport const App: FC<AppProps> = ({history}) => {\n  return (\n    <AppProviders history={history}>\n      <TimeTracker history={history}/>\n      <Switch>\n        <Route exact path={Routes.Login} component={Login}/>\n        <Route exact path={Routes.Signup} component={Signup}/>\n        <ProtectedRoute exact path={Routes.Game} component={Game}/>\n        <ProtectedRoute exact path={Routes.Home} component={Home}/>\n        <ProtectedRoute exact path={Routes.Profile} component={Profile}/>\n        <ProtectedRoute exact path={Routes.ProfileChangeAvatar} component={ChangeAvatar}/>\n        <ProtectedRoute exact path={Routes.ProfileTeam} component={TeamProfile}/>\n        <ProtectedRoute exact path={Routes.Contact} component={Contact}/>\n        <ProtectedRoute exact path={Routes.OnboardingPersonalize} component={Personalize}/>\n        <ProtectedRoute exact path={Routes.OnboardingCheckIn} component={Checkin}/>\n        <ProtectedRoute exact path={Routes.OnboardingTeam} component={TeamComposition}/>\n        <ProtectedRoute exact path={Routes.OnboardingMainStory} component={MainStory}/>\n        <ProtectedRoute exact path={Routes.Mission} component={Mission}/>\n        <ProtectedRoute exact path={Routes.MissionCompleted} component={MissionCompleted}/>\n        <ProtectedRoute exact path={Routes.MissionStory} component={MissionStory}/>\n        <ProtectedRoute exact path={Routes.VrTask} component={VrTask}/>\n        <ProtectedRoute exact path={Routes.ArTask} component={ArTask}/>\n        <ProtectedRoute exact path={Routes.InventoryDetails} component={InventoryDetails}/>\n        <ProtectedRoute exact path={Routes.ReceivedInventories} component={ReceivedInventories}/>\n        <ProtectedRoute exact path={Routes.FinalStory} component={FinalStory}/>\n        <ProtectedRoute exact path={Routes.FinalPage} component={FinalPage}/>\n        <ProtectedRoute exact path={Routes.FinalEvent} component={FinalEvent}/>\n        <Route exact path=\"/\" component={Install}/>\n        <Route path=\"*\" component={NotFound}/>\n      </Switch>\n    </AppProviders>\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // eslint-disable-next-line no-console\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      // eslint-disable-next-line no-console\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        // eslint-disable-next-line no-console\n        console.error(error.message);\n      });\n  }\n}\n","import axios from 'axios';\nimport {History} from 'history';\nimport {clearTokens, getAccessToken, getRefreshToken, isTokensStoredInCookies, storeTokens} from '../lib/token';\nimport {refreshTokenRequest} from '../api/Auth.api';\nimport {Routes} from './routes';\n\nexport const setupInterceptors = (history: History) => {\n  axios.interceptors.request.use(requestConfig => {\n    if (requestConfig.url?.includes('wikiart')) {\n      return requestConfig;\n    }\n    const token = getAccessToken();\n    if (token) {\n      requestConfig.headers = {\n        ...requestConfig.headers,\n        'x-access-token': token,\n      };\n    }\n    return requestConfig;\n  });\n\n  axios.interceptors.response.use(\n    response => response,\n    error => {\n      if (error.response.status === 401) {\n        const originalRequest = error.config;\n        refreshTokenRequest(getAccessToken(), getRefreshToken())\n          .then(tokens => {\n            const shouldStoreTokens = isTokensStoredInCookies();\n            clearTokens();\n            storeTokens(tokens, shouldStoreTokens);\n            return axios(originalRequest);\n          })\n          .catch(error => {\n            clearTokens();\n            history.push(Routes.Login);\n            return Promise.reject(error);\n          });\n      }\n      return Promise.reject(error);\n    },\n  );\n};\n","import axios from 'axios';\r\nimport {History} from 'history';\r\nimport {setupInterceptors} from './app/setupInterceptors';\r\nimport {setupDayJs} from './app/setupDayJs';\r\n\r\nexport const setupApp = (history: History) => {\r\n  const protocol = process.env.REACT_APP_API_PROTOCOL;\r\n  const host = process.env.REACT_APP_API_HOST;\r\n  const port = process.env.REACT_APP_API_PORT;\r\n  const path = process.env.REACT_APP_API_PATH;\r\n\r\n  axios.defaults.baseURL = `${protocol}://${host}:${port}${path}`;\r\n\r\n  setupInterceptors(history);\r\n  setupDayJs();\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {createBrowserHistory} from 'history';\nimport {App} from './app/App.component';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport {setupApp} from './setupApp';\nimport './styles/common.scss';\n\nconst history = createBrowserHistory();\nsetupApp(history);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App history={history}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n","import dayjs from 'dayjs';\r\nimport localeData from 'dayjs/plugin/localeData';\r\nimport localizedFormat from 'dayjs/plugin/localizedFormat.js';\r\n// @ts-ignore\r\nimport dayjsPluginUTC from 'dayjs-plugin-utc';\r\n\r\nexport const setupDayJs = () => {\r\n  dayjs.extend(localeData);\r\n  dayjs.extend(localizedFormat);\r\n  dayjs.extend(dayjsPluginUTC, {parseToLocal: true});\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inventoryList\":\"InventoryList_inventoryList__19x9X\",\"noInventoryMessage\":\"InventoryList_noInventoryMessage__3tbP6\",\"inventoryWrapper\":\"InventoryList_inventoryWrapper__P_3RA\",\"inventoryItems\":\"InventoryList_inventoryItems__tdEUe\",\"inventoryPlaceholder\":\"InventoryList_inventoryPlaceholder__3u67c\",\"inventoryItem\":\"InventoryList_inventoryItem__tewi_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textInput\":\"TextInput_textInput__xs-Pf\",\"hasErrors\":\"TextInput_hasErrors__1jWxy\",\"disabled\":\"TextInput_disabled__3IdkR\",\"password\":\"TextInput_password__3RySt\",\"inputContainer\":\"TextInput_inputContainer__B2MmA\",\"passwordIcon\":\"TextInput_passwordIcon__hGGmA\",\"addonAfter\":\"TextInput_addonAfter__sa8hI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarIcon\":\"AvatarIcon_avatarIcon__20UVC\",\"round\":\"AvatarIcon_round__1NPY6\",\"roundBig\":\"AvatarIcon_roundBig__Rcepa\",\"square\":\"AvatarIcon_square__3qBVn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"urlButton\":\"TaskResource_urlButton__T95qs\",\"videoWrapper\":\"TaskResource_videoWrapper__h9wkM\",\"imageWrapper\":\"TaskResource_imageWrapper__1q61_\",\"videoIframe\":\"TaskResource_videoIframe__1Uzzb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carouselControls\":\"CarouselControls_carouselControls__1NM04\",\"carouselDots\":\"CarouselControls_carouselDots__3LcTJ\",\"carouselDot\":\"CarouselControls_carouselDot__3kza4\",\"activeDot\":\"CarouselControls_activeDot__2d8iT\",\"carouselButtons\":\"CarouselControls_carouselButtons__28M9e\",\"carouselButton\":\"CarouselControls_carouselButton__1En6f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameInfo\":\"GameInfo_gameInfo__35wQL\",\"teamInfo\":\"GameInfo_teamInfo__mTeTO\",\"teamName\":\"GameInfo_teamName__1XwK3\",\"teamMembers\":\"GameInfo_teamMembers__1EHei\",\"gtIcon\":\"GameInfo_gtIcon__7YV_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"answerContainer\":\"Answer_answerContainer__3o7HL\",\"answerInput\":\"Answer_answerInput__2_6z7\",\"correctAnswerInput\":\"Answer_correctAnswerInput__3F6rr\",\"answerButton\":\"Answer_answerButton__254zC\",\"answerButtonIcon\":\"Answer_answerButtonIcon__B31D6\",\"correctButtonIcon\":\"Answer_correctButtonIcon__1CyCM\"};","import axios from 'axios';\n\nexport const getAvatars = () =>\n  axios.get('/resources/avatars')\n    .then(({data}) => data.resources)\n    .catch(error => {\n      throw error.response.data;\n    });\n\nexport const getAvatarRequest = (avatar: string) =>\n  axios.get(`/resources/avatars/${filenameFromUrl(avatar)}`, {responseType: 'blob'})\n    .then(({data}) => data)\n    .catch(error => {\n      throw error.response.data;\n    });\n\nexport const getImageRequest = (imageUrl: string) =>\n  axios.get(`/resources/images/${filenameFromUrl(imageUrl)}`, {responseType: 'blob'})\n  // axios.get(imageUrl, {responseType: 'blob'})\n    .then(({data}) => data)\n    .catch(error => {\n      throw error.response.data;\n    });\n\nconst filenameFromUrl = (url: string): string | undefined => url.split('/').pop();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleContainer\":\"Title_titleContainer__3UzAP\",\"icon\":\"Title_icon__29s9c\",\"title\":\"Title_title__IYizr\",\"closeButton\":\"Title_closeButton__66YTD\",\"closeIcon\":\"Title_closeIcon__14gm4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxContainer\":\"Checkbox_checkboxContainer__1RtOQ\",\"checkbox\":\"Checkbox_checkbox__1V-IG\",\"nativeCheckbox\":\"Checkbox_nativeCheckbox__3RMl1\",\"label\":\"Checkbox_label__2xkgf\",\"hasErrors\":\"Checkbox_hasErrors__7ZBrT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inventoryItems\":\"DailyInventoryItems_inventoryItems__1gMPC\",\"inventory\":\"DailyInventoryItems_inventory__3Vpj1\",\"inventoryInfo\":\"DailyInventoryItems_inventoryInfo__2qznP\",\"inventoryTitle\":\"DailyInventoryItems_inventoryTitle__3xDTH\",\"inventoryName\":\"DailyInventoryItems_inventoryName__tNmDz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"install\":\"Install_install__Vtcr8\",\"installContent\":\"Install_installContent__Ld_ml\",\"icon\":\"Install_icon__3R9xC\",\"iconImg\":\"Install_iconImg__Wdony\",\"title\":\"Install_title__2MSIb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Tx3a\",\"main\":\"Button_main__1pcNb\",\"secondary\":\"Button_secondary__3KCKM\",\"dark\":\"Button_dark__3Ccjg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__3BGRz\",\"error\":\"Message_error__19ghv\",\"warning\":\"Message_warning__3L1do\",\"info\":\"Message_info__14vOb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Team_player__1CCTG\",\"playerInfo\":\"Team_playerInfo__2PA1m\",\"nickname\":\"Team_nickname__24USy\",\"email\":\"Team_email__FZVYp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Panel_content__fd9Z4\",\"icon\":\"Panel_icon__1k0Wi\",\"title\":\"Panel_title__1tVqG\",\"text\":\"Panel_text__1cS74\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileAvatarContainer\":\"Profile_profileAvatarContainer__15F5Z\",\"profileAvatar\":\"Profile_profileAvatar__3soYd\",\"passwordIcon\":\"Profile_passwordIcon__22Uvh\",\"changeButton\":\"Profile_changeButton__6Bwnd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Home_header__zrq3l\",\"gameName\":\"Home_gameName__c2AG9\",\"headerActions\":\"Home_headerActions__2Kbws\",\"helpButton\":\"Home_helpButton__3TktN\"};","import React, {FC} from 'react';\nimport classNames from 'classnames';\nimport styles from './Spinner.module.scss';\n\ninterface SpinnerProps {\n  isLoading: boolean;\n}\n\nexport const Spinner: FC<SpinnerProps> = ({isLoading}) => {\n  return (\n    <div className={classNames(\n      styles.spinner, {\n        [styles.hiddenSpinner]: !isLoading,\n      })}\n    >\n      <div className={styles.rings}>\n        <div className={classNames(styles.ring, styles.ring1)}/>\n        <div className={classNames(styles.ring, styles.ring2)}/>\n        <div className={classNames(styles.ring, styles.ring3)}/>\n        <div className={classNames(styles.ring, styles.ring4)}/>\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"additionalInfo\":\"Signup_additionalInfo__2qX2-\",\"info\":\"Signup_info__3mu8E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"vrTaskContainer\":\"VrTask_vrTaskContainer__n1tHC\",\"closeButton\":\"VrTask_closeButton__2ifEL\",\"closeButtonIcon\":\"VrTask_closeButtonIcon__1SQXD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arTaskContainer\":\"ArTask_arTaskContainer__2PaDd\",\"video\":\"ArTask_video__2nVIy\",\"arTaskFrameContainer\":\"ArTask_arTaskFrameContainer__1rQ9I\",\"arTaskFrame\":\"ArTask_arTaskFrame__2O-5l\"};"],"sourceRoot":""}